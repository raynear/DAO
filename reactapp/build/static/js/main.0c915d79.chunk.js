(this.webpackJsonpreactapp=this.webpackJsonpreactapp||[]).push([[0],{106:function(e,t,a){"use strict";function n(e){var t=[];return e.split("/").forEach((function(e){var a=parseInt(e,10);isNaN(a)||(e.length>1&&"'"===e[e.length-1]&&(a+=2147483648),t.push(a))})),t}function r(e,t){return Promise.resolve().then((function(){return function e(a,n,r){return a>=n.length?r:t(n[a],a).then((function(t){return r.push(t),e(a+1,n,r)}))}(0,e,[])}))}function l(e){return btoa((e.match(/\w{2}/g)||[]).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""))}a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return l}))},173:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return o}));var n=a(68),r=a(48),l=a(106),o=function(){function t(e){Object(n.a)(this,t),this.transport=void 0,this.transport=e,e.decorateAppAPIMethods(this,["getAddress","signTransaction","getAppConfiguration","setTestPrivateKey"],"ICON")}return Object(r.a)(t,[{key:"getAddress",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Object(l.c)(t),o=new e(1+4*r.length);return o[0]=r.length,r.forEach((function(e,t){o.writeUInt32BE(e,1+4*t)})),this.transport.send(224,2,a?1:0,n?1:0,o).then((function(e){var t={publicKey:"",address:"",chainCode:""},a=e[0];t.publicKey=e.slice(1,1+a).toString("hex");var r=e[1+a];return t.address=e.slice(1+a+1,1+a+1+r),n&&(t.chainCode=e.slice(-32).toString("hex")),t}))}},{key:"signTransaction",value:function(t,a){for(var n,r=this,o=Object(l.c)(t),i=0,c=new e(a),s=[],m=function(){var t=0===i?149-4*o.length-4:150,a=i+t>c.length?c.length-i:t,n=new e(0===i?1+4*o.length+4+a:a);0===i?(n[0]=o.length,o.forEach((function(e,t){n.writeUInt32BE(e,1+4*t)})),n.writeUInt32BE(c.length,1+4*o.length),c.copy(n,1+4*o.length+4,i,i+a)):c.copy(n,0,i,i+a),s.push(n),i+=a};i!==c.length;)m();return Object(l.a)(s,(function(e,t){return r.transport.send(224,4,0===t?0:128,0,e).then((function(e){n=e}))})).then((function(){var e={signedRawTxBase64:"",hashHex:""};return e.signedRawTxBase64=Object(l.b)(n.slice(0,65).toString("hex")),e.hashHex=n.slice(65,97).toString("hex"),e}))}},{key:"getAppConfiguration",value:function(){return this.transport.send(224,6,0,0).then((function(e){return{majorVersion:e[0],minorVersion:e[1],patchVersion:e[2]}}))}},{key:"setTestPrivateKey",value:function(t){for(var a=new e(32),n=0;n<t.length;n+=2)a[n/2]=parseInt(t.substr(n,2),16);return this.transport.send(224,255,0,0,a).then()}}]),t}()}).call(this,a(145).Buffer)},201:function(e,t,a){},267:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANwAAADcCAIAAACUOFjWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhDMDVCMkYwMzdEOTExRTg4NzVFQjg3NTMxRDRGNTgxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjhDMDVCMkYxMzdEOTExRTg4NzVFQjg3NTMxRDRGNTgxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OEMwNUIyRUUzN0Q5MTFFODg3NUVCODc1MzFENEY1ODEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OEMwNUIyRUYzN0Q5MTFFODg3NUVCODc1MzFENEY1ODEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz435/dFAAAfzklEQVR42uxd268k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"},268:function(e,t,a){e.exports=a.p+"static/media/twitter.5ea6efea.png"},270:function(e,t,a){e.exports=a.p+"static/media/Logo_horizon.72fe37e4.png"},316:function(e,t,a){e.exports=a(761)},328:function(e,t,a){},761:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(25),o=a.n(l),i=a(11),c=a.n(i),s=a(19),m=a(29),d=a(272),u=a(39),p=a(76),g=a(169),h=a.n(g),E=a(21),v=a(35),f=a(28),b=a.n(f);function x(){var e=Object(v.a)(["\nquery {\n  viewer{\n    username\n    iconAddress\n    isPrep\n  }\n}\n"]);return x=function(){return e},e}function w(){var e=Object(v.a)(["\nquery {\n  viewer @client {\n    username\n    iconAddress\n    isPrep\n  }\n}\n"]);return w=function(){return e},e}function y(){var e=Object(v.a)(["\nmutation RefreshToken($token:String!) {\n  refreshToken(token:$token) {\n    token\n  }\n}\n"]);return y=function(){return e},e}function S(){var e=Object(v.a)(["\nmutation Finalize($Proposer:String!, $ProposalID:Int!){\n  finalize(proposer:$Proposer, proposalId:$ProposalID){\n    proposal{\n      id\n      status\n      subject\n    }\n  }\n}\n"]);return S=function(){return e},e}function O(){var e=Object(v.a)(["\nmutation AddIconAddress($IconAddress:String!){\n  addIconAddress(iconAddress:$IconAddress){\n    user{\n      username\n      iconAddress\n    }\n  }\n}\n"]);return O=function(){return e},e}function j(){var e=Object(v.a)(["\nmutation SetPRep($Address: String!) {\n  setPrep(iconAddress:$Address) {\n    prep{\n      id\n      username\n      iconAddress\n      isPrep\n    }\n  }\n}\n"]);return j=function(){return e},e}function P(){var e=Object(v.a)(["\nquery Proposals($selectedPRep:String, $first: Int, $end: Int) {\n  proposals(prep:$selectedPRep, first: $first, end: $end) {\n    id\n    status\n    subject\n    prep{\n      id\n      username\n    }\n    prepPid\n    contents\n    selectitemmodelSet {\n      contents\n      votemodelSet{\n        id\n        select {\n          id\n        }\n        voter {\n          id\n          username\n        }\n      }\n    }\n  }\n}\n"]);return P=function(){return e},e}function k(){var e=Object(v.a)(["\nquery Proposal4Edit($id: Int!) {\n  proposal(id: $id) {\n    id\n    prep{\n      id\n      username\n    }\n    status\n    subject\n    contents\n    published\n    expireAt\n    electoralTh\n    winningTh\n    selectitemmodelSet {\n      id\n      index\n      contents\n    }\n  }\n  viewer{\n    username\n    iconAddress\n    isPrep\n  }\n}\n"]);return k=function(){return e},e}function N(){var e=Object(v.a)(["\nquery {\n  allPrep{\n    id\n    username\n    iconAddress\n  }\n}\n"]);return N=function(){return e},e}function C(){var e=Object(v.a)(["\nmutation Logout {\n  logout {\n    noop\n  }\n}\n"]);return C=function(){return e},e}function I(){var e=Object(v.a)(["\nmutation SetUser($username: String!, $password: String!) {\n  setUser(username: $username, password: $password) {\n    user {\n      username\n      email\n    }\n  }\n}\n"]);return I=function(){return e},e}function A(){var e=Object(v.a)(["\nquery {\n  snack @client {\n    message\n    open\n  }\n}\n"]);return A=function(){return e},e}function D(){var e=Object(v.a)(["\nmutation TokenAuth($username: String!, $password: String!) {\n  tokenAuth(username: $username, password: $password) {\n    token\n    refreshToken\n  }\n}\n"]);return D=function(){return e},e}function T(){var e=Object(v.a)(["\nmutation VoteProposal($proposer:String!, $proposalId: Int!, $selectItemIndex: Int!) {\n  voteProposal(proposer:$proposer, proposalId: $proposalId, selectItemIndex: $selectItemIndex) {\n    proposal {\n      id\n      status\n      subject\n      contents\n      published\n      electoralTh\n      winningTh\n      expireAt\n      selectitemmodelSet {\n        index\n        contents\n        votemodelSet {\n          voter {\n            username\n          }\n        }\n      }\n    }\n  }\n}\n"]);return T=function(){return e},e}function R(){var e=Object(v.a)(["\nmutation PublishProposal($proposalId: Int!) {\n  publishProposal(proposalId: $proposalId) {\n    proposal {\n      id\n      status\n      subject\n      contents\n      published\n      electoralTh\n      winningTh\n      expireAt\n      selectitemmodelSet {\n        index\n        contents\n        votemodelSet {\n          voter {\n            username\n          }\n        }\n      }\n    }\n  }\n}\n"]);return R=function(){return e},e}function U(){var e=Object(v.a)(["\nmutation SetProposal(\n  $proposalId: Int\n  $subject: String!\n  $contents: String!\n  $published: Boolean!\n  $electoralTh: Int!\n  $winningTh: Int!\n  $expireAt: DateTime!\n  $selectItemList: [SelectItemInput]\n) {\n  setProposal(\n    proposalId: $proposalId\n    subject: $subject\n    contents: $contents\n    published: $published\n    electoralTh:$electoralTh\n    winningTh:$winningTh\n    expireAt: $expireAt\n    selectItemList: $selectItemList\n  ) {\n    proposal {\n      id\n      selectitemmodelSet {\n        id\n      }\n    }\n  }\n}\n"]);return U=function(){return e},e}function F(){var e=Object(v.a)(["\nquery Proposal($id: Int!) {\n  proposal(id: $id) {\n    id\n    prep{\n      id\n      username\n      iconAddress\n    }\n    status\n    subject\n    contents\n    published\n    expireAt\n    electoralTh\n    winningTh\n    prepPid\n    selectitemmodelSet {\n      id\n      index\n      contents\n      votemodelSet{\n        id\n        select {\n          id\n        }\n        voter {\n          id\n          username\n          iconAddress\n        }\n      }\n    }\n  }\n}\n"]);return F=function(){return e},e}var V=b()(F()),M=b()(U()),W=b()(R()),B=b()(T()),L=b()(D()),Z=b()(A()),G=b()(I()),Q=b()(C()),q=b()(N()),J=b()(k()),H=b()(P()),z=b()(j()),X=b()(O()),Y=(b()(S()),b()(y()),b()(w()),b()(x()));function K(){window.dispatchEvent(new CustomEvent("ICONEX_RELAY_REQUEST",{detail:{type:"REQUEST_ADDRESS"}}))}var _=a(70),$=a(847),ee=a(848),te=a(819),ae=a(799),ne=a(80),re=a(849),le=a(857),oe=a(271),ie=a(846),ce=a(3),se=a(13),me=a(30),de=a(247),ue=a(858),pe=Object(de.a)((function(e){return Object(ue.a)({card:{minWidth:275},avatar:{margin:10},bigAvatar:{margin:10,width:60,height:60},overflowHidden:{overflow:"hidden"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:18,flexGrow:1},link:{textDecoration:"none",color:"#000000"},pos:{marginBottom:12},formControl:{margin:e.spacing(0),minwidth:240},viewer:{height:"350px",overflow:"auto"},papercontainer:{spacing:e.spacing(0),margin:e.spacing(2),padding:e.spacing(0),overflow:"auto"},paper:{margin:e.spacing(1),padding:e.spacing(1),display:"flex",overflow:"auto",flexDirection:"column"},rootcontainer:{spacing:e.spacing(0),margin:"auto",padding:e.spacing(1),display:"flex",flexwrap:"wrap"},container:{spacing:e.spacing(0),margin:e.spacing(0),padding:e.spacing(0),display:"flex",alignItems:"center",flexwrap:"wrap"},grid:{margin:e.spacing(0),padding:e.spacing(0)},item:{margin:e.spacing(0),padding:e.spacing(1)},paddingSide:{margin:e.spacing(0),padding:e.spacing(0),paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},table:{minWidth:650},center:{textAlign:"center"},left:{textAlign:"left"},right:{textAlign:"right"},pagination:{flexShrink:0,marginLeft:e.spacing(2.5)},selectLabel:{margin:e.spacing(0),marginLeft:e.spacing(2)},textField:{margin:e.spacing(0),width:"100%"},root:{display:"flex"},toolbar:{paddingRight:24},noMarginPadding:{margin:0,padding:0},toolbarIcon:Object(me.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},margin:{margin:e.spacing(1)},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(se.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},fixedHeight:{height:600}})})),ge=a(763),he=a(249),Ee=a.n(he);a(328);var ve=function(e){var t=pe();return r.a.createElement(ae.a,{item:!0,className:t.grid,xs:12,md:12,lg:12},r.a.createElement(ge.a,{className:t.paper},r.a.createElement(ae.a,{container:!0,className:t.container},r.a.createElement(ae.a,{item:!0,className:t.paddingSide,xs:"auto",md:2,lg:2}),r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(t.paddingSide,t.center),xs:12,md:8,lg:8},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ne.a,{variant:"h4",color:"primary"},r.a.createElement("b",null,"Welcome to ICON VOTE")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ee.a,{url:"https://youtube.com/watch?v=UrkEUU3Zz_0",playing:!1,width:"100%"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ne.a,{variant:"h5",color:"textPrimary"}),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(ae.a,{item:!0,className:t.paddingSide,xs:"auto",md:2,lg:2}))))},fe=(a(330),a(331),a(332),a(170));function be(e){var t=r.a.createRef(),a=function(){var a=t.current.getInstance().getValue();e.onChange(a)};return e.onChange||(a=function(){}),r.a.createElement(fe.Editor,{initialValue:e.initialValue,previewStyle:e.previewStyle,height:e.height,initialEditType:e.initialEditType,useCommandShortcut:e.useCommandShortcut,exts:e.exts,ref:t,onChange:a})}function xe(e){return r.a.createElement(fe.Viewer,{initialValue:e.initialValue,height:e.height})}var we=function(e){var t=pe();return r.a.createElement(ae.a,{item:!0,className:t.grid,xs:12,md:12,lg:12},r.a.createElement(ge.a,{className:t.paper},r.a.createElement(ae.a,{container:!0,className:t.container},r.a.createElement(ae.a,{item:!0,className:t.paddingSide,xs:12,md:12,lg:12},r.a.createElement(xe,{initialValue:"\n# **Instructions for P-reps**\n\n*Create a P-rep page to propose votes to your own ICX delegators*\n\n#### Sign up\n\n1. Click \u201cJoin Now\u201d on the top right to sign up\n![https://icon.vote/static/img1.png](https://icon.vote/static/img1.png)\n2. Type in \u201cUsername\u201d and \u201cPassword\u201d to sign up\n3. Verify P-rep node ownership by signing a transaction from publicly known P-rep wallet\n    1. Click \u201cVerify ICON Address\u201d to sign a transaction\n    2. Click \u201cCheck Your Verified Address\u201d so that blockchain can confirm\n![https://icon.vote/static/img2.png](https://icon.vote/static/img2.png)\n\n#### Propose a vote\n\n1. Sign in as a P-rep with \u201cUsername\u201d and \u201cPassword\u201d\n2. \u201cLaunch new votes\u201d will appear for P-reps\n3. Click \u201cLaunch new votes\u201d\n![https://icon.vote/static/img4.png](https://icon.vote/static/img4.png)\n4. Click the \u201cNEW\u201d button to propose a vote\n5. Fill out the following information\n    1. Subject of the vote\n    2. Options for the vote\n    3. Description of the vote\n    4. Vote Duration\n    5. Participation Quorum (ex: vote needs 20%+ of ICX delegated to ICX Station to participate in the vote for the vote to be valid)\n    6. Minimum approval rate to pass (ex: option A needs 50%+ of votes to approve in order to pass)\n![https://icon.vote/static/img5.png](https://icon.vote/static/img5.png)\n6. The Draft page will appear. Please make sure to check the details and click \u201cPublish\u201d\n    1. Green graph shows \u201cQuorum requirement\u201d\n    2. Blue graph shows \u201cMinimum Approval Rate\u201d\n    3. \u201cTotal Delegation\u201d represents Total # of ICX delegated to the P-rep\n![https://icon.vote/static/img6.png](https://icon.vote/static/img6.png)\n7. The new vote will be recorded on the blockchain and the transaction can be found in the vote explorer under the P-rep\u2019s page\n8. Make sure to share the vote link to your community so that they can participate in the vote (Twitter, FB link available)\n![https://icon.vote/static/img7.png](https://icon.vote/static/img7.png)\n\n# **Instructions for ICX delegator**\n\n*How to Participate in a vote proposed by a P-rep*\n\n#### Sign up\n\n1. Click \u201cJoin Now\u201d on the top right to sign up\n![https://icon.vote/static/img8.png](https://icon.vote/static/img8.png)\n2. Type in \u201cUsername\u201d and \u201cPassword\u201d to sign up\n3. Verify ICX wallet ownership by signing a transaction from one\u2019s wallet\n    1. Click \u201cVerify ICON Address\u201d to sign a transaction\n    2. Click \u201cCheck Your Verified Address\u201d so that the blockchain can confirm\n![https://icon.vote/static/img9.png](https://icon.vote/static/img9.png)\n\n#### Participate in a vote\n\n1. Sign in as a user with \u201cUsername\u201d and \u201cPassword\u201d\n2. Click \u201cVote Explorer\u201d\n3. Click a P-rep one has delegated ICX to\n4. P-rep page will show votes\n    1. The P-rep page will also show total ICX delegated to the P-rep\n    2. The P-rep page will also show user\u2019s ICX delegated to the P-rep (voting power)\n5. Click a vote you would like to participate in\n6. Click an option you would like to vote for\n7. The following result page will show up\n    1. Red line on green bar shows \u201cQuorum requirement\u201d (ex: vote needs 20%+ of ICX delegated to ICX Station to participate in the vote for the vote to be valid)\n    2. Minimum approval rate to pass (ex: option A needs 50%+ of votes to approve in order to pass)\n    3. Total # of delegates: # of ICX delegated to the P-rep\n    4. Total # of votes: # of P-rep delegated ICX that participated in the vote\n    5. Your # of votes: # of user\u2019s ICX delegated to the P-rep\n    6. Votes will be recorded on the blockchain and shown at the bottom of the vote\n![https://icon.vote/static/img11.png](https://icon.vote/static/img11.png)\n"})))))},ye=a(9),Se=a(98),Oe=a.n(Se),je="https://tracker.icon.foundation/",Pe="cx2ec14b928b87ef5c1cbe0b9abda151ff088ba03c",ke=Pe,Ne=new Oe.a.HttpProvider("https://ctz.solidwallet.io/api/v3"),Ce=new Oe.a(Ne),Ie=Oe.a.IconBuilder,Ae=Oe.a.IconConverter,De=Oe.a.IconUtil,Te=Ce;function Re(e,t){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(s.a)(c.a.mark((function e(t,a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Ie.CallBuilder,r=n.to(ke).method(t).params(a).build(),e.next=4,Te.call(r).execute();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e,t,a){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(s.a)(c.a.mark((function e(t,a,n){var r,l,o,i,s,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Date,l=new Ie.CallTransactionBuilder,o=l.from(t).to(ke).nid(Ae.toBigNumber("1")).version(Ae.toBigNumber("3")).stepLimit(Ae.toBigNumber("10000000")).timestamp(1e3*r.valueOf()).method(a).params(n).build(),i=JSON.stringify({jsonrpc:"2.0",method:"icx_sendTransaction",params:Ae.toRawTransaction(o),id:0}),s=JSON.parse(i),m=new CustomEvent("ICONEX_RELAY_REQUEST",{detail:{type:"REQUEST_JSON-RPC",payload:s}}),window.dispatchEvent(m);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(e,t){return We.apply(this,arguments)}function We(){return(We=Object(s.a)(c.a.mark((function e(t,a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Ie.CallBuilder,r=n.to("cx0000000000000000000000000000000000000000").method(t).params(a).build(),e.next=4,Te.call(r).execute();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Be=a(824),Le=a(806),Ze=a(807),Ge=a(825),Qe=a(171),qe=a(173),Je=a(801),He=a(856),ze=a(809),Xe=a(810),Ye=a(811),Ke=a(812),_e=a(813),$e=a(814),et=a(815),tt=a(816),at=a(817),nt=a(853),rt=a(802),lt=a(803),ot=a(804),it=a(805);function ct(e){var t=pe(),a=e.page,n=e.onChangePage;return r.a.createElement("div",{className:t.root},r.a.createElement(Je.a,{onClick:function(e){n(e,0)},disabled:0===a,"aria-label":"first page"},r.a.createElement(rt.a,null)),r.a.createElement(Je.a,{onClick:function(e){n(e,a-1)},disabled:0===a,"aria-label":"previous page"},r.a.createElement(lt.a,null)),r.a.createElement(Je.a,{onClick:function(e){n(e,a+1)},"aria-label":"next page"},r.a.createElement(ot.a,null)),r.a.createElement(Je.a,{onClick:function(e){n(e,a+5)},"aria-label":"last page"},r.a.createElement(it.a,null)))}var st=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Le.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){e.setPage(0),e.setOpen(!0)},startIcon:r.a.createElement(Ze.a,null)},"Verify ICON Address(Ledger)"),r.a.createElement(He.a,{maxWidth:"lg","aria-labelledby":"confirmation-dialog-title",open:e.open,onClose:e.handleClose},r.a.createElement(ze.a,{id:"confirmation-dialog-title"},"Select Ledger Address"),r.a.createElement(Xe.a,{dividers:!0},r.a.createElement(Ye.a,{component:ge.a},r.a.createElement(Ke.a,null,r.a.createElement(_e.a,null,r.a.createElement($e.a,null,r.a.createElement(et.a,null,r.a.createElement(ne.a,{variant:"subtitle2",color:"textPrimary"},"#")),r.a.createElement(et.a,null,r.a.createElement(ne.a,{variant:"subtitle2",color:"textPrimary"},"Address")),r.a.createElement(et.a,null,r.a.createElement(ne.a,{variant:"subtitle2",color:"textPrimary"},"Balance")),r.a.createElement(et.a,null,r.a.createElement(ne.a,{variant:"subtitle2",color:"textPrimary"})))),r.a.createElement(tt.a,null,e.list.map((function(t,a){return r.a.createElement($e.a,{key:a},r.a.createElement(et.a,null,r.a.createElement(ne.a,{variant:"subtitle2",color:"textPrimary"},5*e.page+a+1)),r.a.createElement(et.a,null,r.a.createElement(ne.a,{variant:"body1",color:"textPrimary"},t.address)),r.a.createElement(et.a,null,r.a.createElement(ne.a,{variant:"body1",color:"textSecondary"},t.balance)),r.a.createElement(et.a,null,r.a.createElement(Le.a,{variant:"contained",color:"primary",onClick:function(){return e.selectAddress(t)}},"Verify")))}))),r.a.createElement(at.a,null,r.a.createElement($e.a,null,r.a.createElement(nt.a,{colSpan:2,rowsPerPage:5,rowsPerPageOptions:[5],page:e.page,count:-1,onChangePage:e.handleChangePage,ActionsComponent:ct}))))))))};var mt=function(e){var t=Object(n.useState)(!1),a=Object(ye.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(-1),m=Object(ye.a)(i,2),d=m[0],u=m[1],p=Object(n.useState)([]),g=Object(ye.a)(p,2),h=g[0],v=g[1],f=Object(E.a)();function b(e){return x.apply(this,arguments)}function x(){return(x=Object(s.a)(c.a.mark((function e(t){var a,n,r,l,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="44'/4801368'/0'/0'/"+t.toString()+"'",e.next=3,Qe.a.create();case 3:return(n=e.sent).setDebugMode(!1),n.setExchangeTimeout(6e4),r=new qe.a(n),e.prev=7,e.next=10,r.getAddress(a,!1,!0);case 10:return l=e.sent,i=l.address.toString(),e.next=14,Ce.getBalance(l.address.toString()).execute();case 14:s=e.sent,e.next=22;break;case 17:throw e.prev=17,e.t0=e.catch(7),u(-1),o(!1),new Error("Ledger Not Connected");case 22:return e.abrupt("return",{address:i,balance:s});case 23:case"end":return e.stop()}}),e,null,[[7,17]])})))).apply(this,arguments)}function w(){return(w=Object(s.a)(c.a.mark((function e(t){var a,n,r,l,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==t){e.next=2;break}return e.abrupt("return");case 2:v([]),a=[],n=5*t,r=5*t+5,e.prev=6,l=n;case 8:if(!(l<r)){e.next=16;break}return e.next=11,b(l);case 11:o=e.sent,a.push({index:l,address:o.address,balance:o.balance/Math.pow(10,18)});case 13:l++,e.next=8;break;case 16:v(a),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),alert("Please Connect Ledger");case 22:case"end":return e.stop()}}),e,null,[[6,19]])})))).apply(this,arguments)}function y(){return(y=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.query({query:Y}).then(function(){var e=Object(s.a)(c.a.mark((function e(a){var n,r,l,o,i,s,m,d,u,p,g,h,E,v,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="44'/4801368'/0'/0'/"+t.toString()+"'",e.next=3,Qe.a.create();case 3:return(r=e.sent).setDebugMode(!0),r.setExchangeTimeout(6e4),l=new qe.a(r),e.next=9,l.getAddress(n,!1,!0);case 9:return o=e.sent,i=o.address.toString(),s=new Date,m=new Ie.CallTransactionBuilder,d="verify",e.next=16,Ce.getBlock("latest").execute();case 16:return u=e.sent,p={_block_hash:u.blockHash,_id:a.data.viewer.username},g=m.from(i).to(Pe).nid(Ae.toBigNumber("1")).version(Ae.toBigNumber("3")).stepLimit(Ae.toBigNumber("10000000")).timestamp(1e3*s.valueOf()).method(d).params(p).build(),h=Ae.toRawTransaction(g),E=De.generateHashKey(h),e.next=23,l.signTransaction(n,E);case 23:v=e.sent,f=v.signedRawTxBase64,h.signature=f,Ce.sendTransaction({getProperties:function(){return h},getSignature:function(){return f}}).execute();case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(e){w.apply(this,arguments)}(d)}),[d]),r.a.createElement(st,{open:l,setOpen:o,list:h,page:d,setPage:u,handleClose:function(){o(!1)},selectAddress:function(t){o(!1),function(e){y.apply(this,arguments)}(t.index),alert("Please Sign Transaction on Your Ledger"),e.selectNotice(1)},handleChangePage:function(e,t){u(t)}})};var dt=function(e){var t=pe();function a(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{item:!0,className:t.item,xs:12,md:12,lg:12},r.a.createElement(ne.a,{variant:"h5",color:"textPrimary"},e.data.viewer.username)),r.a.createElement(ae.a,{item:!0,className:t.item,xs:12,md:12,lg:12},r.a.createElement(ne.a,{variant:"h6",color:"textPrimary"},"Verified Address: ",e.verifiedAddress)),r.a.createElement(ae.a,{className:t.item,item:!0,xs:12,md:12,lg:12},r.a.createElement(ne.a,{variant:"subtitle1",color:"textSecondary"},"Connected Address: ",e.connectedAddress)),r.a.createElement(ae.a,{className:t.item,item:!0,xs:12,md:12,lg:12},r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(ae.a,{className:t.item,item:!0,xs:12,md:12,lg:12},r.a.createElement(ne.a,{variant:"h6",color:"primary"},e.notice)),r.a.createElement(ae.a,{className:t.item,item:!0,xs:12,md:12,lg:12},r.a.createElement("br",null),r.a.createElement(Be.a,null),r.a.createElement("br",null)),r.a.createElement(ae.a,{container:!0,className:t.container},r.a.createElement(ae.a,{item:!0,className:t.item,xs:6,md:6,lg:6},r.a.createElement(Le.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:K,startIcon:r.a.createElement(Ze.a,null)},"Verify ICON Address(IconEX)")),r.a.createElement(ae.a,{item:!0,className:t.item,xs:6,md:6,lg:6},r.a.createElement(mt,{selectNotice:e.selectNotice}))),r.a.createElement(ae.a,{container:!0,className:t.container},r.a.createElement(ae.a,{item:!0,className:t.item,xs:12,md:12,lg:12},r.a.createElement(Le.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:e.callVerify,startIcon:r.a.createElement(Ge.a,null)},"Check and Register"))))}return e.loading?r.a.createElement("p",null,"Loading..."):e.error?r.a.createElement("p",null,"Error!:",e.error.message):e.data&&e.data.viewer.username?e.activeStep?r.a.createElement(a,null):r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(t.grid,t.center),xs:12,md:12,lg:12},r.a.createElement(ge.a,{className:Object(ce.a)(t.paper,t.center)},r.a.createElement(ae.a,{container:!0,className:Object(ce.a)(t.container,t.center)},r.a.createElement(a,null)))):r.a.createElement("p",null,"redirect")};var ut=function(e){var t=Object(E.a)(),a=[r.a.createElement(r.a.Fragment,null,"You need to verify your address",r.a.createElement("br",null),'Press"(1) VERIFY ICON ADDRESS" to verify.'),r.a.createElement(r.a.Fragment,null,"Your verify info is sent to SCORE",r.a.createElement("br",null),'Press"(2) CHECK AND REGISTER" to check & resigter.'),"You are verified as P-Rep","You are verified as User"],l=Object(n.useState)(a[0]),o=Object(ye.a)(l,2),i=o[0],m=o[1],d=Object(n.useState)(!1),u=Object(ye.a)(d,2),p=u[0],g=u[1],h=Object(n.useState)(""),v=Object(ye.a)(h,2),f=v[0],b=v[1],x=Object(n.useState)(!0),w=Object(ye.a)(x,2),y=w[0],S=w[1],O=Object(n.useState)(""),j=Object(ye.a)(O,2),P=j[0],k=j[1],N=Object(E.b)(z),C=Object(ye.a)(N,1)[0],I=Object(E.b)(X),A=Object(ye.a)(I,1)[0];function D(e){m(a[e])}function T(){return(T=Object(s.a)(c.a.mark((function e(){var t,a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re("get_verify_info_by_id",{_id:F.data.viewer.username});case 2:return t=e.sent,(a=JSON.parse(t)).address&&b(a.address),e.next=7,Me("getPReps",{startRanking:"0x1",endRanking:"0x60"});case 7:n=e.sent,r=0;case 9:if(!(r<n.preps.length)){e.next=19;break}if(n.preps[r].address!==a.address){e.next=16;break}return g(!0),R(a.address),D(2),e.abrupt("return");case 16:r++,e.next=9;break;case 19:a.address&&(U(a.address),D(3));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){C({variables:{Address:e}}).then((function(){t.writeData({data:{snack:{open:!0,message:"You Are Verified as P-Rep",__typename:"snack"}}})}))}function U(e){A({variables:{IconAddress:e}}).then((function(e){t.writeData({data:{snack:{open:!0,message:"You Are Verified as User!",__typename:"snack"}}})}))}y&&(S(!1),window.addEventListener("ICONEX_RELAY_RESPONSE",(function(e){var a,n=e.detail.type,r=e.detail.payload;"RESPONSE_SIGNING"===n||("RESPONSE_JSON-RPC"===n?D(1):"RESPONSE_ADDRESS"===n&&(a=r,t.query({query:Y}).then(function(){var e=Object(s.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getBlock("latest").execute();case 2:n=e.sent,r={_block_hash:n.blockHash,_id:t.data.viewer.username},Fe(a,"verify",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),k(r)))})));var F=Object(E.c)(Y);return r.a.createElement(dt,Object.assign({},F,{activeStep:e.activeStep,connectedAddress:P,newPRepPage:R,addIconAddress:U,callVerify:function(){return T.apply(this,arguments)},verifiedAddress:f,isPRep:p,notice:i,selectNotice:D}))},pt=a(823),gt=a(826),ht=a(764),Et=a(827),vt=a(830),ft=a(828),bt=a(829);var xt=function(e){var t=pe();if(e.loading)return r.a.createElement("p",null,"Loading...");if(e.error)return r.a.createElement("p",null,"Error...");var a=[];try{for(var n=0;n<e.data.allPrep.length;n++)for(var l=0;l<e.delegations.length;l++)e.data.allPrep[n].iconAddress===e.delegations[l].address&&a.push({username:e.data.allPrep[n].username,iconAddress:e.data.allPrep[n].iconAddress,isMyPRep:!0});for(var o=0;o<e.data.allPrep.length;o++){for(var i=!1,c=0;c<a.length;c++)e.data.allPrep[o].username===a[c].username&&(i=!0);i||a.push({username:e.data.allPrep[o].username,iconAddress:e.data.allPrep[o].iconAddress,isMyPRep:!1})}}catch(s){}return r.a.createElement(ae.a,{item:!0,className:t.grid,xs:12,md:12,lg:12},r.a.createElement(ge.a,{className:t.paper},r.a.createElement(ae.a,{container:!0,className:t.container},r.a.createElement(ae.a,{item:!0,className:t.paddingSide,xs:12,md:12,lg:12},r.a.createElement(pt.a,{component:"nav",subheader:r.a.createElement(gt.a,{component:"div"},"Select P-Rep")},a.map((function(t,a){return r.a.createElement(ht.a,{key:a,button:!0,onClick:function(){return e.handleClick(t.username)}},t.isMyPRep&&r.a.createElement(Et.a,null,r.a.createElement(ft.a,null)),!t.isMyPRep&&r.a.createElement(Et.a,null,r.a.createElement(bt.a,null)),r.a.createElement(vt.a,null,e.getPRepName(t.iconAddress)))})))))))};var wt=function(e){var t=Object(n.useState)(!1),a=Object(ye.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(!1),c=Object(ye.a)(i,2),s=c[0],m=c[1],d=Object(E.c)(q),u=Object(E.c)(Y);return u.data&&u.data.viewer&&u.data.viewer.username&&!l&&Re("get_verify_info_by_id",{_id:u.data.viewer.username}).then((function(e){Me("getDelegation",{address:JSON.parse(e).address}).then((function(e){o(e.delegations)}))})),s||Me("getPReps",{}).then((function(e){m(e.preps)})),r.a.createElement(xt,Object.assign({},d,{selectedPRep:e.selectedPRep,delegations:l,handleClick:function(t){e.history.push("/Proposals/"+t)},getPRepName:function(e){for(var t=0;t<s.length;t++)if(s[t].address===e)return s[t].name;return e}}))},yt=a(860),St=a(831),Ot=a(832),jt=a(833),Pt=a(131),kt=a.n(Pt);a(201);var Nt=function(e){var t=pe();return e.loading?r.a.createElement("p",null,"Loading..."):e.error?(console.log(e.error),r.a.createElement("p",null,"Error!")):r.a.createElement(ae.a,{item:!0,className:t.grid,xs:12,md:12,lg:12},r.a.createElement(ge.a,{className:t.paper},r.a.createElement(ae.a,{container:!0,className:t.container,spacing:0},r.a.createElement(ae.a,{item:!0,className:t.item,xs:12,lg:12},r.a.createElement(Le.a,{variant:"contained",color:"primary",onClick:function(){return e.createNewProposal()}},"New")),e.data.proposals.map((function(a,n){var l;return l="Approved"===a.status?r.a.createElement(St.a,null):"Voting"===a.status?r.a.createElement(Ot.a,null):r.a.createElement(jt.a,null),r.a.createElement(ae.a,{item:!0,className:t.item,key:n,xs:12,sm:6,md:4,lg:3},r.a.createElement(ge.a,{className:t.paper},r.a.createElement(yt.a,{icon:l,size:"small",label:a.status,color:"primary"}),r.a.createElement(ne.a,{className:t.title,color:"textSecondary",gutterBottom:!0},r.a.createElement("b",null,a.id,".")),r.a.createElement(ne.a,{variant:"h5",color:"textPrimary",gutterBottom:!0},r.a.createElement(m.b,{className:t.link,to:"/NoteProposal/"+e.pRep+"/"+a.id,color:"textPrimary"},a.subject)),r.a.createElement("ul",null,a.selectitemmodelSet.map((function(e,t){return r.a.createElement(ne.a,{variant:"h6",key:t,color:"textSecondary"},r.a.createElement("li",null,e.contents))})))))})),r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(t.item,t.center),xs:12,lg:12},r.a.createElement(kt.a,{activePage:e.activePage,itemsCountPerPage:e.itemPerPage,totalItemsCount:e.itemCount,pageRangeDisplayed:5,onChange:e.handlePageChange})))))};var Ct=function(e){var t=e.match.params.PRep,a=Object(n.useState)({first:0,end:10,total:0,page:12,currPage:0}),l=Object(ye.a)(a,2),o=l[0],i=l[1],c=Object(n.useState)({first:0,end:10,total:0,page:12,currPage:0}),s=Object(ye.a)(c,2),m=s[0],d=s[1],u=Object(n.useState)(1),p=Object(ye.a)(u,2),g=p[0],h=p[1],v=Object(n.useState)(!1),f=Object(ye.a)(v,2),b=f[0],x=f[1];b||(0===o.total&&Re("get_last_proposal_id",{_proposer:t}).then((function(e){i(Object(me.a)({},o,{total:parseInt(e)}))})),x(!0));var w=Object(E.c)(H,{fetchPolicy:"network-only",variables:{selectedPRep:t,first:o.first,end:o.end}});return r.a.createElement(Nt,Object.assign({},w,{pRep:t,values:o,filterValues:m,queryFilters:function(){i(m)},createNewProposal:function(){e.history.push("/EditProposal")},handleChange:function(e){return function(t){d(Object(me.a)({},m,Object(se.a)({},e,t.target.value)))}},activePage:g,itemPerPage:12,itemCount:1,handlePageChange:function(e){h(e)}}))},It=a(834),At=a(835),Dt=a(41);var Tt=function(e){var t,a=pe();return e.loading?r.a.createElement("p",null,"Loading..."):e.error?r.a.createElement("p",null,"Error!:"):(t="Approved"===e.data.proposal.status?r.a.createElement(St.a,null):"Voting"===e.data.proposal.status?r.a.createElement(Ot.a,null):r.a.createElement(jt.a,null),r.a.createElement(ae.a,{item:!0,className:a.grid,xs:12,md:12,lg:12},r.a.createElement(ge.a,{className:a.paper},r.a.createElement(Le.a,{variant:"outlined",color:"primary",onClick:e.back,style:{width:"200px",float:"right"},startIcon:r.a.createElement(At.a,null)},"Back")),r.a.createElement(ge.a,{className:a.paper},r.a.createElement(ae.a,{container:!0,className:a.container},r.a.createElement(ae.a,{item:!0,className:a.paddingSide,xs:12,md:12,lg:12},r.a.createElement(yt.a,{icon:t,size:"small",label:e.data.proposal.status,color:"primary"}),"  ",r.a.createElement(ne.a,{className:a.title,variant:"body1",color:"textSecondary",gutterBottom:!0},r.a.createElement("b",null,e.data.proposal.ID,"."))),r.a.createElement(ae.a,{item:!0,className:a.paddingSide,xs:12,md:12,lg:12},r.a.createElement("div",{className:a.right},r.a.createElement("div",{style:{float:"left"}},r.a.createElement(ne.a,{variant:"h4",color:"textPrimary",gutterBottom:!0},r.a.createElement("b",null,e.data.proposal.subject," "))))),r.a.createElement(ae.a,{item:!0,className:a.paddingSide,xs:12,md:12,lg:12},r.a.createElement(ne.a,{variant:"body1",color:"textPrimary"},"Proposer : ",e.data.proposal.prep.username),r.a.createElement(ne.a,{variant:"body1",color:"textPrimary"},"Ending time : ",new Date(e.data.proposal.expireAt).toString())),r.a.createElement(ae.a,{item:!0,className:a.paddingSide,xs:12,md:12,lg:12},r.a.createElement("br",null),r.a.createElement(Be.a,{variant:"fullWidth"}),r.a.createElement("br",null)),r.a.createElement(ae.a,{item:!0,className:a.paddingSide,xs:12,md:12,lg:12},r.a.createElement(ne.a,{variant:"caption",color:"textSecondary"},"Thresholds")),r.a.createElement(ae.a,{item:!0,className:a.paddingSide,xs:12,md:8,lg:8},r.a.createElement(Dt.b,{width:600,height:80,data:[{name:"Thresholds","Minimum approval rate":e.data.proposal.winningTh,Quorum:e.data.proposal.electoralTh,100:100}],layout:"vertical"},r.a.createElement(Dt.a,{dataKey:"Minimum approval rate",fill:"#82ca9d"}),r.a.createElement(Dt.a,{dataKey:"Quorum",fill:"#3888c8"}),r.a.createElement(Dt.d,{cursor:!1}),r.a.createElement(Dt.e,{type:"number"}),r.a.createElement(Dt.f,{hide:!0,dataKey:"name",type:"category"}))),r.a.createElement(ae.a,{item:!0,className:a.paddingSide,xs:12,md:4,lg:4},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{float:"left"}},r.a.createElement(ne.a,{variant:"body1",color:"textPrimary"}," ","Total Delegates :")),r.a.createElement("td",{style:{float:"right"}},r.a.createElement(ne.a,{variant:"body1",color:"textPrimary"},e.value.totalVotingPower.toLocaleString(void 0,{maximumFractionDigits:2})+" ICX")))))),r.a.createElement(ae.a,{item:!0,className:a.paddingSide,xs:12,md:12,lg:12},r.a.createElement("br",null),r.a.createElement(Be.a,{variant:"fullWidth"}),r.a.createElement("br",null)),r.a.createElement(ae.a,{item:!0,className:a.paddingSide,xs:12,md:12,lg:12},r.a.createElement(ne.a,{variant:"caption",color:"textSecondary"},"SELECT ITEMS")),r.a.createElement(ae.a,{item:!0,className:a.paddingSide,xs:12,md:12,lg:12},r.a.createElement((function(){return r.a.createElement("table",null,r.a.createElement("tbody",null,e.data.proposal.selectitemmodelSet.map((function(e){return r.a.createElement("tr",{key:e.index},r.a.createElement("td",null,r.a.createElement(It.a,null)),r.a.createElement("td",{style:{minWidth:"100px"}},r.a.createElement(ne.a,{variant:"h6"},e.contents)))}))))}),null)),r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(a.grid,a.center),xs:12,md:12,lg:12},r.a.createElement("br",null),r.a.createElement((function(){return r.a.createElement(n.Fragment,null,r.a.createElement(Le.a,{variant:"outlined",color:"primary"},r.a.createElement(m.b,{to:"/EditProposal/"+e.id,className:a.link},"Edit")),r.a.createElement(Le.a,{variant:"contained",color:"primary",onClick:e.publish},"Publish"))}),null)),r.a.createElement(ae.a,{item:!0,className:a.paddingSide,xs:12,md:12,lg:12},r.a.createElement("br",null),r.a.createElement(Be.a,{variant:"fullWidth"}),r.a.createElement("br",null)),r.a.createElement(ae.a,{item:!0,className:a.paddingSide,xs:12,md:12,lg:12},r.a.createElement(ne.a,{variant:"caption",color:"textSecondary"},"DESCRIPTION")),r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(a.paddingSide,a.viewer),xs:12,md:12,lg:12},r.a.createElement(xe,{initialValue:e.data.proposal.contents}))))))};var Rt=function(e){var t=e.match.params.PRep,a=e.match.params.ID,l=Object(n.useState)(),o=Object(ye.a)(l,2),i=o[0],m=o[1],d=Object(n.useState)({load:!1,owner:!1,totalVotingPower:0,pRepVotingPower:0}),u=Object(ye.a)(d,2),p=u[0],g=u[1],h=Object(E.b)(W),v=Object(ye.a)(h,1)[0];function f(){return(f=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me("getPRep",{address:t});case 2:return a=e.sent,e.abrupt("return",parseInt(a.delegated,16)/1e18);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(s.a)(c.a.mark((function e(t,a){var n,r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me("getDelegation",{address:a});case 2:n=e.sent,e.t0=c.a.keys(n.delegations);case 4:if((e.t1=e.t0()).done){e.next=11;break}if(r=e.t1.value,(l=n.delegations[r]).address!==t){e.next=9;break}return e.abrupt("return",parseInt(l.value,16));case 9:e.next=4;break;case 11:return e.abrupt("return",0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=Object(E.c)(Y),w=Object(E.c)(V,{variables:{id:a}});return w.loading||x.loading?r.a.createElement("p",null,"loading"):(w&&w.data&&x.data&&(p.load||function(e){return f.apply(this,arguments)}(w.data.proposal.prep.iconAddress).then((function(e){(function(e,t){return b.apply(this,arguments)})(w.data.proposal.prep.iconAddress,x.data.viewer.iconAddress).then((function(t){g({load:!0,owner:w.data.proposal.prep.username===x.data.viewer.username,totalVotingPower:e,pRepVotingPower:t})}))}))),r.a.createElement(Tt,Object.assign({pRep:t,id:a,value:p,voteSelect:i,publish:function(){v({variables:{proposalId:a}}).then((function(e){})),m(-1),e.history.push("/Proposals/"+t)},handleChange:function(e){m(parseInt(e.target.value))}},w)))},Ut=a(836);var Ft=function(e){var t=pe(),a=[0,1,2,3];return r.a.createElement(ae.a,{item:!0,className:t.grid,xs:12,md:12,lg:12},r.a.createElement(ge.a,{className:t.paper},r.a.createElement(ae.a,{container:!0,className:t.container,spacing:0},r.a.createElement(ae.a,{item:!0,className:t.item,xs:12,md:8,lg:8},r.a.createElement("a",{href:e.pRepInfo.website,style:{textDecoration:"none",color:"#000000"}},r.a.createElement(ne.a,{variant:"h4"},e.pRepInfo.name))),r.a.createElement(ae.a,{item:!0,className:t.item,xs:12,md:4,lg:4},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(ne.a,{variant:"h6"},"Total Delegations")),r.a.createElement("td",null,r.a.createElement(ne.a,{variant:"h6"},":")),r.a.createElement("td",{style:{textAlign:"right"}},r.a.createElement(ne.a,{variant:"h6"},e.pRepInfo.totalDelegation.toLocaleString(void 0,{maximumFractionDigits:2})+" ICX"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(ne.a,{variant:"h6"},"My Voting Power")),r.a.createElement("td",null,r.a.createElement(ne.a,{variant:"h6"},":")),r.a.createElement("td",{style:{textAlign:"right"}},r.a.createElement(ne.a,{variant:"h6"},e.pRepInfo.myVotingPower.toLocaleString(void 0,{maximumFractionDigits:2})+" ICX")))))))),r.a.createElement(ge.a,{className:t.paper},r.a.createElement(ae.a,{container:!0,className:t.container,spacing:0},e.proposals.map((function(n,l){var o;return o="Approved"===n.status?r.a.createElement(St.a,null):"Voting"===n.status?r.a.createElement(Ot.a,null):r.a.createElement(jt.a,null),r.a.createElement(ae.a,{item:!0,className:t.item,key:l,xs:12,sm:6,md:4,lg:4},r.a.createElement(ge.a,{className:t.paper},r.a.createElement(ae.a,{container:!0,className:t.container},r.a.createElement(ae.a,{item:!0,className:t.grid,xs:12,md:12,lg:12},r.a.createElement(yt.a,{icon:o,size:"small",label:n.status,color:"primary"})),r.a.createElement(ae.a,{item:!0,className:t.grid,style:{overflow:"hidden"},xs:12,md:12,lg:12},r.a.createElement(ne.a,{variant:"h5",color:"textPrimary",gutterBottom:!0},r.a.createElement(m.b,{className:t.link,to:"/Proposal/"+e.pRep+"/"+n.id,color:"textPrimary"},r.a.createElement("b",null,n.id,".")," ",n.subject))),r.a.createElement(ae.a,{item:!0,className:t.grid,xs:12,md:12,lg:12},r.a.createElement("table",null,r.a.createElement("tbody",null,a.map((function(e,t){var a=n.select_item[t];return t>n.select_item.length-1?r.a.createElement("tr",{key:t},r.a.createElement("td",null,"\xa0"),r.a.createElement("td",null,r.a.createElement(ne.a,{variant:"h6",color:"textSecondary"},"\xa0"))):r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement(It.a,null)),r.a.createElement("td",null,r.a.createElement(ne.a,{variant:"h6",color:"textSecondary"},a)))})),n.select_item.length-a.length>0&&r.a.createElement("tr",null,r.a.createElement("td",null,"\xa0"),r.a.createElement("td",null,r.a.createElement(Ut.a,null))),n.select_item.length-a.length<=0&&r.a.createElement("tr",null,r.a.createElement("td",null,"\xa0"),r.a.createElement("td",null,r.a.createElement(ne.a,{variant:"h6",key:l,color:"textSecondary"},"\xa0")))))))))})),r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(t.item,t.center),xs:12,lg:12},r.a.createElement(kt.a,{activePage:e.activePage,itemsCountPerPage:e.itemPerPage,totalItemsCount:e.itemCount,pageRangeDisplayed:5,onChange:e.handlePageChange,activeLinkClass:"link"})))))};var Vt=function(e){var t=e.match.params.PRep,a=Object(n.useState)({first:0,end:10,total:0,page:12,currPage:0}),l=Object(ye.a)(a,2),o=l[0],i=l[1],m=Object(n.useState)({first:0,end:10,total:0,page:12,currPage:0}),d=Object(ye.a)(m,2),u=d[0],p=d[1],g=Object(n.useState)({logo:"",website:"",name:"",totalDelegation:0,myVotingPower:0}),h=Object(ye.a)(g,2),v=h[0],f=h[1],b=Object(n.useState)(1),x=Object(ye.a)(b,2),w=x[0],y=x[1],S=Object(n.useState)([]),O=Object(ye.a)(S,2),j=O[0],P=O[1],k=Object(n.useState)(!1),N=Object(ye.a)(k,2),C=N[0],I=N[1];function A(){return(A=Object(s.a)(c.a.mark((function e(t){var a,n,r,l,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re("get_verify_info_by_id",{_id:t});case 2:return a=e.sent,n=JSON.parse(a),e.next=6,Me("getPRep",{address:n.address});case 6:if(r=e.sent,l="https://icon.vote/static/logo.png",o=0,!(R.data&&R.data.viewer&&R.data.viewer.iconAddress)){e.next=13;break}return e.next=12,D(t,R.data.viewer.iconAddress);case 12:o=e.sent;case 13:f({name:r.name,logo:l,website:r.website,totalDelegation:parseInt(r.delegated,16)/Math.pow(10,18),myVotingPower:o});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){return T.apply(this,arguments)}function T(){return(T=Object(s.a)(c.a.mark((function e(t,a){var n,r,l,o,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re("get_verify_info_by_id",{_id:t});case 2:return n=e.sent,r=JSON.parse(n),e.next=6,Me("getDelegation",{address:a});case 6:l=e.sent;try{o=l.delegations}catch(c){o=[]}i=0;case 9:if(!(i<o.length)){e.next=17;break}if(o[i].address!==r.address){e.next=14;break}return s=parseInt(o[i].value,16),s/=1e18,e.abrupt("return",s);case 14:i++,e.next=9;break;case 17:return e.abrupt("return",0);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!1===C&&(0===j.length&&Re("get_proposals",{_proposer:t,_start_proposal_id:o.first.toString(),_end_proposal_id:o.end.toString()}).then((function(e){if(e){var t=JSON.parse(e);if(t.length>0){for(var a=[],n=0;n<t.length;n++){var r={};if(""!==t[n].subject){r.id=t[n].ID,r.subject=t[n].subject,r.status=t[n].status,r.winner=t[n].winner;var l=JSON.parse(t[n].select_item);r.select_item=l,a.push(r)}}P(a)}}})),0===o.total&&Re("get_last_proposal_id",{_proposer:t}).then((function(e){i(Object(me.a)({},o,{total:parseInt(e)}))})),I(!0));var R=Object(E.c)(Y);return R.loading?r.a.createElement("p",null,"Loading..."):(""===v.name&&function(e){A.apply(this,arguments)}(t),r.a.createElement(Ft,{proposals:j,pRep:t,pRepInfo:v,values:o,filterValues:u,queryFilters:function(){i(u)},handleChange:function(e){return function(t){p(Object(me.a)({},u,Object(se.a)({},e,t.target.value)))}},activePage:w,itemPerPage:12,itemCount:o.total,handlePageChange:function(e){y(e)}}))},Mt=a(44),Wt=a(861),Bt=a(837),Lt=a(862),Zt=a(838),Gt=a(850),Qt=a(267),qt=a.n(Qt),Jt=a(268),Ht=a.n(Jt);var zt=function(e){var t=pe();function a(){return r.a.createElement("table",null,r.a.createElement("tbody",null,e.proposal.select_item.map((function(t,a){var n=0;try{n=e.votedPowerRate[a].voted}catch(l){n=0}return r.a.createElement("tr",{key:a},r.a.createElement("td",null,r.a.createElement(It.a,null)),r.a.createElement("td",{style:{minWidth:"200px"}},e.votedIdx===a&&r.a.createElement(Wt.a,{key:a,title:"Voted",placement:"left"},r.a.createElement(ne.a,{variant:"h6"},t)),e.votedIdx!==a&&r.a.createElement(ne.a,{variant:"h6"},t)),r.a.createElement("td",{align:"right",style:{minWidth:"50px"}},r.a.createElement(ne.a,{variant:"h6",color:"textSecondary"}," "+n+" %")),r.a.createElement("td",{align:"right",style:{minWidth:"200px"}},r.a.createElement(ne.a,{variant:"h6"},e.votedPowerRate.length>0&&" "+e.votedPowerRate[a].icx.toLocaleString(void 0,{maximumFractionDigits:2})+" ICX")))}))))}function n(){return r.a.createElement(Bt.a,null,r.a.createElement(Lt.a,{value:e.voteSelect,onChange:e.handleChange},r.a.createElement("table",null,r.a.createElement("tbody",null,e.proposal.select_item.map((function(t,a){var n=0;try{n=e.votedPowerRate[a].voted}catch(l){n=0}return r.a.createElement("tr",{key:a},r.a.createElement("td",{style:{minWidth:"200px"}},r.a.createElement(Zt.a,{control:r.a.createElement(Gt.a,null),value:a,label:r.a.createElement(ne.a,{variant:"h6",color:"textPrimary"},t)})),r.a.createElement("td",{align:"right",style:{minWidth:"50px"}},r.a.createElement(ne.a,{variant:"h6",color:"textSecondary"},n+" %")),r.a.createElement("td",{align:"right",style:{minWidth:"200px"}},r.a.createElement(ne.a,{variant:"h6",color:"textSecondary"},e.votedPowerRate[a].icx.toLocaleString(void 0,{maximumFractionDigits:2})+" ICX")))}))))))}function l(){return r.a.createElement(Le.a,{variant:"contained",color:"primary",disabled:-1===e.voteSelect,onClick:e.vote},"Vote")}var o,i=new Date(e.proposal.expire_date),c=Math.floor((i.getTime()-Date.now())/36e5),s=Math.floor((i.getTime()-Date.now())/6e4-60*c);return e.loading?r.a.createElement("p",null,"Loading..."):e.error?r.a.createElement("p",null,"Error!:"):(o="Approved"===e.proposal.status?r.a.createElement(St.a,null):"Voting"===e.proposal.status?r.a.createElement(Ot.a,null):r.a.createElement(jt.a,null),r.a.createElement(ae.a,{item:!0,className:t.grid,xs:12,md:12,lg:12},r.a.createElement(ge.a,{className:t.paper},r.a.createElement(Le.a,{variant:"outlined",color:"primary",onClick:e.back,style:{width:"200px",float:"right"},startIcon:r.a.createElement(At.a,null)},"Back")),r.a.createElement(ge.a,{className:t.paper},r.a.createElement(ae.a,{container:!0,className:t.container},r.a.createElement(ae.a,{item:!0,className:t.paddingSide,xs:12,md:12,lg:12},r.a.createElement(yt.a,{icon:o,size:"small",label:e.proposal.status,color:"primary",style:{float:"left"}}),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(ae.a,{item:!0,className:t.paddingSide,xs:12,md:12,lg:12},r.a.createElement("div",{className:t.right},r.a.createElement("div",{style:{float:"left"}},r.a.createElement(ne.a,{variant:"h4",color:"textPrimary",gutterBottom:!0},r.a.createElement("b",null,e.proposal.id+". "+e.proposal.subject," "))),r.a.createElement("div",{onClick:function(){window.open("https://twitter.com/intent/tweet?text=[%EA%B3%B5%EC%9C%A0]%20"+encodeURIComponent(document.URL)+"%20-%20"+encodeURIComponent(document.title),"twittersharedialog","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600")},style:{float:"right"}},r.a.createElement("img",{src:Ht.a,width:"40",alt:"\ud2b8\uc704\ud130 \uacf5\uc720\ud558\uae30"})),r.a.createElement("div",{onClick:function(){window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(document.URL)+"&t="+encodeURIComponent(document.title),"facebooksharedialog","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600")},style:{float:"right"}},r.a.createElement("img",{src:qt.a,width:"40",alt:"\ud398\uc774\uc2a4\ubd81 \uacf5\uc720\ud558\uae30"})))),r.a.createElement(ae.a,{item:!0,className:t.paddingSide,xs:12,md:12,lg:12},r.a.createElement(ne.a,{variant:"body1",color:"textPrimary"},"Proposer : ",e.pRep),r.a.createElement(ne.a,{variant:"body1",color:"textPrimary"},"Ending Time : ",i.toString()," ",c>0&&"("+c+" Hour "+s+" Minute Left)"),r.a.createElement(ne.a,{variant:"body1",color:"textPrimary",style:{overflow:"auto"}},"Transaction : ",r.a.createElement("a",{href:je+"transaction/0x"+e.proposal.transaction,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"#000000"}},"0x"+e.proposal.transaction)),""!==e.proposal.final&&r.a.createElement(ne.a,{variant:"body1",color:"textPrimary",style:{overflow:"auto"}},"Finalize Transaction : ",r.a.createElement("a",{href:je+"transaction/0x"+e.proposal.final,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"#000000"}},"0x"+e.proposal.final))),r.a.createElement(ae.a,{item:!0,className:t.paddingSide,xs:12,md:12,lg:12},r.a.createElement("br",null),r.a.createElement(Be.a,{variant:"fullWidth"}),r.a.createElement("br",null)),r.a.createElement(ae.a,{item:!0,className:t.paddingSide,xs:12,md:12,lg:12},r.a.createElement(ne.a,{variant:"caption",color:"textSecondary"},"VOTING PROGRESS")),r.a.createElement(ae.a,{item:!0,className:t.paddingSide,style:{overflow:"auto"},xs:12,md:8,lg:8},r.a.createElement(Dt.b,{width:600,height:70,data:[{name:"Minimum approval rate",voted:e.voteData.voted,left:e.voteData.th,100:100-e.voteData.voted-e.voteData.th}],layout:"vertical"},r.a.createElement(Dt.a,{dataKey:"voted",stackId:"a",fill:"#82ca9d"}),r.a.createElement(Dt.a,{dataKey:"left",stackId:"a",fill:"#888888"}),r.a.createElement(Dt.a,{dataKey:"100",stackId:"a",fill:"#FFFFFF"}),r.a.createElement(Dt.d,{cursor:!1}),r.a.createElement(Dt.c,{x:e.proposal.electoral_threshold,label:e.proposal.electoral_threshold,stroke:"red"}),r.a.createElement(Dt.e,{type:"number",domain:[0,100]}),r.a.createElement(Dt.f,{hide:!0,dataKey:"name",type:"category"}))),r.a.createElement(ae.a,{item:!0,className:t.paddingSide,xs:12,md:4,lg:4},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{float:"left"}},r.a.createElement(ne.a,{variant:"body1",color:"textPrimary"}," ","Total # of delegates :")),r.a.createElement("td",{style:{float:"right"}},r.a.createElement(ne.a,{variant:"body1",color:"textPrimary"},e.voteData.totalDelegate.toLocaleString(void 0,{maximumFractionDigits:2})+" ICX"))),r.a.createElement("tr",null,r.a.createElement("td",{style:{float:"left"}},r.a.createElement(ne.a,{variant:"body1",color:"textPrimary"}," ","Total # of votes :")),r.a.createElement("td",{style:{float:"right"}},r.a.createElement(ne.a,{variant:"body1",color:"textPrimary"},e.voteData.totalVoted.toLocaleString(void 0,{maximumFractionDigits:2})+" ICX"))),r.a.createElement("tr",null,r.a.createElement("td",{style:{float:"left"}},r.a.createElement(ne.a,{variant:"body1",color:"textPrimary"}," ","Your # of votes :")),r.a.createElement("td",{style:{float:"right"}},r.a.createElement(ne.a,{variant:"body1",color:"textPrimary"},e.myVotingPower.toLocaleString(void 0,{maximumFractionDigits:2})+" ICX")))))),r.a.createElement(ae.a,{item:!0,className:t.paddingSide,xs:12,md:12,lg:12},r.a.createElement("br",null),r.a.createElement(Be.a,{variant:"fullWidth"}),r.a.createElement("br",null)),r.a.createElement(ae.a,{item:!0,className:t.paddingSide,xs:12,md:12,lg:12},r.a.createElement(ne.a,{variant:"caption",color:"textSecondary"},"SELECT ITEMS")),r.a.createElement(ae.a,{item:!0,className:t.paddingSide,xs:12,md:12,lg:12},r.a.createElement(ne.a,{variant:"subtitle2",color:"textSecondary"},"Winning Threshold : ",e.proposal.winning_threshold," %")),r.a.createElement(ae.a,{item:!0,className:t.paddingSide,xs:12,md:12,lg:12},r.a.createElement((function(){return new Date(e.proposal.expire_date).getTime()>Date.now()&&(e.myPRep||e.owner)&&-1===e.votedIdx&&"Voting"===e.proposal.status?r.a.createElement(n,null):r.a.createElement(a,null)}),null)),r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(t.grid,t.center),xs:12,md:12,lg:12},r.a.createElement("br",null),r.a.createElement((function(){var t=new Date(e.proposal.expire_date);return t.getTime()<Date.now()&&"Voting"===e.proposal.status?r.a.createElement(ne.a,null,"Vote End(Time over)"):t.getTime()>Date.now()&&(e.myPRep||e.owner)&&-1===e.votedIdx?r.a.createElement(l,null):r.a.createElement(r.a.Fragment,null)}),null)),r.a.createElement(ae.a,{item:!0,className:t.paddingSide,xs:12,md:12,lg:12},r.a.createElement("br",null),r.a.createElement(Be.a,{variant:"fullWidth"}),r.a.createElement("br",null)),r.a.createElement(ae.a,{item:!0,className:t.paddingSide,xs:12,md:12,lg:12},r.a.createElement(ne.a,{variant:"caption",color:"textSecondary"},"DESCRIPTION")),r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(t.paddingSide,t.viewer),xs:12,md:12,lg:12},r.a.createElement(xe,{initialValue:e.proposal.contents})),r.a.createElement(ae.a,{item:!0,className:t.paddingSide,xs:12,md:12,lg:12},r.a.createElement("br",null),r.a.createElement(Be.a,{variant:"fullWidth"}),r.a.createElement("br",null)),r.a.createElement(ae.a,{item:!0,className:t.paddingSide,xs:12,md:12,lg:12},r.a.createElement(ne.a,{variant:"caption",color:"textSecondary"},"VOTES")),r.a.createElement(ae.a,{item:!0,className:t.paddingSide,style:{overflow:"auto"},xs:12,md:12,lg:12},r.a.createElement(Ke.a,{className:t.table,"aria-label":"simple table"},r.a.createElement(_e.a,null,r.a.createElement($e.a,null,r.a.createElement(et.a,{align:"center"},"Voter"),r.a.createElement(et.a,{align:"center"},"Transaction Hash"))),r.a.createElement(tt.a,null,e.votes.map((function(e,t){return r.a.createElement($e.a,{key:t},r.a.createElement(et.a,{align:"center"},r.a.createElement("a",{href:je+"address/"+e.voter,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"#000000"}},e.voter)),r.a.createElement(et.a,{align:"center"},r.a.createElement("a",{href:je+"transaction/0x"+e.voteTxHash,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"#000000"}},"0x"+e.voteTxHash)))}))),r.a.createElement(at.a,null,r.a.createElement($e.a,null,r.a.createElement(nt.a,{rowsPerPageOptions:[10,20,30],colSpan:6,count:e.votes.length,rowsPerPage:e.rowsPerPage,page:e.page,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:e.handleChangePage,onChangeRowsPerPage:e.handleChangeRowsPerPage,ActionsComponent:function(e){var t=pe(),a=Object(Mt.a)(),n=e.count,l=e.page,o=e.rowsPerPage,i=e.onChangePage;return r.a.createElement("div",{className:t.pagination},r.a.createElement(Je.a,{onClick:function(e){i(e,0)},disabled:0===l,"aria-label":"first page"},"rtl"===a.direction?r.a.createElement(it.a,null):r.a.createElement(rt.a,null)),r.a.createElement(Je.a,{onClick:function(e){i(e,l-1)},disabled:0===l,"aria-label":"previous page"},"rtl"===a.direction?r.a.createElement(ot.a,null):r.a.createElement(lt.a,null)),r.a.createElement(Je.a,{onClick:function(e){i(e,l+1)},disabled:l>=Math.ceil(n/o)-1,"aria-label":"next page"},"rtl"===a.direction?r.a.createElement(lt.a,null):r.a.createElement(ot.a,null)),r.a.createElement(Je.a,{onClick:function(e){i(e,Math.max(0,Math.ceil(n/o)-1))},disabled:l>=Math.ceil(n/o)-1,"aria-label":"last page"},"rtl"===a.direction?r.a.createElement(rt.a,null):r.a.createElement(it.a,null)))}})))))))))};var Xt=function(e){var t=e.match.params.PRep,a=e.match.params.ID,l=Object(n.useState)(!1),o=Object(ye.a)(l,2),i=o[0],m=o[1],d=Object(n.useState)(),u=Object(ye.a)(d,2),p=u[0],g=u[1],h=Object(n.useState)({name:"electoralTH",th:0,voted:0,totalVoted:0,totalDelegate:0}),v=Object(ye.a)(h,2),f=v[0],b=v[1],x=Object(n.useState)([]),w=Object(ye.a)(x,2),y=w[0],S=w[1],O=Object(n.useState)(0),j=Object(ye.a)(O,2),P=j[0],k=j[1],N=Object(n.useState)(10),C=Object(ye.a)(N,2),I=C[0],A=C[1],D=Object(E.b)(B),T=Object(ye.a)(D,1)[0];function R(){return parseInt(i.getPRep.delegated,16)/1e18}function U(e,t){return F.apply(this,arguments)}function F(){return(F=Object(s.a)(c.a.mark((function e(t,a){var n,r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me("getDelegation",{address:a});case 2:n=e.sent,e.t0=c.a.keys(n.delegations);case 4:if((e.t1=e.t0()).done){e.next=11;break}if(r=e.t1.value,(l=n.delegations[r]).address!==t){e.next=9;break}return e.abrupt("return",parseInt(l.value,16));case 9:e.next=4;break;case 11:return e.abrupt("return",0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=Object(s.a)(c.a.mark((function e(){var t,a,n,r,l,o,s,m,d,u,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=0,a=i.getVotes,n=[],r=[],l=0;l<i.getProposal.select_item.length;l++)n[l]=[],r[l]=0;for(o=0;o<a.length;o++)s=a[o],n[s.selectItem]?n[s.selectItem].push(s.voter):n[s.selectItem]=[s.voter];m=0;case 7:if(!(m<n.length)){e.next=23;break}d=0,u=0;case 10:if(!(u<n[m].length)){e.next=18;break}return e.t0=d,e.next=14,U(i.getProposal.address,n[m][u]);case 14:d=e.t0+=e.sent;case 15:u++,e.next=10;break;case 18:r[m]=d/1e18,t+=d/1e18;case 20:m++,e.next=7;break;case 23:return p=R(),e.abrupt("return",{votedPowerRate:n,votedPowers:r,totalVotedPower:t,totalDelegate:p});case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(s.a)(c.a.mark((function e(){var n,r,l,o,s,d,u,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=2;break}return e.abrupt("return");case 2:return n={},e.next=5,Re("get_votes",{_proposer:t,_proposal_id:a});case 5:return(r=e.sent)&&(n=JSON.parse(r).vote),e.next=9,Re("get_proposal",{_proposer:t,_proposal_id:a});case 9:if(!(l=e.sent)){e.next=36;break}if(o=JSON.parse(l),s={},""===o.subject){e.next=36;break}return s.id=o.ID,s.subject=o.subject,s.contents=o.contents,s.address=o.address,s.status=o.status,s.expire_date=o.expire_date,s.winning_threshold=o.winning_threshold,s.electoral_threshold=o.electoral_threshold,s.transaction=o.transaction,s.final=o.final,s.winner=o.winner,d=JSON.parse(o.select_item),s.select_item=d,e.next=29,Me("getPRep",{address:s.address});case 29:if(u=e.sent,p=!1,!(W.data&&W.data.viewer&&W.data.viewer.iconAddress)){e.next=35;break}return e.next=34,Me("getDelegation",{address:W.data.viewer.iconAddress});case 34:p=e.sent;case 35:m({getVotes:n,getProposal:s,getPRep:u,getDelegation:p});case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=Object(E.c)(Y);if(W.loading)return r.a.createElement("p",null,"loading");if(!1===i)return function(){M.apply(this,arguments)}(),r.a.createElement("p",null,"loading");var L=0,Z=-1;W.data&&W.data.viewer&&(L=function(){if(!1===i.getDelegation)return 0;for(var e=i.getDelegation.delegations,t=0;t<e.length;t++)if(e[t].address===i.getProposal.address){var a=parseInt(e[t].value,16);return a/=1e18}return 0}(),Z=function(){for(var e=i.getVotes,t=-1,a=0;a<e.length;a++)e[a].voter===W.data.viewer.iconAddress&&(t=e[a].selectItem);return t}());var G={myPRep:!(0===L),votedIdx:Z,owner:function(){try{return t===W.data.viewer.username}catch(e){return!1}}(),myVotingPower:L};if(void 0===y[0]){var Q=i.getProposal.winning_threshold;return function(){return V.apply(this,arguments)}().then((function(e){if(0===f.th){var t=f;t.voted=Math.round(e.totalVotedPower/e.totalDelegate*100),t.th=i.getProposal.electoral_threshold-t.voted,t.th<0&&(t.th=0),t.totalVoted=e.totalVotedPower,t.totalDelegate=e.totalDelegate,b(t)}for(var a=[],n=0;n<e.votedPowers.length;n++){var r=Math.round(e.votedPowers[n]/e.totalVotedPower*100);a.push({name:i.getProposal.select_item[n],voted:r||0,left:r?r>Q?0:Q-r:0,icx:e.votedPowers[n]})}S(a)})),r.a.createElement("p",null,"Loading...")}return r.a.createElement(zt,{pRep:t,id:a,myPRep:G.myPRep,votedIdx:G.votedIdx,myVotingPower:G.myVotingPower,owner:G.owner,voteSelect:p,back:function(){e.history.go(-1)},votedPowerRate:y,voteData:f,votes:i.getVotes,vote:function(){T({variables:{proposer:t,proposalId:a,selectItemIndex:p}}).then((function(e){})),g(-1),window.location.reload()},handleChange:function(e){g(parseInt(e.target.value))},handleChangePage:function(e,t){k(t)},handleChangeRowsPerPage:function(e){A(parseInt(e.target.value,10)),k(0)},page:P,rowsPerPage:I,proposal:i.getProposal})},Yt=a(40),Kt=a(94),_t=a.n(Kt);function $t(){var e=Object(n.useState)(Object.create(null)),t=Object(ye.a)(e,2)[1];return Object(n.useCallback)((function(){t(Object.create(null))}),[t])}var ea=a(854),ta=a(863),aa=a(839);var na=function(e){var t=pe();return e.loading?r.a.createElement("p",null,"Loading..."):e.error?r.a.createElement("p",null,"Error: Check your login status."):r.a.createElement(ae.a,{item:!0,className:t.grid,xs:12,md:12,lg:12},r.a.createElement(ge.a,{className:t.paper},r.a.createElement("form",null,r.a.createElement(ae.a,{container:!0,className:t.container,spacing:0},r.a.createElement(ae.a,{className:t.item,item:!0,xs:12,md:12,lg:12},r.a.createElement(ea.a,{id:"subject",label:"Subject",value:e.values.subject,onChange:e.handleProposalChange("subject"),className:t.textField,variant:"outlined",helperText:e.validator.message("subject",e.values.subject,"required|min:10")}),r.a.createElement("br",null)),r.a.createElement(ae.a,{className:t.item,item:!0,xs:12,md:12,lg:12,style:{textAlign:"right"}},r.a.createElement(Le.a,{color:"primary",onClick:e.addSelectItem},r.a.createElement(aa.a,null),"Add select item")),e.selectItems.map((function(a,n){return r.a.createElement(ae.a,{className:t.item,key:n,item:!0,xs:12,md:12,lg:12},r.a.createElement(ea.a,{id:String(n+1),label:String(n+1),name:String(n+1),value:a,onChange:e.handleSelectItemChange(n),className:t.textField,helperText:e.validator.message("select_item",e.selectItems,"required|listFilled:"+String(n)+"|diff"),variant:"outlined",InputProps:{endAdornment:r.a.createElement(Le.a,{color:"secondary",onClick:function(){return e.deleteSelectItem(n)}},"Delete")}}),r.a.createElement("br",null))})),r.a.createElement(ae.a,{className:t.item,item:!0,xs:12,md:12,lg:12},r.a.createElement(ne.a,{variant:"subtitle2",color:"textSecondary"},"Description"),r.a.createElement(be,{usageStatistics:!1,height:"600px",initialEditType:"wysiwyg",initialValue:e.values.contents,useCommandShortcut:!0,exts:[{name:"chart",minWidth:100,maxWidth:600,minHeight:100,maxHeight:300},"scrollSync","colorSyntax","uml","mark","table"],onChange:e.handleEditorChange})),""!==e.values.contents&&e.validator.message("contents",e.values.contents,"required|min:10"),r.a.createElement(ae.a,{className:Object(ce.a)(t.item,t.center),item:!0,xs:12,md:12,lg:12},r.a.createElement(ne.a,null,r.a.createElement("b",null,"Vote Duration"))),r.a.createElement(ae.a,{className:Object(ce.a)(t.item,t.center),item:!0,xs:12,md:12,lg:12},r.a.createElement("div",null,r.a.createElement(ea.a,{id:"days",type:"number",value:e.values.days.toString(),onChange:e.handleProposalChange("days"),variant:"outlined",inputProps:{min:0,max:365,step:1},style:{float:"left",width:"200"}}),r.a.createElement(ne.a,{variant:"h6",style:{float:"left",width:"200"}},r.a.createElement("b",null,"Days")),r.a.createElement(ea.a,{id:"hours",type:"number",value:e.values.hours.toString(),onChange:e.handleProposalChange("hours"),variant:"outlined",inputProps:{min:0,max:24,step:1},style:{float:"left",width:"200"}}),r.a.createElement(ne.a,{variant:"h6",style:{float:"left",width:"200"}},r.a.createElement("b",null,"Hours")))),r.a.createElement(ae.a,{className:Object(ce.a)(t.item,t.center),item:!0,xs:12,md:12,lg:12},r.a.createElement("br",null),r.a.createElement(ne.a,null,"End At ",e.values.expireAt.toString()),r.a.createElement("br",null)),r.a.createElement(ae.a,{className:t.item,item:!0,style:{textAlign:"center"},xs:12,md:12,lg:12},r.a.createElement(ne.a,null,r.a.createElement("b",null,"Participation Quorum : ",e.values.electoralTh)),r.a.createElement(ta.a,{value:e.values.electoralTh,onChange:e.handleSliderChange("electoralTh"),defaultValue:50,getAriaValueText:function(e){return e+"%"},"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:5,marks:!0,min:0,max:100})),r.a.createElement(ae.a,{className:t.item,item:!0,style:{textAlign:"center"},xs:12,md:12,lg:12},r.a.createElement(ne.a,null,r.a.createElement("b",null,"Minimum Approval Rate to Pass : ",e.values.winningTh)),r.a.createElement(ta.a,{value:e.values.winningTh,onChange:e.handleSliderChange("winningTh"),defaultValue:50,getAriaValueText:function(e){return e+"%"},"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:5,marks:!0,min:0,max:100})),r.a.createElement(ae.a,{className:t.item,item:!0,style:{textAlign:"center"},xs:12,md:12,lg:12},r.a.createElement(Le.a,{variant:"contained",color:"primary",onClick:e.handlesubmitProposal,fullWidth:!0},"Submit"))))))};var ra=function(e){var t;t=e&&e.match&&e.match.params&&e.match.params.proposal_id?e.match.params.proposal_id:-1;var a=$t(),l=Object(n.useState)(),o=Object(ye.a)(l,2),i=o[0],c=o[1],s=Object(n.useState)(["","","",""]),m=Object(ye.a)(s,2),d=m[0],u=m[1],p=Object(n.useState)({id:-1,electoralTh:50,winningTh:50,subject:"",contents:"",days:1,hours:0,expireAt:new Date,selectitemmodelSet:[]}),g=Object(ye.a)(p,2),h=g[0],v=g[1],f=Object(E.b)(M),b=Object(ye.a)(f,1)[0],x=Object(n.useState)(new _t.a({validators:{diff:{message:"input different options.",rule:function(e,t){for(var a=0;a<e.length;a++)for(var n=a+1;n<e.length;n++)if(e[a]===e[n])return!1;return!0}},listFilled:{message:"input every field",rule:function(e,t){return""!==e[parseInt(t[0])]}}},locale:"en",className:"text-danger",element:function(e,t){return r.a.createElement(ne.a,{variant:"caption",color:"error",className:t},e)}})),w=Object(ye.a)(x,1)[0],y=Object(E.c)(J,{variables:{id:t}});if(y.data&&y.data.proposal&&-1===h.id){var S=y.data.proposal,O=new Date(S.expireAt),j=new Date,P=(O.getTime()-j.getTime())/1e3,k=0,N=0;P>0&&(k=Math.floor(P/86400),N=Math.floor((P-60*k*60*24)/3600)),v({id:S.id,electoralTh:S.electoralTh,winningTh:S.winningTh,subject:S.subject,contents:S.contents,days:k,hours:N,expireAt:O,selectitemmodelSet:[]});var C=[];S.selectitemmodelSet.map((function(e){return C.push(e.contents),e})),C.length>0&&u(C)}return r.a.createElement(n.Fragment,null,function(){if(i)return r.a.createElement(_.a,{to:"/NoteProposal/"+y.data.viewer.username+"/"+i})}(),r.a.createElement(na,Object.assign({},y,{validator:w,values:h,setValues:v,selectItems:d,addSelectItem:function(){u([].concat(Object(Yt.a)(d),[""]))},handleSelectItemChange:function(e){return function(t){u([].concat(Object(Yt.a)(d.slice(0,e)),[t.target.value],Object(Yt.a)(d.slice(e+1))))}},deleteSelectItem:function(e){var t=d;t.splice(e,1),u(t),a()},handleDateChange:function(e){var t=new Date,a=new Date;a.setDate(t.getDate()+1),v(Object(me.a)({},h,{expireAt:a}))},handleProposalChange:function(e){return function(t){if("days"===e||"hours"===e){if(""!==t.target.value){var a,n=new Date;"days"===e?(n.setDate(n.getDate()+parseInt(t.target.value)),n.setHours(n.getHours()+h.hours)):(n.setDate(n.getDate()+h.days),n.setHours(n.getHours()+parseInt(t.target.value))),v(Object(me.a)({},h,(a={},Object(se.a)(a,e,parseInt(t.target.value)),Object(se.a)(a,"expireAt",n),a)))}}else v(Object(me.a)({},h,Object(se.a)({},e,t.target.value)))}},handleSliderChange:function(e){return function(t,a){Array.isArray(a)?v(Object(me.a)({},h,Object(se.a)({},e,a[0]))):v(Object(me.a)({},h,Object(se.a)({},e,a)))}},handleEditorChange:function(e){v(Object(me.a)({},h,{contents:e}))},handlesubmitProposal:function(){if(!w.allValid())return w.showMessages(),void a();var e=[];d.map((function(t,a){return e.push({index:a,contents:t}),t})),function(e){b(e).then((function(e){c(e.data.setProposal.proposal.id)}))}({variables:{proposalId:h.id,subject:h.subject,contents:h.contents,published:!1,electoralTh:h.electoralTh,winningTh:h.winningTh,expireAt:h.expireAt.toISOString(),selectItemList:e}})}})))},la=a(840),oa=a(864),ia=a(273),ca=a(818),sa=a(841);var ma=function(e){var t=pe();return e.loading?r.a.createElement("p",null,"Loading..."):e.data&&e.data.viewer&&e.data.viewer.username?r.a.createElement(ae.a,{container:!0,className:t.container},r.a.createElement(ae.a,{item:!0,className:t.grid,xs:!0,style:{textAlign:"right"}},r.a.createElement(Je.a,{"aria-controls":"user_menu",color:"inherit",onClick:e.handleMenu},r.a.createElement(la.a,{badgeContent:e.badgeCnt,invisible:0===e.badgeCnt,color:"secondary",className:t.noMarginPadding},r.a.createElement(oa.a,{alt:e.data.viewer.username,src:"",className:t.noMarginPadding},r.a.createElement(sa.a,{fontSize:"large"})))),r.a.createElement(ia.a,{id:"user_menu",anchorEl:e.anchorEl,keepMounted:!0,open:Boolean(e.anchorEl),onClose:e.handleMenuClose},r.a.createElement(ca.a,{onClick:e.showUserInfo},r.a.createElement(ne.a,{component:"h6"},e.data.viewer.username)),r.a.createElement(ca.a,{onClick:e.handleMenuClose},r.a.createElement(m.b,{to:"/Profile",className:t.link},r.a.createElement(ne.a,{component:"h6"},"Profile"))),r.a.createElement(ca.a,{onClick:e.handleMenuLogout},r.a.createElement(m.b,{to:"/",className:t.link},r.a.createElement(ne.a,{component:"h6"},"Logout")))))):r.a.createElement(ae.a,{container:!0,className:t.container},r.a.createElement(ae.a,{item:!0,className:t.grid,xs:!0,style:{textAlign:"right",overflow:"hidden"}},r.a.createElement(Le.a,{component:m.b,to:"/Signup",style:{overflow:"hidden"}},r.a.createElement(ne.a,{component:"h6",style:{color:"#FFFFFF"}},"Join now"))),r.a.createElement(ae.a,{item:!0,className:t.grid,xs:!0,style:{textAlign:"left",overflow:"hidden"}},r.a.createElement(Le.a,{component:m.b,to:"/Signin",variant:"contained",style:{color:"#FFF",overflow:"hidden"}},r.a.createElement(ne.a,{component:"h6",color:"primary"},"Sign In"))))};var da=function(e){var t=r.a.useState(null),a=Object(ye.a)(t,2),n=a[0],l=a[1],o=Object(E.b)(Q),i=Object(ye.a)(o,1)[0],c=Object(E.a)(),s=Object(E.c)(Y);return r.a.createElement(ma,Object.assign({},s,{anchorEl:n,setAnchorEl:l,badgeCnt:0,handleMenu:function(e){l(e.currentTarget)},handleMenuClose:function(){l(null)},handleMenuLogout:function(){i().then((function(t){l(null),c.writeData({data:{username:"",snack:{open:!0,message:"logouted",__typename:"snack"}}}),e.refetch(),window.location.reload()}))},showUserInfo:function(){c.writeData({data:{snack:{open:!0,message:s.data.viewer.username,__typename:"snack"}}})}}))};var ua=function(e){var t=pe();return r.a.createElement(n.Fragment,null,r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(t.grid,t.center),xs:12,md:12,lg:12},r.a.createElement(ge.a,{className:t.paper},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ae.a,{container:!0,className:t.container},r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(t.item,t.center),xs:12,md:12,lg:12},r.a.createElement(ea.a,{id:"username",label:"Username",name:"username",type:"text",value:e.signInfo.username,onChange:e.handleSignInfo,helperText:e.validator.message("username",e.signInfo.username,"required|min:3")})),r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(t.item,t.center),xs:12,md:12,lg:12},r.a.createElement(ea.a,{id:"password",label:"Password",name:"password",type:"password",value:e.signInfo.password,onChange:e.handleSignInfo,onKeyPress:function(t){"Enter"===t.key&&e.validateSignIn()},helperText:e.validator.message("password",e.signInfo.password,"required|min:3")})),r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(t.item,t.center),xs:12,md:12,lg:12},r.a.createElement(Le.a,{variant:"contained",color:"primary",onClick:e.validateSignIn},"Sign in"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))))};var pa=function(e){var t=$t(),a=Object(E.a)(),l=Object(n.useState)({username:"",password:""}),o=Object(ye.a)(l,2),i=o[0],c=o[1],s=Object(E.b)(L),m=Object(ye.a)(s,1)[0],d=Object(n.useState)(new _t.a({validators:{},locale:"en",className:"text-danger",element:function(e,t){return r.a.createElement(ne.a,{variant:"caption",color:"error",className:t},e)}})),u=Object(ye.a)(d,1)[0];return r.a.createElement(ua,{signInfo:i,handleSignInfo:function(e){c(Object(me.a)({},i,Object(se.a)({},e.target.name,e.target.value)))},validator:u,validateSignIn:function(){if(!u.allValid())return u.showMessages(),void t();var n,r;n=i.username,r=i.password,m({variables:{username:n,password:r}}).then((function(t){a.writeData({data:{snack:{open:!0,message:"Welcome "+n,__typename:"snack"}}}),localStorage.setItem("refreshToken",t.data.tokenAuth.refreshToken),e.history.go(-1)})).catch((function(e){a.writeData({data:{snack:{open:!0,message:"Login Fail",__typename:"snack"}}})}))}})},ga=a(865),ha=a(842),Ea=a(855);var va=function(e){var t=pe();return r.a.createElement(ae.a,{container:!0,className:t.container},r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(t.item,t.center),xs:12,md:12,lg:12},r.a.createElement(ea.a,{id:"username",label:"Username",name:"username",type:"text",variant:"outlined",value:e.signInfo.username,onChange:e.handleSignInfo,helperText:e.validator.message("username",e.signInfo.username,"required|min:3|alpha_num")})),r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(t.item,t.center),xs:12,md:12,lg:12},r.a.createElement(ea.a,{id:"password",label:"Password",name:"password",type:"password",variant:"outlined",value:e.signInfo.password,onChange:e.handleSignInfo,helperText:e.validator.message("password",[e.signInfo.password,e.signInfo.password2],"required|same|minpass:6")})),r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(t.item,t.center),xs:12,md:12,lg:12},r.a.createElement(ea.a,{id:"password2",label:"Confirm Password",name:"password2",type:"password",variant:"outlined",value:e.signInfo.password2,onChange:e.handleSignInfo,onKeyPress:function(t){"Enter"===t.key&&e.signUp()},helperText:e.validator.message("password",[e.signInfo.password2,e.signInfo.password],"required|same|minpass:6")})),r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(t.item,t.center),xs:12,md:12,lg:12},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Le.a,{variant:"contained",color:"primary",onClick:e.signUp},"Sign up"),r.a.createElement("br",null),r.a.createElement("br",null)))};var fa=function(e){var t=$t(),a=Object(E.b)(G),l=Object(ye.a)(a,1)[0],o=Object(E.b)(L),i=Object(ye.a)(o,1)[0],m=Object(n.useState)({username:"",password:"",password2:""}),d=Object(ye.a)(m,2),u=d[0],p=d[1],g=Object(n.useState)(new _t.a({validators:{same:{message:"input same password.",rule:function(e,t){for(var a=0;a<e.length;a++)for(var n=a+1;n<e.length;n++)if(e[a]!==e[n])return!1;return!0}},minpass:{message:"input more than :param character",rule:function(e,t){return e[0].length>=parseInt(t[0])},messageReplace:function(e,t){return e.replace(":param",h.helpers.toSentence(t))}}},locale:"en",className:"text-danger",element:function(e,t){return r.a.createElement(ne.a,{variant:"caption",color:"error",className:t},e)}})),h=Object(ye.a)(g,1)[0];function v(e,t){return f.apply(this,arguments)}function f(){return(f=Object(s.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l({variables:{username:t,password:a}});case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.toString().indexOf("UNIQUE")&&alert("id exist. make another id"),e.abrupt("return",!1);case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function b(t,a){i({variables:{username:t,password:a}}).then((function(t){e.setActiveStep(e.activeStep+1)}))}function x(){return(x=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.allValid()){e.next=6;break}return h.showMessages(),t(),e.abrupt("return");case 6:return e.next=8,v(u.username,u.password);case 8:e.sent&&b(u.username,u.password);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(va,{signInfo:u,handleSignInfo:function(e){p(Object(me.a)({},u,Object(se.a)({},e.target.name,e.target.value)))},validator:h,signUp:function(){return x.apply(this,arguments)},sameValidate:function(e){return e[0]===e[1]?void 0:r.a.createElement(ne.a,{variant:"caption",color:"error"},"Have to be same.")}})};var ba=function(e){var t=pe();return r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(t.grid,t.center),xs:12,md:12,lg:12},r.a.createElement(ge.a,{className:Object(ce.a)(t.paper,t.center)},r.a.createElement(ae.a,{container:!0,className:Object(ce.a)(t.container,t.center)},r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(t.item,t.center),xs:12,md:12,lg:12},r.a.createElement("br",null),r.a.createElement(ga.a,{activeStep:e.activeStep,alternativeLabel:!0},e.steps.map((function(e){return r.a.createElement(ha.a,{key:e},r.a.createElement(Ea.a,null,e))}))),r.a.createElement("br",null),r.a.createElement("br",null))),0===e.activeStep&&r.a.createElement(fa,{activeStep:e.activeStep,setActiveStep:e.setActiveStep}),1===e.activeStep&&r.a.createElement(ut,{activeStep:e.activeStep,setActiveStep:e.setActiveStep}),2===e.activeStep&&r.a.createElement(ae.a,{container:!0,className:t.container},r.a.createElement(ae.a,{item:!0,className:t.item,xs:12,md:12,lg:12},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ne.a,null,"Good Job"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))),r.a.createElement(ae.a,{container:!0,className:t.container},r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(t.item,t.left),xs:6,md:6,lg:6},r.a.createElement(Le.a,{variant:"contained",color:"primary",onClick:function(){e.setActiveStep(e.activeStep-1)},disabled:e.activeStep<=0},"Back")),r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(t.item,t.right),xs:6,md:6,lg:6},r.a.createElement(Le.a,{variant:"contained",color:"primary",onClick:function(){e.setActiveStep(e.activeStep+1)},disabled:e.activeStep>=2},"Forward")))))};var xa=function(e){var t=r.a.useState(0),a=Object(ye.a)(t,2),n=a[0],l=a[1];return r.a.createElement(ba,{activeStep:n,setActiveStep:l,steps:["Sign Up","Verify ICON address","Confirm"]})},wa=a(843),ya=a(844),Sa=a(845);var Oa=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(wa.a,{color:"inherit",href:"https://icon.vote/"},"ICON.Vote"," "),(new Date).getFullYear(),".",r.a.createElement("a",{href:"https://t.me/iconvote",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(ya.a,{width:30,style:{color:"#50A8B8"}})),r.a.createElement("a",{href:"https://twitter.com/ICONvote",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(Sa.a,{width:30,style:{color:"#50A8B8"}}))))},ja=a(270),Pa=a.n(ja),ka=Object(oe.a)({palette:{primary:{main:"#50A8B8"}}});var Na=function(e){var t=pe();return e.loading?r.a.createElement("p",null,"Loading..."):r.a.createElement(ie.a,{theme:ka},r.a.createElement("div",{className:t.root},r.a.createElement($.a,null),r.a.createElement(ee.a,{position:"absolute",className:t.appBar},r.a.createElement(te.a,{className:t.toolbar},r.a.createElement(ae.a,{container:!0,className:t.container},r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(t.grid,t.center,t.overflowHidden),xs:3,md:3,lg:3},r.a.createElement(m.b,{to:"/",style:{flexGrow:1}},r.a.createElement("img",{src:Pa.a,alt:"ICON Vote",style:{maxWidth:"200px"}}))),r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(t.grid,t.center,t.overflowHidden),xs:!0},r.a.createElement(ne.a,{component:"h6",variant:"h6",color:"inherit",noWrap:!0,style:{flexGrow:1}},r.a.createElement(m.b,{to:"/HowTo",style:{textDecoration:"none",color:"#FFFFFF"}},"How-To"))),r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(t.grid,t.center,t.overflowHidden),xs:!0},r.a.createElement(ne.a,{component:"h6",variant:"h6",color:"inherit",noWrap:!0,style:{flexGrow:1}},r.a.createElement(m.b,{to:"/SelectPRep",style:{textDecoration:"none",color:"#FFFFFF"}},"Vote Explorer"))),!e.error&&e.data&&e.data.viewer&&e.data.viewer.isPrep&&r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(t.grid,t.center,t.overflowHidden),xs:!0},r.a.createElement(ne.a,{component:"h6",variant:"h6",color:"inherit",noWrap:!0,style:{flexGrow:1}},r.a.createElement(m.b,{to:"/NoteProposals/"+e.data.viewer.username,style:{textDecoration:"none",color:"#FFFFFF"}},"Launch new votes"))),r.a.createElement(ae.a,{item:!0,className:Object(ce.a)(t.grid,t.center,t.overflowHidden),xs:!0},r.a.createElement(da,{refetch:e.refetch}))))),r.a.createElement("div",{className:t.content},r.a.createElement("div",{className:t.appBarSpacer}),r.a.createElement(re.a,{maxWidth:"lg",className:t.rootcontainer},r.a.createElement(ae.a,{container:!0,spacing:0},r.a.createElement(_.d,null,r.a.createElement(_.b,{exact:!0,path:"/",component:ve}),r.a.createElement(_.b,{exact:!0,path:"/HowTo",component:we}),r.a.createElement(_.b,{exact:!0,path:"/EditProposal/:proposal_id",component:ra}),r.a.createElement(_.b,{exact:!0,path:"/EditProposal",component:ra}),r.a.createElement(_.b,{exact:!0,path:"/Profile",component:ut}),r.a.createElement(_.b,{exact:!0,path:"/SelectPRep",component:wt}),r.a.createElement(_.b,{exact:!0,path:"/NoteProposals/:PRep",component:Ct}),r.a.createElement(_.b,{exact:!0,path:"/NoteProposal/:PRep/:ID",component:Rt}),r.a.createElement(_.b,{exact:!0,path:"/Proposals/:PRep",component:Vt}),r.a.createElement(_.b,{exact:!0,path:"/Proposal/:PRep/:ID",component:Xt}),r.a.createElement(_.b,{exact:!0,path:"/SignIn",component:pa}),r.a.createElement(_.b,{exact:!0,path:"/SignUp",component:xa})))),r.a.createElement(Oa,null),r.a.createElement(le.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:5e3,open:e.open,onClose:e.handleClose,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},e.message)}))))};var Ca=function(e){var t=Object(E.a)(),a=Object(E.c)(Z),n=Object(E.c)(Y),l={open:!1,message:""};return a.loading||a.error||!a.data||(l=a.data.snack).open&&n.refetch(),n.loading||n.error||!n.data||t.writeData({data:{viewer:n.data.viewer}}),r.a.createElement(Na,Object.assign({},n,l,{handleClose:function(e,a){"clickaway"!==a&&t.writeData({data:{snack:{open:!1,message:"",__typename:"snack"}}})}}))},Ia=new d.a({uri:"https://icon.vote/graphql/",credentials:"include",request:function(){var e=Object(s.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(a=h.a.get("csrftoken"))){e.next=7;break}return e.next=4,fetch("https://icon.vote/csrf/").then((function(e){return e.json()})).then((function(e){return e.csrfToken}));case 4:n=e.sent,h.a.set("csrftoken",n),a=n;case 7:t.setContext({headers:{"X-CSRFToken":a}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cache:new p.a,clientState:{defaults:{data:{username:"",email:"",photo:"",icon_address:"",snack:{open:!1,message:"",__typename:"snack"},__typename:"user"}},resolvers:{},typeDefs:""}});var Aa=function(e){return r.a.createElement(m.a,null,r.a.createElement(u.a,{client:Ia},r.a.createElement(Ca,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Aa,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[316,1,2]]]);
//# sourceMappingURL=main.0c915d79.chunk.js.map