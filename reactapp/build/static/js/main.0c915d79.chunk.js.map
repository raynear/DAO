{"version":3,"sources":["utils.ts","Icx.ts","img/facebook.png","img/twitter.png","img/Logo_horizon.png","GQL.tsx","Style.tsx","LandingPage.tsx","TUIEditor.tsx","HowTo.tsx","Config.tsx","IconConnect.tsx","LedgerDialog.tsx","LedgerDialogContainer.tsx","VerifyIcon.tsx","VerifyIconContainer.tsx","SelectPRep.tsx","SelectPRepContainer.tsx","NoteProposals.tsx","NoteProposalsContainer.tsx","NoteProposal.tsx","NoteProposalContainer.tsx","Proposals.tsx","ProposalsContainer.tsx","Proposal.tsx","ProposalContainer.tsx","useForceUpdate.tsx","EditProposal.tsx","EditProposalContainer.tsx","UserInfo.tsx","UserInfoContainer.tsx","SignIn.tsx","SignInContainer.tsx","NewAccount.tsx","NewAccountContainer.tsx","SignUp.tsx","SignUpContainer.tsx","Copyright.tsx","Layout.tsx","LayoutContainer.tsx","App.tsx","serviceWorker.tsx","index.tsx"],"names":["splitPath","path","result","split","forEach","element","number","parseInt","isNaN","length","push","foreach","arr","callback","Promise","resolve","then","iterate","index","array","res","hexToBase64","hexString","btoa","match","map","a","String","fromCharCode","join","Icx","transport","this","decorateAppAPIMethods","boolDisplay","boolChaincode","paths","buffer","Buffer","writeUInt32BE","send","response","publicKey","address","chainCode","publicKeyLength","slice","toString","addressLength","rawTxAscii","offset","rawTx","toSend","maxChunkSize","chunkSize","copy","data","i","apduResponse","signedRawTxBase64","hashHex","majorVersion","minorVersion","patchVersion","privateKeyHex","substr","module","exports","GET_PROPOSAL","gql","SET_PROPOSAL","SET_PUBLISH","SET_VOTE","TOKEN_AUTH","GET_LOCAL_SNACK","SET_USER","LOG_OUT","GET_PREPS","GET_PROPOSAL4EDIT","GET_PROPOSALS","NEW_PREP","ADD_ICON_ADDRESS","GET_VIEWER","selectWallet","window","dispatchEvent","CustomEvent","detail","type","useStyles","makeStyles","theme","createStyles","card","minWidth","avatar","margin","bigAvatar","width","height","overflowHidden","overflow","bullet","display","transform","title","fontSize","flexGrow","link","textDecoration","color","pos","marginBottom","formControl","spacing","minwidth","viewer","papercontainer","padding","paper","flexDirection","rootcontainer","flexwrap","container","alignItems","grid","item","paddingSide","paddingLeft","paddingRight","table","center","textAlign","left","right","pagination","flexShrink","marginLeft","selectLabel","textField","root","toolbar","noMarginPadding","toolbarIcon","justifyContent","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","marginRight","menuButtonHidden","drawerPaper","position","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","content","fixedHeight","LandingPage","props","classes","Grid","className","xs","md","lg","Paper","clsx","Typography","variant","url","playing","TUIEditor","editorRef","React","createRef","handleChange","value","current","getInstance","getValue","onChange","initialValue","previewStyle","initialEditType","useCommandShortcut","exts","ref","TUIViewer","HowTo","trackerURL","contractAddress","CONTRACT","Provider","IconService","HttpProvider","nodeURL","iconService","IconBuilder","IconConverter","IconUtil","selectedIconService","jsonRpcCall","methodName","params","callBuilder","CallBuilder","callObj","to","method","build","call","execute","jsonRpcSendTx","fromWallet","timestamp","Date","txBuilder","CallTransactionBuilder","txObj","from","nid","toBigNumber","version","stepLimit","valueOf","scoreData","JSON","stringify","toRawTransaction","parsed","parse","customEvent","payload","governanceCall","TablePaginationActions","page","onChangePage","IconButton","onClick","event","disabled","aria-label","FirstPage","KeyboardArrowLeft","KeyboardArrowRight","LastPage","LedgerDialog","Button","fullWidth","setPage","setOpen","startIcon","LooksOneOutlined","Dialog","maxWidth","aria-labelledby","open","onClose","handleClose","DialogTitle","id","DialogContent","dividers","TableContainer","component","Table","TableHead","TableRow","TableCell","TableBody","list","idx","key","balance","selectAddress","TableFooter","TablePagination","colSpan","rowsPerPage","rowsPerPageOptions","count","handleChangePage","ActionsComponent","LedgerDialogContainer","useState","setList","client","useApolloClient","getAddressNBalance","Transport","setDebugMode","setExchangeTimeout","icx","getAddress","addressResult","getBalance","Error","newPage","tmpList","start","end","alert","addressIdx","query","getBlock","lastBlock","blockHash","username","rawTransaction","hashKey","generateHashKey","signTransaction","signature","sendTransaction","getProperties","getSignature","useEffect","getAddresses","sendVerifyLedger","selectNotice","VerifyIcon","Contents","verifiedAddress","connectedAddress","notice","Divider","callVerify","LooksTwoOutlined","loading","error","message","activeStep","VerifyIconContainer","msgForNotice","setNotice","isPRep","setIsPRep","setVerifiedAddress","flag","setFlag","setConnectedAddress","useMutation","mutateNewPRep","mutateAddIconAddress","queryVal","result_json","PRepList","preps","newPRepPage","addIconAddress","variables","Address","writeData","snack","__typename","IconAddress","addEventListener","useQuery","SelectPRep","allPRep","allPrep","j","delegations","iconAddress","isMyPRep","List","subheader","ListSubheader","ListItem","button","handleClick","ListItemIcon","Star","FiberManualRecord","ListItemText","getPRepName","SelectPRepContainer","setDelegations","pReps","setPReps","queryViewer","result2","selectedPRep","PRepName","history","name","NoteProposals","console","log","createNewProposal","proposals","icon","status","Done","sm","Chip","size","label","gutterBottom","pRep","subject","selectitemmodelSet","selectItem","contents","activePage","itemsCountPerPage","itemPerPage","totalItemsCount","itemCount","pageRangeDisplayed","handlePageChange","NoteProposalsContainer","PRep","first","total","currPage","values","setValues","filterValues","setFilterValues","setActivePage","fetchPolicy","queryFilters","target","NoteProposal","proposal","back","style","float","ArrowLeft","ID","prep","expireAt","winningTh","electoralTh","layout","dataKey","fill","cursor","hide","totalVotingPower","toLocaleString","undefined","maximumFractionDigits","ArrowRight","publish","NoteProposalContainer","voteSelect","setVoteSelect","load","owner","pRepVotingPower","setValue","mutatePublish","prepAddress","delegateResp","delegated","voterAddress","aPRepKey","aPRep","getTotalVotingPower","getVotersVotingPower","proposalId","publishResult","Proposals","select_items","href","pRepInfo","website","totalDelegation","myVotingPower","itm","select_item","MoreVert","activeLinkClass","ProposalsContainer","logo","setPRepInfo","setProposals","pRepName","_id","getPRepAddressResp","getPRepAddress","getPRepResp","votingPower","delegateList","tmpProposals","aProposal","winner","items","getPRepInfo","Proposal","SelectItemList","voteRate","votedPowerRate","voted","votedIdx","Tooltip","placement","align","RadioButtons","FormControl","RadioGroup","FormControlLabel","control","Radio","VoteButton","vote","endTime","expire_date","leftHour","Math","floor","getTime","now","leftMinute","encodeURIComponent","document","URL","src","twitterImg","alt","facebookImg","transaction","rel","final","voteData","th","stackId","x","electoral_threshold","stroke","domain","totalDelegate","totalVoted","winning_threshold","myPRep","votes","voter","voteTxHash","SelectProps","inputProps","native","onChangeRowsPerPage","handleChangeRowsPerPage","useTheme","direction","ceil","max","ProposalContainer","callResult","setCallResult","setVoteData","setVotedPowerRate","setRowsPerPage","mutateVote","getPRep","totalVotedPower","getVotes","votedPowers","getProposal","aVote","getVotesResp","getProposalResp","getDelegationResp","getDelegation","myDelegation","getMyDelegation","getVotedIdx","amIOwner","getVotedPowerRate","r","tmpVoteData","round","voteItem","votedRate","go","proposer","selectItemIndex","voteResult","location","reload","useForceUpdate","Object","dispatch","useCallback","EditProposal","TextField","handleProposalChange","helperText","validator","addSelectItem","AddRounded","selectItems","handleSelectItemChange","InputProps","endAdornment","deleteSelectItem","usageStatistics","minHeight","maxHeight","handleEditorChange","days","min","step","hours","Slider","handleSliderChange","defaultValue","getAriaValueText","val","valueLabelDisplay","marks","handlesubmitProposal","EditProposalContainer","proposal_id","forceUpdate","redirect","setRedirect","setSelectItems","mutateProposal","SimpleReactValidator","validators","diff","rule","listFilled","locale","date","dayDiff","hourDiff","tmpSelectItems","renderRedirect","tmp","splice","handleDateChange","today","dueto","setDate","getDate","setHours","getHours","newValue","Array","isArray","allValid","showMessages","tmpSelectItemList","mutate_var","setProposal","submitProposal","published","toISOString","selectItemList","UserInfo","aria-controls","handleMenu","Badge","badgeContent","badgeCnt","invisible","Avatar","AccountCircle","Menu","anchorEl","keepMounted","Boolean","handleMenuClose","MenuItem","showUserInfo","handleMenuLogout","Link","UserInfoContainer","setAnchorEl","mutateLogout","currentTarget","refetch","SignIn","signInfo","handleSignInfo","password","onKeyPress","e","validateSignIn","SignInContainer","setSignInfo","mutateTokenAuth","localStorage","setItem","tokenAuth","refreshToken","catch","NewAccount","password2","signUp","NewAccountContainer","mutateSetUser","same","minpass","messageReplace","msg","replace","helpers","toSentence","newUser","indexOf","logIn","setActiveStep","sameValidate","SignUp","Stepper","alternativeLabel","steps","Step","StepLabel","SignUpContainer","Copyright","getFullYear","Telegram","Twitter","IconTheme","createMuiTheme","palette","primary","main","Layout","ThemeProvider","CssBaseline","AppBar","Toolbar","iconLogo","noWrap","isPrep","Container","exact","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","ContentProps","LayoutContainer","querySnack","reason","ApolloClient","uri","credentials","request","operation","csrf","Cookies","get","fetch","json","csrfToken","csrftoken","set","setContext","headers","cache","InMemoryCache","clientState","defaults","email","photo","icon_address","resolvers","typeDefs","App","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.0c915d79.chunk.js","sourcesContent":["/********************************************************************************\n *   Ledger Node JS API for ICON\n *   (c) 2016-2017 Ledger\n * \n *  Modifications (c) 2018 ICON Foundation\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ********************************************************************************/\n//@flow\n\ntype Defer<T> = {\n  promise: Promise<T>;\n  resolve: (arg0: T) => void;\n  reject: (arg0: any) => void;\n};\n\nexport function defer<T>(): Defer<T> {\n  let resolve, reject;\n  let promise = new Promise<T>(function (success, failure) {\n    resolve = success;\n    reject = failure;\n  });\n  if (!resolve || !reject) throw new Error(\"defer() error\"); // this never happens and is just to make flow happy\n  return { promise, resolve, reject };\n}\n\n// TODO use bip32-path library\nexport function splitPath(path: string): number[] {\n  let result: any[] = [];\n  let components = path.split(\"/\");\n  components.forEach(element => {\n    let number = parseInt(element, 10);\n    if (isNaN(number)) {\n      return; // FIXME shouldn't it throws instead?\n    }\n    if (element.length > 1 && element[element.length - 1] === \"'\") {\n      number += 0x80000000;\n    }\n    result.push(number);\n  });\n  return result;\n}\n\n// TODO use async await\n\nexport function eachSeries<A>(arr: A[], fun: any): any {\n  return arr.reduce((p, e) => p.then(() => fun(e)), Promise.resolve());\n}\n\nexport function foreach<T, A>(\n  arr: T[],\n  callback: (arg0: T, arg1: number) => Promise<A>\n): Promise<A[]> {\n  function iterate(index: number, array: any, result: any): any {\n    if (index >= array.length) {\n      return result;\n    } else\n      return callback(array[index], index).then(function (res) {\n        result.push(res);\n        return iterate(index + 1, array, result);\n      });\n  }\n  return Promise.resolve().then(() => iterate(0, arr, []));\n}\n\nexport function doIf(\n  condition: boolean,\n  callback: () => any | Promise<any>\n): Promise<void> {\n  return Promise.resolve().then(() => {\n    if (condition) {\n      return callback();\n    }\n  });\n}\n\nexport function asyncWhile<T>(\n  predicate: () => boolean,\n  callback: () => Promise<T>\n): Promise<Array<T>> {\n  function iterate(result: any): any {\n    if (!predicate()) {\n      return result;\n    } else {\n      return callback().then(res => {\n        result.push(res);\n        return iterate(result);\n      });\n    }\n  }\n  return Promise.resolve([]).then(iterate);\n}\n\nexport function hexToBase64(hexString: string) {\n  return btoa((hexString.match(/\\w{2}/g) || []).map(function (a) {\n    return String.fromCharCode(parseInt(a, 16));\n  }).join(\"\"));\n}\n","/********************************************************************************\n *   Ledger JS API for ICON\n *   (c) 2018 ICON Foundation\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ********************************************************************************/\n//@flow\n\n// FIXME drop:\nimport { splitPath, foreach, hexToBase64 } from \"./utils\";\nimport Transport from \"@ledgerhq/hw-transport\";\n\n/**\n * ICON API\n *\n * @example\n * import Icx from \"@ledgerhq/hw-app-icx\";\n * const icx = new Icx(transport)\n */\nexport default class Icx {\n  transport: Transport<any>;\n\n  constructor(transport: Transport<any>) {\n    this.transport = transport;\n    transport.decorateAppAPIMethods(\n      this,\n      [\n        \"getAddress\",\n        \"signTransaction\",\n        \"getAppConfiguration\",\n        \"setTestPrivateKey\"\n      ],\n      \"ICON\"\n    );\n  }\n\n  /**\n   * Returns public key and ICON address for a given BIP 32 path.\n   * @param path a path in BIP 32 format\n   * @option boolDisplay optionally enable or not the display\n   * @option boolChaincode optionally enable or not the chaincode request\n   * @return an object with a publickey(hexa string), address(string) and \n   *  (optionally) chaincode(hexa string)\n   * @example\n   * icx.getAddress(\"44'/4801368'/0'\", true, true).then(o => o.address)\n   */\n  getAddress(\n    path: string,\n    boolDisplay: boolean = false,\n    boolChaincode: boolean = true\n  ): Promise<{\n    publicKey: string,\n    address: string,\n    chainCode?: string\n  }> {\n    let paths = splitPath(path);\n    let buffer = new Buffer(1 + paths.length * 4);\n    buffer[0] = paths.length;\n    paths.forEach((element, index) => {\n      buffer.writeUInt32BE(element, 1 + 4 * index);\n    });\n    return this.transport\n      .send(\n        0xe0,\n        0x02,\n        boolDisplay ? 0x01 : 0x00,\n        boolChaincode ? 0x01 : 0x00,\n        buffer\n      )\n      .then((response: any) => {\n        let result = { publicKey: \"\", address: \"\", chainCode: \"\" };\n        let publicKeyLength = response[0];\n        result.publicKey = response.slice(1, 1 + publicKeyLength).toString(\"hex\");\n        let addressLength = response[1 + publicKeyLength];\n        result.address = response.slice(1 + publicKeyLength + 1, 1 + publicKeyLength + 1 + addressLength);\n        if (boolChaincode) {\n          result.chainCode = response.slice(-32).toString(\"hex\");\n        }\n        return result;\n      });\n  }\n\n  /**\n   * Signs a transaction and returns signed message given the raw transaction\n   * and the BIP 32 path of the account to sign\n   * @param path a path in BIP 32 format\n   * @param rawTxAscii raw transaction data to sign in ASCII string format\n   * @return an object with a base64 encoded signature and hash in hexa string\n   * @example\n   * icx.signTransaction(\"44'/4801368'/0'\",\n   *     \"icx_sendTransaction.fee.0x2386f26fc10000.\" +\n   *     \"from.hxc9ecad30b05a0650a337452fce031e0c60eacc3a.nonce.0x3.\" +\n   *     \"to.hx4c5101add2caa6a920420cf951f7dd7c7df6ca24.value.0xde0b6b3a7640000\")\n   *   .then(result => ...)\n   */\n  signTransaction(\n    path: string,\n    rawTxAscii: string\n  ): Promise<{\n    signedRawTxBase64: string,\n    hashHex: string\n  }> {\n    let paths = splitPath(path);\n    let offset = 0;\n    let rawTx = new Buffer(rawTxAscii);\n    let toSend = [];\n    let response: any;\n    while (offset !== rawTx.length) {\n      let maxChunkSize = offset === 0 ? 150 - 1 - paths.length * 4 - 4 : 150;\n      let chunkSize =\n        offset + maxChunkSize > rawTx.length\n          ? rawTx.length - offset\n          : maxChunkSize;\n      let buffer = new Buffer(\n        offset === 0 ? 1 + paths.length * 4 + 4 + chunkSize : chunkSize\n      );\n      if (offset === 0) {\n        buffer[0] = paths.length;\n        paths.forEach((element, index) => {\n          buffer.writeUInt32BE(element, 1 + 4 * index);\n        });\n        buffer.writeUInt32BE(rawTx.length, 1 + 4 * paths.length);\n        rawTx.copy(buffer, 1 + 4 * paths.length + 4, offset, offset + chunkSize);\n      } else {\n        rawTx.copy(buffer, 0, offset, offset + chunkSize);\n      }\n      toSend.push(buffer);\n      offset += chunkSize;\n    }\n    return foreach(toSend, (data, i) =>\n      this.transport\n        .send(0xe0, 0x04, i === 0 ? 0x00 : 0x80, 0x00, data)\n        .then((apduResponse: any) => {\n          response = apduResponse;\n        })\n    ).then(() => {\n      let result = { signedRawTxBase64: \"\", hashHex: \"\" };\n      // r, s, v are aligned sequencially\n      result.signedRawTxBase64 =\n        hexToBase64(response.slice(0, 32 + 32 + 1).toString(\"hex\"));\n      result.hashHex =\n        response.slice(32 + 32 + 1, 32 + 32 + 1 + 32).toString(\"hex\");\n      return result;\n    });\n  }\n\n  /**\n   * Returns the application configurations such as versions.\n   * @return  major/minor/patch versions of Icon application\n   */\n  getAppConfiguration(): Promise<{\n    majorVersion: number,\n    minorVersion: number,\n    patchVersion: number\n  }> {\n    return this.transport\n      .send(0xe0, 0x06, 0x00, 0x00)\n      .then((response: any) => {\n        let result = {\n          majorVersion: response[0],\n          minorVersion: response[1],\n          patchVersion: response[2]\n        };\n        return result;\n      });\n  }\n\n  /**\n   * Sets the given key as the test purpose private key corresponding to \n   * \"\\0'\" of BIP 32 path just for test purpose. After calling this function,\n   * all functions with \"\\0'\" path works based on this private key. \n   * REMARK: Test purpose only such as verifying signTransaction function. \n   * @param privateKeyHex private key in hexadecimal string format\n   * @example\n   * icx.setTestPrivateKey(\"23498dc21b9ee52e63e8d6566e0911ac255a38d3fcbc68a51e6b298520b72d6e\")\n   *   .then(result => ...)\n   * icx.getAddress(\"0'\", false, false).then(o => o.address)\n   */\n  setTestPrivateKey(privateKeyHex: string) {\n    let data = new Buffer(32);\n    for (let i = 0; i < privateKeyHex.length; i += 2) {\n      data[i / 2] = parseInt(privateKeyHex.substr(i, 2), 16);\n    }\n    return this.transport.send(0xe0, 0xff, 0x00, 0x00, data).then();\n  }\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANwAAADcCAIAAACUOFjWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhDMDVCMkYwMzdEOTExRTg4NzVFQjg3NTMxRDRGNTgxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjhDMDVCMkYxMzdEOTExRTg4NzVFQjg3NTMxRDRGNTgxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OEMwNUIyRUUzN0Q5MTFFODg3NUVCODc1MzFENEY1ODEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OEMwNUIyRUYzN0Q5MTFFODg3NUVCODc1MzFENEY1ODEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz435/dFAAAfzklEQVR42uxd268k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\"","module.exports = __webpack_public_path__ + \"static/media/twitter.5ea6efea.png\";","module.exports = __webpack_public_path__ + \"static/media/Logo_horizon.72fe37e4.png\";","import gql from \"graphql-tag\";\n\nexport const GET_PROPOSAL = gql`\nquery Proposal($id: Int!) {\n  proposal(id: $id) {\n    id\n    prep{\n      id\n      username\n      iconAddress\n    }\n    status\n    subject\n    contents\n    published\n    expireAt\n    electoralTh\n    winningTh\n    prepPid\n    selectitemmodelSet {\n      id\n      index\n      contents\n      votemodelSet{\n        id\n        select {\n          id\n        }\n        voter {\n          id\n          username\n          iconAddress\n        }\n      }\n    }\n  }\n}\n`;\n\nexport const SET_PROPOSAL = gql`\nmutation SetProposal(\n  $proposalId: Int\n  $subject: String!\n  $contents: String!\n  $published: Boolean!\n  $electoralTh: Int!\n  $winningTh: Int!\n  $expireAt: DateTime!\n  $selectItemList: [SelectItemInput]\n) {\n  setProposal(\n    proposalId: $proposalId\n    subject: $subject\n    contents: $contents\n    published: $published\n    electoralTh:$electoralTh\n    winningTh:$winningTh\n    expireAt: $expireAt\n    selectItemList: $selectItemList\n  ) {\n    proposal {\n      id\n      selectitemmodelSet {\n        id\n      }\n    }\n  }\n}\n`;\n\nexport const SET_PUBLISH = gql`\nmutation PublishProposal($proposalId: Int!) {\n  publishProposal(proposalId: $proposalId) {\n    proposal {\n      id\n      status\n      subject\n      contents\n      published\n      electoralTh\n      winningTh\n      expireAt\n      selectitemmodelSet {\n        index\n        contents\n        votemodelSet {\n          voter {\n            username\n          }\n        }\n      }\n    }\n  }\n}\n`;\n\nexport const SET_VOTE = gql`\nmutation VoteProposal($proposer:String!, $proposalId: Int!, $selectItemIndex: Int!) {\n  voteProposal(proposer:$proposer, proposalId: $proposalId, selectItemIndex: $selectItemIndex) {\n    proposal {\n      id\n      status\n      subject\n      contents\n      published\n      electoralTh\n      winningTh\n      expireAt\n      selectitemmodelSet {\n        index\n        contents\n        votemodelSet {\n          voter {\n            username\n          }\n        }\n      }\n    }\n  }\n}\n`;\n\n\nexport const TOKEN_AUTH = gql`\nmutation TokenAuth($username: String!, $password: String!) {\n  tokenAuth(username: $username, password: $password) {\n    token\n    refreshToken\n  }\n}\n`;\n\nexport const GET_LOCAL_SNACK = gql`\nquery {\n  snack @client {\n    message\n    open\n  }\n}\n`;\n\nexport const SET_USER = gql`\nmutation SetUser($username: String!, $password: String!) {\n  setUser(username: $username, password: $password) {\n    user {\n      username\n      email\n    }\n  }\n}\n`;\n\nexport const LOG_OUT = gql`\nmutation Logout {\n  logout {\n    noop\n  }\n}\n`;\n\nexport const GET_PREPS = gql`\nquery {\n  allPrep{\n    id\n    username\n    iconAddress\n  }\n}\n`;\n\nexport const GET_PROPOSAL4EDIT = gql`\nquery Proposal4Edit($id: Int!) {\n  proposal(id: $id) {\n    id\n    prep{\n      id\n      username\n    }\n    status\n    subject\n    contents\n    published\n    expireAt\n    electoralTh\n    winningTh\n    selectitemmodelSet {\n      id\n      index\n      contents\n    }\n  }\n  viewer{\n    username\n    iconAddress\n    isPrep\n  }\n}\n`;\n\nexport const GET_PROPOSALS = gql`\nquery Proposals($selectedPRep:String, $first: Int, $end: Int) {\n  proposals(prep:$selectedPRep, first: $first, end: $end) {\n    id\n    status\n    subject\n    prep{\n      id\n      username\n    }\n    prepPid\n    contents\n    selectitemmodelSet {\n      contents\n      votemodelSet{\n        id\n        select {\n          id\n        }\n        voter {\n          id\n          username\n        }\n      }\n    }\n  }\n}\n`;\n\nexport const NEW_PREP = gql`\nmutation SetPRep($Address: String!) {\n  setPrep(iconAddress:$Address) {\n    prep{\n      id\n      username\n      iconAddress\n      isPrep\n    }\n  }\n}\n`;\n\nexport const ADD_ICON_ADDRESS = gql`\nmutation AddIconAddress($IconAddress:String!){\n  addIconAddress(iconAddress:$IconAddress){\n    user{\n      username\n      iconAddress\n    }\n  }\n}\n`;\n\nexport const FINALIZE = gql`\nmutation Finalize($Proposer:String!, $ProposalID:Int!){\n  finalize(proposer:$Proposer, proposalId:$ProposalID){\n    proposal{\n      id\n      status\n      subject\n    }\n  }\n}\n`;\n\nexport const REFRESH_TOKEN = gql`\nmutation RefreshToken($token:String!) {\n  refreshToken(token:$token) {\n    token\n  }\n}\n`;\n\nexport const VIEWER = gql`\nquery {\n  viewer @client {\n    username\n    iconAddress\n    isPrep\n  }\n}\n`;\n\nexport const GET_VIEWER = gql`\nquery {\n  viewer{\n    username\n    iconAddress\n    isPrep\n  }\n}\n`;\n\nexport function selectWallet() {\n  window.dispatchEvent(new CustomEvent('ICONEX_RELAY_REQUEST', {\n    detail: {\n      type: 'REQUEST_ADDRESS'\n    }\n  }));\n}\n","import { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    card: {\n      minWidth: 275\n    },\n    avatar: {\n      margin: 10\n    },\n    bigAvatar: {\n      margin: 10,\n      width: 60,\n      height: 60\n    },\n    overflowHidden: {\n      overflow: \"hidden\"\n    },\n    bullet: {\n      display: \"inline-block\",\n      margin: \"0 2px\",\n      transform: \"scale(0.8)\"\n    },\n    title: {\n      fontSize: 18,\n      flexGrow: 1\n    },\n    link: {\n      textDecoration: \"none\",\n      color: \"#000000\"\n    },\n    pos: {\n      marginBottom: 12\n    },\n    formControl: {\n      margin: theme.spacing(0),\n      minwidth: 240\n    },\n    viewer: {\n      height: \"350px\",\n      overflow: \"auto\"\n    },\n    papercontainer: {\n      spacing: theme.spacing(0),\n      margin: theme.spacing(2),\n      padding: theme.spacing(0),\n      overflow: \"auto\"\n    },\n    paper: {\n      margin: theme.spacing(1),\n      padding: theme.spacing(1),\n      display: \"flex\",\n      overflow: \"auto\",\n      flexDirection: \"column\"\n    },\n    rootcontainer: {\n      spacing: theme.spacing(0),\n      margin: \"auto\",\n      padding: theme.spacing(1),\n      display: \"flex\",\n      flexwrap: \"wrap\"\n    },\n    container: {\n      spacing: theme.spacing(0),\n      margin: theme.spacing(0),\n      padding: theme.spacing(0),\n      display: \"flex\",\n      alignItems: \"center\",\n      flexwrap: \"wrap\"\n    },\n    grid: {\n      margin: theme.spacing(0),\n      padding: theme.spacing(0)\n    },\n    item: {\n      margin: theme.spacing(0),\n      padding: theme.spacing(1)\n    },\n    paddingSide: {\n      margin: theme.spacing(0),\n      padding: theme.spacing(0),\n      paddingLeft: theme.spacing(1),\n      paddingRight: theme.spacing(1),\n    },\n    table: {\n      minWidth: 650,\n    },\n    center: {\n      textAlign: \"center\"\n    },\n    left: {\n      textAlign: \"left\"\n    },\n    right: {\n      textAlign: \"right\"\n    },\n    pagination: {\n      flexShrink: 0,\n      marginLeft: theme.spacing(2.5)\n    },\n    selectLabel: {\n      margin: theme.spacing(0),\n      marginLeft: theme.spacing(2)\n    },\n    textField: {\n      margin: theme.spacing(0),\n      width: \"100%\"\n    },\n    root: {\n      display: \"flex\"\n    },\n    toolbar: {\n      paddingRight: 24 // keep right padding when drawer closed\n    },\n    noMarginPadding: {\n      margin: 0,\n      padding: 0\n    },\n    toolbarIcon: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"flex-end\",\n      padding: \"0 8px\",\n      ...theme.mixins.toolbar\n    },\n    appBar: {\n      zIndex: theme.zIndex.drawer + 1,\n      transition: theme.transitions.create([\"width\", \"margin\"], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      })\n    },\n    appBarShift: {\n      marginLeft: drawerWidth,\n      width: `calc(100% - ${drawerWidth}px)`,\n      transition: theme.transitions.create([\"width\", \"margin\"], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen\n      })\n    },\n    margin: {\n      margin: theme.spacing(1)\n    },\n    menuButton: {\n      marginRight: 36\n    },\n    menuButtonHidden: {\n      display: \"none\"\n    },\n    drawerPaper: {\n      position: \"relative\",\n      whiteSpace: \"nowrap\",\n      width: drawerWidth,\n      transition: theme.transitions.create(\"width\", {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen\n      })\n    },\n    drawerPaperClose: {\n      overflowX: \"hidden\",\n      transition: theme.transitions.create(\"width\", {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      }),\n      width: theme.spacing(7),\n      [theme.breakpoints.up(\"sm\")]: {\n        width: theme.spacing(9)\n      }\n    },\n    appBarSpacer: theme.mixins.toolbar,\n    content: {\n      flexGrow: 1,\n      height: \"100vh\",\n      overflow: \"auto\"\n    },\n    fixedHeight: {\n      height: 600\n    }\n  })\n);\n\nexport default useStyles;\n","import React from \"react\";\nimport useStyles from \"./Style\";\nimport { Typography, Grid, Paper } from \"@material-ui/core\";\nimport clsx from \"clsx\";\nimport YoutubePlayer from 'react-player/lib/players/YouTube';\n\nimport './video-react.css';\n\nfunction LandingPage(props: any) {\n  const classes = useStyles();\n\n  return (\n    <Grid item className={classes.grid} xs={12} md={12} lg={12}>\n      <Paper className={classes.paper}>\n        <Grid container className={classes.container}>\n          <Grid item className={classes.paddingSide} xs={\"auto\"} md={2} lg={2}>\n          </Grid>\n          <Grid item className={clsx(classes.paddingSide, classes.center)} xs={12} md={8} lg={8}>\n            <br />\n            <br />\n            <Typography variant=\"h4\" color=\"primary\"><b>Welcome to ICON VOTE</b></Typography>\n            <br />\n            <br />\n            <YoutubePlayer\n              url=\"https://youtube.com/watch?v=UrkEUU3Zz_0\"\n              playing={false}\n              width={\"100%\"}\n            />\n            <br />\n            <br />\n            <Typography variant=\"h5\" color=\"textPrimary\"></Typography>\n            <br />\n            <br />\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={\"auto\"} md={2} lg={2}>\n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid>\n  );\n}\n\nexport default LandingPage;\n","import React from \"react\";\nimport \"codemirror/lib/codemirror.css\";\nimport \"tui-editor/dist/tui-editor.min.css\";\nimport \"tui-editor/dist/tui-editor-contents.min.css\";\nimport { Editor, Viewer } from \"@toast-ui/react-editor\";\n\nexport function TUIEditor(props: any) {\n  // console.log(\"TUI Editor props: \", props);\n  let editorRef = React.createRef<any>();\n\n  let handleChange = () => {\n    const value = editorRef.current.getInstance().getValue();\n    props.onChange(value);\n  }\n  if (!props.onChange) {\n    handleChange = () => { return }\n  }\n\n  return (\n    <Editor\n      initialValue={props.initialValue}\n      previewStyle={props.previewStyle}\n      height={props.height}\n      initialEditType={props.initialEditType}\n      useCommandShortcut={props.useCommandShortcut}\n      exts={props.exts}\n      ref={editorRef}\n      onChange={handleChange}\n    />\n  );\n}\n\nexport function TUIViewer(props: any) {\n  // console.log(\"TUI Viewer props: \", props);\n  return (\n    <Viewer\n      initialValue={props.initialValue}\n      height={props.height}\n    />\n  );\n}\n","import React from \"react\";\nimport useStyles from \"./Style\";\nimport { Grid, Paper } from \"@material-ui/core\";\nimport { TUIViewer } from \"./TUIEditor\";\n\nfunction HowTo(props: any) {\n  const classes = useStyles();\n\n  const contents = `\n# **Instructions for P-reps**\n\n*Create a P-rep page to propose votes to your own ICX delegators*\n\n#### Sign up\n\n1. Click “Join Now” on the top right to sign up\n![https://icon.vote/static/img1.png](https://icon.vote/static/img1.png)\n2. Type in “Username” and “Password” to sign up\n3. Verify P-rep node ownership by signing a transaction from publicly known P-rep wallet\n    1. Click “Verify ICON Address” to sign a transaction\n    2. Click “Check Your Verified Address” so that blockchain can confirm\n![https://icon.vote/static/img2.png](https://icon.vote/static/img2.png)\n\n#### Propose a vote\n\n1. Sign in as a P-rep with “Username” and “Password”\n2. “Launch new votes” will appear for P-reps\n3. Click “Launch new votes”\n![https://icon.vote/static/img4.png](https://icon.vote/static/img4.png)\n4. Click the “NEW” button to propose a vote\n5. Fill out the following information\n    1. Subject of the vote\n    2. Options for the vote\n    3. Description of the vote\n    4. Vote Duration\n    5. Participation Quorum (ex: vote needs 20%+ of ICX delegated to ICX Station to participate in the vote for the vote to be valid)\n    6. Minimum approval rate to pass (ex: option A needs 50%+ of votes to approve in order to pass)\n![https://icon.vote/static/img5.png](https://icon.vote/static/img5.png)\n6. The Draft page will appear. Please make sure to check the details and click “Publish”\n    1. Green graph shows “Quorum requirement”\n    2. Blue graph shows “Minimum Approval Rate”\n    3. “Total Delegation” represents Total # of ICX delegated to the P-rep\n![https://icon.vote/static/img6.png](https://icon.vote/static/img6.png)\n7. The new vote will be recorded on the blockchain and the transaction can be found in the vote explorer under the P-rep’s page\n8. Make sure to share the vote link to your community so that they can participate in the vote (Twitter, FB link available)\n![https://icon.vote/static/img7.png](https://icon.vote/static/img7.png)\n\n# **Instructions for ICX delegator**\n\n*How to Participate in a vote proposed by a P-rep*\n\n#### Sign up\n\n1. Click “Join Now” on the top right to sign up\n![https://icon.vote/static/img8.png](https://icon.vote/static/img8.png)\n2. Type in “Username” and “Password” to sign up\n3. Verify ICX wallet ownership by signing a transaction from one’s wallet\n    1. Click “Verify ICON Address” to sign a transaction\n    2. Click “Check Your Verified Address” so that the blockchain can confirm\n![https://icon.vote/static/img9.png](https://icon.vote/static/img9.png)\n\n#### Participate in a vote\n\n1. Sign in as a user with “Username” and “Password”\n2. Click “Vote Explorer”\n3. Click a P-rep one has delegated ICX to\n4. P-rep page will show votes\n    1. The P-rep page will also show total ICX delegated to the P-rep\n    2. The P-rep page will also show user’s ICX delegated to the P-rep (voting power)\n5. Click a vote you would like to participate in\n6. Click an option you would like to vote for\n7. The following result page will show up\n    1. Red line on green bar shows “Quorum requirement” (ex: vote needs 20%+ of ICX delegated to ICX Station to participate in the vote for the vote to be valid)\n    2. Minimum approval rate to pass (ex: option A needs 50%+ of votes to approve in order to pass)\n    3. Total # of delegates: # of ICX delegated to the P-rep\n    4. Total # of votes: # of P-rep delegated ICX that participated in the vote\n    5. Your # of votes: # of user’s ICX delegated to the P-rep\n    6. Votes will be recorded on the blockchain and shown at the bottom of the vote\n![https://icon.vote/static/img11.png](https://icon.vote/static/img11.png)\n`;\n\n  return (\n    <Grid item className={classes.grid} xs={12} md={12} lg={12}>\n      <Paper className={classes.paper}>\n        <Grid container className={classes.container}>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <TUIViewer\n              initialValue={contents}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid>\n  );\n}\n\nexport default HowTo;","const server = \"icon.vote\"\nexport const graphqlURL = \"https://\" + server + \"/graphql/\";\nexport const csrfURL = \"https://\" + server + \"/csrf/\";\nexport const nodeURL = \"https://ctz.solidwallet.io/\";\nexport const trackerURL = \"https://tracker.icon.foundation/\";\nexport const contractAddress = \"cx2ec14b928b87ef5c1cbe0b9abda151ff088ba03c\";\n","import IconService from 'icon-sdk-js';\nimport { nodeURL, contractAddress } from \"./Config\";\n\nconst ICON_NETWORK = nodeURL + \"api/v3\";\nconst CONTRACT = contractAddress;\nconst Provider = new IconService.HttpProvider(ICON_NETWORK);\nexport const iconService = new IconService(Provider);\nexport const IconBuilder = IconService.IconBuilder;\nexport const IconConverter = IconService.IconConverter;\nexport const IconUtil = IconService.IconUtil;\n\nexport const selectedIconService = iconService;\n\nexport async function jsonRpcCall(methodName: string, params: any) {\n  // console.log(\"params\", params);\n  var callBuilder = new IconBuilder.CallBuilder();\n  var callObj = callBuilder\n    .to(CONTRACT)\n    .method(methodName)\n    .params(params)\n    .build();\n\n  // console.log(callObj);\n  return await selectedIconService.call(callObj).execute();\n}\n\nexport async function jsonRpcSendTx(fromWallet: string, methodName: string, params: any) {\n  let timestamp = new Date();\n  var txBuilder = new IconBuilder.CallTransactionBuilder();\n  var txObj = txBuilder\n    .from(fromWallet)\n    .to(CONTRACT)\n    .nid(IconConverter.toBigNumber(\"1\"))\n    .version(IconConverter.toBigNumber(\"3\"))\n    .stepLimit(IconConverter.toBigNumber(\"10000000\"))\n    .timestamp(timestamp.valueOf() * 1000)\n    .method(methodName)\n    .params(params)\n    .build();\n  const scoreData = JSON.stringify({\n    \"jsonrpc\": \"2.0\",\n    \"method\": \"icx_sendTransaction\",\n    \"params\": IconConverter.toRawTransaction(txObj),\n    \"id\": 0\n  });\n\n  const parsed = JSON.parse(scoreData);\n  const customEvent = new CustomEvent(\"ICONEX_RELAY_REQUEST\", {\n    detail: {\n      type: 'REQUEST_JSON-RPC',\n      payload: parsed\n    }\n  }\n  );\n  window.dispatchEvent(customEvent);\n}\n\nexport async function governanceCall(methodName: string, params: any) {\n  // console.log(\"params\", params);\n  var callBuilder = new IconBuilder.CallBuilder();\n  var callObj = callBuilder\n    .to(\"cx0000000000000000000000000000000000000000\")\n    .method(methodName)\n    .params(params)\n    .build();\n\n  // console.log(callObj);\n  return await selectedIconService.call(callObj).execute();\n}\n\nexport async function governanceSendTx(fromWallet: string, methodName: string, params: any) {\n  let timestamp = new Date();\n  var txBuilder = new IconBuilder.CallTransactionBuilder();\n  var txObj = txBuilder\n    .from(fromWallet)\n    .to(\"cx0000000000000000000000000000000000000000\")\n    .nid(IconConverter.toBigNumber(\"1\"))\n    .version(IconConverter.toBigNumber(\"3\"))\n    .stepLimit(IconConverter.toBigNumber(\"10000000\"))\n    .timestamp(timestamp.valueOf() * 1000)\n    .method(methodName)\n    .params(params)\n    .build();\n  const scoreData = JSON.stringify({\n    \"jsonrpc\": \"2.0\",\n    \"method\": \"icx_sendTransaction\",\n    \"params\": IconConverter.toRawTransaction(txObj),\n    \"id\": 0\n  });\n\n  const parsed = JSON.parse(scoreData);\n  const customEvent = new CustomEvent(\"ICONEX_RELAY_REQUEST\", {\n    detail: {\n      type: 'REQUEST_JSON-RPC',\n      payload: parsed\n    }\n  }\n  );\n  window.dispatchEvent(customEvent);\n}\n\nexport async function networkProposalCall(methodName: string, params: any) {\n  // console.log(\"params\", params);\n  var callBuilder = new IconBuilder.CallBuilder();\n  var callObj = callBuilder\n    .to(\"cx0000000000000000000000000000000000000001\")\n    .method(methodName)\n    .params(params)\n    .build();\n\n  // console.log(callObj);\n  return await selectedIconService.call(callObj).execute();\n}\n\nexport async function networkProposalSendTx(fromWallet: string, methodName: string, params: any) {\n  let timestamp = new Date();\n  var txBuilder = new IconBuilder.CallTransactionBuilder();\n  var txObj = txBuilder\n    .from(fromWallet)\n    .to(\"cx0000000000000000000000000000000000000001\")\n    .nid(IconConverter.toBigNumber(\"1\"))\n    .version(IconConverter.toBigNumber(\"3\"))\n    .stepLimit(IconConverter.toBigNumber(\"10000000\"))\n    .timestamp(timestamp.valueOf() * 1000)\n    .method(methodName)\n    .params(params)\n    .build();\n  const scoreData = JSON.stringify({\n    \"jsonrpc\": \"2.0\",\n    \"method\": \"icx_sendTransaction\",\n    \"params\": IconConverter.toRawTransaction(txObj),\n    \"id\": 0\n  });\n\n  const parsed = JSON.parse(scoreData);\n  const customEvent = new CustomEvent(\"ICONEX_RELAY_REQUEST\", {\n    detail: {\n      type: 'REQUEST_JSON-RPC',\n      payload: parsed\n    }\n  }\n  );\n  window.dispatchEvent(customEvent);\n}\n","import React from \"react\";\nimport { Dialog, DialogTitle, DialogContent, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, TablePagination, Paper, Typography, TableFooter, IconButton, Button } from \"@material-ui/core\";\nimport { FirstPage, KeyboardArrowLeft, KeyboardArrowRight, LastPage, LooksOneOutlined } from \"@material-ui/icons\";\n// import clsx from \"clsx\";\nimport useStyles from \"./Style\";\n\n\ninterface TablePaginationActionsProps {\n  page: number;\n  onChangePage: (event: React.MouseEvent<HTMLButtonElement>, newPage: number) => void;\n}\n\nfunction TablePaginationActions(props: TablePaginationActionsProps) {\n  const classes = useStyles();\n  const { page, onChangePage } = props;\n\n  const handleFirstPageButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    onChangePage(event, 0);\n  };\n\n  const handleBackButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    onChangePage(event, page - 1);\n  };\n\n  const handleNextButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    onChangePage(event, page + 1);\n  };\n\n  const handleLastPageButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    onChangePage(event, page + 5);\n  };\n\n  return (\n    <div className={classes.root}>\n      <IconButton\n        onClick={handleFirstPageButtonClick}\n        disabled={page === 0}\n        aria-label=\"first page\"\n      >\n        <FirstPage />\n      </IconButton>\n      <IconButton onClick={handleBackButtonClick} disabled={page === 0} aria-label=\"previous page\">\n        <KeyboardArrowLeft />\n      </IconButton>\n      <IconButton\n        onClick={handleNextButtonClick}\n        aria-label=\"next page\"\n      >\n        <KeyboardArrowRight />\n      </IconButton>\n      <IconButton\n        onClick={handleLastPageButtonClick}\n        aria-label=\"last page\"\n      >\n        <LastPage />\n      </IconButton>\n    </div>\n  );\n}\n\nfunction LedgerDialog(props: any) {\n  // console.log(\"LedgerDialog props\", props);\n  // const classes = useStyles();\n\n  return (\n    <>\n      <Button variant=\"contained\" color=\"primary\" fullWidth onClick={() => { props.setPage(0); props.setOpen(true) }} startIcon={<LooksOneOutlined />}>Verify ICON Address(Ledger)</Button>\n      <Dialog\n        maxWidth=\"lg\"\n        aria-labelledby=\"confirmation-dialog-title\"\n        open={props.open}\n        onClose={props.handleClose}\n      >\n        <DialogTitle id=\"confirmation-dialog-title\">Select Ledger Address</DialogTitle>\n        <DialogContent dividers>\n          <TableContainer component={Paper}>\n            <Table>\n              <TableHead>\n                <TableRow>\n                  <TableCell>\n                    <Typography variant=\"subtitle2\" color=\"textPrimary\">#</Typography>\n                  </TableCell>\n                  <TableCell>\n                    <Typography variant=\"subtitle2\" color=\"textPrimary\">Address</Typography>\n                  </TableCell>\n                  <TableCell>\n                    <Typography variant=\"subtitle2\" color=\"textPrimary\">Balance</Typography>\n                  </TableCell>\n                  <TableCell>\n                    <Typography variant=\"subtitle2\" color=\"textPrimary\"></Typography>\n                  </TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {props.list.map((item: any, idx: number) => (\n                  <TableRow key={idx}>\n                    <TableCell>\n                      <Typography variant=\"subtitle2\" color=\"textPrimary\">{(props.page * 5) + idx + 1}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <Typography variant=\"body1\" color=\"textPrimary\">{item.address}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <Typography variant=\"body1\" color=\"textSecondary\">{item.balance}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <Button variant=\"contained\" color=\"primary\" onClick={() => props.selectAddress(item)}>Verify</Button>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n              <TableFooter>\n                <TableRow>\n                  <TablePagination\n                    colSpan={2}\n                    rowsPerPage={5}\n                    rowsPerPageOptions={[5]}\n                    page={props.page}\n                    count={-1}\n                    onChangePage={props.handleChangePage}\n                    ActionsComponent={TablePaginationActions}\n                  />\n                </TableRow>\n              </TableFooter>\n            </Table>\n          </TableContainer>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n}\n\nexport default LedgerDialog;","import React, { useState, useEffect } from \"react\";\n// import clsx from \"clsx\";\nimport Transport from \"@ledgerhq/hw-transport-u2f\";\nimport Icx from \"./Icx\";\nimport { iconService, IconBuilder, IconConverter, IconUtil } from \"./IconConnect\";\nimport { GET_VIEWER } from \"./GQL\";\nimport { useApolloClient } from \"@apollo/react-hooks\";\nimport { contractAddress } from \"./Config\";\n\nimport LedgerDialog from \"./LedgerDialog\";\n\nfunction LedgerDialogContainer(props: any) {\n  // console.log(\"LedgerDialog props\", props);\n\n  const [open, setOpen] = useState(false);\n  const [page, setPage] = useState(-1);\n  const [list, setList] = useState<any[]>([]);\n\n  const client = useApolloClient();\n\n  useEffect(() => {\n    getAddresses(page);\n  }, [page]);\n\n  async function getAddressNBalance(idx: number) {\n    const path = \"44'/4801368'/0'/0'/\" + idx.toString() + \"'\";\n    const transport = await Transport.create();\n    transport.setDebugMode(false);         // if you want to print log\n    transport.setExchangeTimeout(60000);  // Set if you want to change U2F timeout. default: 30 sec\n\n    const icx = new Icx(transport);\n    // coin type: ICX(4801368), ICON testnet(1)\n    let addressResult: any;\n    let address: any;\n    let balance: any;\n    try {\n      addressResult = await icx.getAddress(path, false, true);\n      address = addressResult.address.toString();\n      balance = await iconService.getBalance(addressResult.address.toString()).execute();\n    } catch (e) {\n      setPage(-1);\n      setOpen(false);\n      throw new Error(\"Ledger Not Connected\");\n    }\n    return { address, balance };\n  }\n\n  async function getAddresses(newPage: number) {\n    if (newPage === -1) {\n      return;\n    }\n    setList([]);\n    let tmpList = [];\n    const start = newPage * 5;\n    const end = newPage * 5 + 5\n    try {\n      for (let i = start; i < end; i++) {\n        const result = await getAddressNBalance(i);\n        tmpList.push({ index: i, address: result.address, balance: result.balance / 10 ** 18 })\n      }\n      setList(tmpList);\n    } catch (e) {\n      alert(\"Please Connect Ledger\");\n    }\n  }\n  const handleChangePage = (event: React.MouseEvent<HTMLButtonElement> | null, newPage: number) => {\n    setPage(newPage);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  function selectAddress(item: any) {\n    setOpen(false);\n    sendVerifyLedger(item.index);\n    alert(\"Please Sign Transaction on Your Ledger\");\n    props.selectNotice(1);\n  }\n\n  async function sendVerifyLedger(addressIdx: number) {\n    client.query({ query: GET_VIEWER }).then(async (result) => {\n      const path = \"44'/4801368'/0'/0'/\" + addressIdx.toString() + \"'\";\n      const transport = await Transport.create();\n      transport.setDebugMode(true);         // if you want to print log\n      transport.setExchangeTimeout(60000);  // Set if you want to change U2F timeout. default: 30 sec\n\n      const icx = new Icx(transport);\n      // coin type: ICX(4801368), ICON testnet(1)\n      let addressResult = await icx.getAddress(path, false, true);\n      const address = addressResult.address.toString();\n      // console.log(\"address\", address);\n      // console.log(\"balance\", await iconService.getBalance(addressResult.address.toString()).execute());\n      let timestamp = new Date();\n      var txBuilder = new IconBuilder.CallTransactionBuilder();\n      const methodName = \"verify\";\n      const lastBlock = await iconService.getBlock('latest').execute();\n      const params = { \"_block_hash\": lastBlock.blockHash, \"_id\": result.data.viewer.username };\n      var txObj = txBuilder\n        .from(address)\n        .to(contractAddress)\n        .nid(IconConverter.toBigNumber(\"1\"))\n        .version(IconConverter.toBigNumber(\"3\"))\n        .stepLimit(IconConverter.toBigNumber(\"10000000\"))\n        .timestamp(timestamp.valueOf() * 1000)\n        .method(methodName)\n        .params(params)\n        .build();\n      const rawTransaction = IconConverter.toRawTransaction(txObj);\n      const hashKey = IconUtil.generateHashKey(rawTransaction);\n\n      let { signedRawTxBase64 } = await icx.signTransaction(path, hashKey);\n      rawTransaction.signature = signedRawTxBase64;\n\n      iconService.sendTransaction({ getProperties: () => rawTransaction, getSignature: () => signedRawTxBase64 }).execute();\n    })\n  }\n\n\n  return (\n    <LedgerDialog\n      open={open}\n      setOpen={setOpen}\n      list={list}\n      page={page}\n      setPage={setPage}\n      handleClose={handleClose}\n      selectAddress={selectAddress}\n      handleChangePage={handleChangePage}\n    />\n  );\n}\n\nexport default LedgerDialogContainer;","import React from \"react\";\nimport { Grid, Paper, Typography, Divider, Button } from \"@material-ui/core\";\nimport { LooksOneOutlined, LooksTwoOutlined } from \"@material-ui/icons\";\nimport clsx from \"clsx\";\nimport useStyles from \"./Style\";\n\nimport { selectWallet } from \"./GQL\";\nimport LedgerDialogContainer from \"./LedgerDialogContainer\";\n\nfunction VerifyIcon(props: any) {\n  // console.log(\"VerifyIcon props\", props);\n  const classes = useStyles();\n\n  function Contents() {\n    return (\n      <>\n        <Grid item className={classes.item} xs={12} md={12} lg={12}>\n          <Typography variant=\"h5\" color=\"textPrimary\">{props.data.viewer.username}</Typography>\n        </Grid>\n        <Grid item className={classes.item} xs={12} md={12} lg={12}>\n          <Typography variant=\"h6\" color=\"textPrimary\">Verified Address: {props.verifiedAddress}</Typography>\n        </Grid>\n        <Grid className={classes.item} item xs={12} md={12} lg={12}>\n          <Typography variant=\"subtitle1\" color=\"textSecondary\">Connected Address: {props.connectedAddress}</Typography>\n        </Grid>\n        <Grid className={classes.item} item xs={12} md={12} lg={12}>\n          <br />\n          <br />\n        </Grid>\n        <Grid className={classes.item} item xs={12} md={12} lg={12}>\n          <Typography variant=\"h6\" color=\"primary\">{props.notice}</Typography>\n        </Grid>\n        <Grid className={classes.item} item xs={12} md={12} lg={12}>\n          <br />\n          <Divider />\n          <br />\n        </Grid>\n        <Grid container className={classes.container}>\n          <Grid item className={classes.item} xs={6} md={6} lg={6}>\n            <Button variant=\"contained\" color=\"primary\" fullWidth onClick={selectWallet} startIcon={<LooksOneOutlined />}>Verify ICON Address(IconEX)</Button>\n          </Grid>\n          <Grid item className={classes.item} xs={6} md={6} lg={6}>\n            <LedgerDialogContainer selectNotice={props.selectNotice} />\n          </Grid>\n        </Grid>\n        <Grid container className={classes.container}>\n          <Grid item className={classes.item} xs={12} md={12} lg={12}>\n            <Button variant=\"contained\" color=\"primary\" fullWidth onClick={props.callVerify} startIcon={<LooksTwoOutlined />}>Check and Register</Button>\n          </Grid>\n        </Grid>\n      </>\n    );\n  }\n\n  if (props.loading) return <p>Loading...</p>;\n  if (props.error) return <p>Error!:{props.error.message}</p>;\n  if (props.data && props.data.viewer.username) {\n\n    if (!props.activeStep) {\n      // props.callVerify();\n      return (\n        <Grid item className={clsx(classes.grid, classes.center)} xs={12} md={12} lg={12}>\n          <Paper className={clsx(classes.paper, classes.center)}>\n            <Grid container className={clsx(classes.container, classes.center)}>\n              <Contents />\n            </Grid>\n          </Paper>\n        </Grid>\n      );\n    } else {\n      return (\n        <Contents />\n      );\n    }\n\n  } else {\n    return <p>redirect</p>\n  }\n}\n\nexport default VerifyIcon;","import React, { useState } from \"react\";\n\nimport { useQuery, useMutation, useApolloClient } from \"@apollo/react-hooks\";\nimport { NEW_PREP, ADD_ICON_ADDRESS, GET_VIEWER } from \"./GQL\";\nimport { jsonRpcCall, jsonRpcSendTx, governanceCall, selectedIconService } from \"./IconConnect\";\n\nimport VerifyIcon from \"./VerifyIcon\";\n\nfunction VerifyIconContainer(props: any) {\n  // console.log(\"VerifyIconContainer props\", props);\n  const client = useApolloClient();\n\n  const msgForNotice = [\n    (<>{\"You need to verify your address\"}<br />{\"Press\\\"(1) VERIFY ICON ADDRESS\\\" to verify.\"}</>),\n    (<>{\"Your verify info is sent to SCORE\"}<br />{\"Press\\\"(2) CHECK AND REGISTER\\\" to check & resigter.\"}</>),\n    (\"You are verified as P-Rep\"),\n    (\"You are verified as User\")\n  ];\n\n  const [notice, setNotice] = useState(msgForNotice[0]);\n  const [isPRep, setIsPRep] = useState(false);\n  const [verifiedAddress, setVerifiedAddress] = useState(\"\");\n  const [flag, setFlag] = useState(true);\n  const [connectedAddress, setConnectedAddress] = useState(\"\");\n  const [mutateNewPRep] = useMutation(NEW_PREP);\n  const [mutateAddIconAddress] = useMutation(ADD_ICON_ADDRESS);\n\n  const eventHandler = (event: any) => {\n    const type = event.detail.type;\n    const payload = event.detail.payload;\n    if (type === \"RESPONSE_SIGNING\") {\n      // console.log(\"response signing\");\n      // console.log(payload); // e.g., 'q/dVc3qj4En0GN+...'\n    } else if (type === \"RESPONSE_JSON-RPC\") {\n      // console.log(\"response json rpc\");\n      // console.log(payload);\n      selectNotice(1);\n    } else if (type === \"RESPONSE_ADDRESS\") {\n      // console.log(\"response!!!!\", event, event.detail);\n      sendVerify(payload);\n      setConnectedAddress(payload);\n    }\n  };\n  if (flag) {\n    setFlag(false);\n    window.addEventListener(\"ICONEX_RELAY_RESPONSE\", eventHandler);\n  }\n\n  function selectNotice(idx: number) {\n    setNotice(msgForNotice[idx]);\n  }\n\n  function sendVerify(address: string) {\n    client.query({ query: GET_VIEWER }).then(async (result) => {\n      // console.log(\"reload OK\");\n      const lastBlock = await selectedIconService.getBlock('latest').execute();\n      const params = { \"_block_hash\": lastBlock.blockHash, \"_id\": result.data.viewer.username };\n\n      jsonRpcSendTx(address, \"verify\", params);\n    })\n  }\n\n  async function callVerify() {\n    let result = await jsonRpcCall(\"get_verify_info_by_id\", { \"_id\": queryVal.data.viewer.username });\n    // console.log(queryVal.data.viewer.username, result);\n    let result_json = JSON.parse(result);\n    if (result_json.address) {\n      setVerifiedAddress(result_json.address);\n    }\n\n    let PRepList = await governanceCall(\"getPReps\", { \"startRanking\": \"0x1\", \"endRanking\": \"0x60\" });\n    // console.log(\"PRepList\", PRepList);\n    for (let i = 0; i < PRepList.preps.length; i++) {\n      const aPRep = PRepList.preps[i];\n      if (aPRep.address === result_json.address) {\n        setIsPRep(true);\n\n        newPRepPage(result_json.address);\n        selectNotice(2);\n        return;\n      }\n    }\n\n    if (result_json.address) {\n      addIconAddress(result_json.address);\n      selectNotice(3);\n    }\n  }\n\n  function newPRepPage(address: string) {\n    mutateNewPRep({ variables: { Address: address } }).then(() => {\n      client.writeData({ data: { snack: { open: true, message: \"You Are Verified as P-Rep\", __typename: \"snack\" } } })\n    });\n  }\n\n  function addIconAddress(address: string) {\n    mutateAddIconAddress({ variables: { IconAddress: address } }).then((result) => {\n      client.writeData({ data: { snack: { open: true, message: \"You Are Verified as User!\", __typename: \"snack\" } } })\n    });\n  }\n\n  const queryVal = useQuery(GET_VIEWER);\n\n  return (<VerifyIcon\n    {...queryVal}\n    activeStep={props.activeStep}\n    connectedAddress={connectedAddress}\n    newPRepPage={newPRepPage}\n    addIconAddress={addIconAddress}\n    callVerify={callVerify}\n    verifiedAddress={verifiedAddress}\n    isPRep={isPRep}\n    notice={notice}\n    selectNotice={selectNotice}\n  />);\n}\n\nexport default VerifyIconContainer;","import React from \"react\";\nimport { Grid, Paper, List, ListSubheader, ListItem, ListItemIcon, ListItemText } from \"@material-ui/core\";\nimport { Star, FiberManualRecord } from \"@material-ui/icons\";\nimport useStyles from \"./Style\";\n\nfunction SelectPRep(props: any) {\n  // console.log(\"select prep props\", props);\n  const classes = useStyles();\n\n  if (props.loading) return <p>Loading...</p>\n  if (props.error) return <p>Error...</p>\n\n  let allPRep: any[] = [];\n  try {\n    for (let i = 0; i < props.data.allPrep.length; i++) {\n      for (let j = 0; j < props.delegations.length; j++) {\n        if (props.data.allPrep[i].iconAddress === props.delegations[j].address) {\n          allPRep.push({ username: props.data.allPrep[i].username, iconAddress: props.data.allPrep[i].iconAddress, isMyPRep: true })\n        }\n      }\n    }\n    for (let i = 0; i < props.data.allPrep.length; i++) {\n      let flag = false;\n      for (let j = 0; j < allPRep.length; j++) {\n        if (props.data.allPrep[i].username === allPRep[j].username) {\n          flag = true;\n        }\n      }\n      if (!flag) {\n        allPRep.push({ username: props.data.allPrep[i].username, iconAddress: props.data.allPrep[i].iconAddress, isMyPRep: false })\n      }\n    }\n  } catch {\n  }\n  return (\n    <Grid item className={classes.grid} xs={12} md={12} lg={12}>\n      <Paper className={classes.paper}>\n        <Grid container className={classes.container}>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <List\n              component=\"nav\"\n              subheader={\n                <ListSubheader component=\"div\">\n                  Select P-Rep\n                </ListSubheader>\n              }\n            >\n              {allPRep.map((item: any, idx: number) => (\n                <ListItem key={idx} button onClick={() => props.handleClick(item.username)}>\n                  {item.isMyPRep &&\n                    <ListItemIcon>\n                      <Star />\n                    </ListItemIcon>\n                  }\n                  {!item.isMyPRep &&\n                    <ListItemIcon>\n                      <FiberManualRecord />\n                    </ListItemIcon>\n                  }\n                  <ListItemText>{props.getPRepName(item.iconAddress)}</ListItemText>\n                </ListItem>\n              ))}\n            </List>\n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid>\n\n  );\n}\n\nexport default SelectPRep;\n","import React, { useState } from \"react\";\nimport { useQuery } from \"@apollo/react-hooks\"\nimport { GET_PREPS, GET_VIEWER } from \"./GQL\";\nimport { jsonRpcCall, governanceCall } from \"./IconConnect\";\nimport SelectPRep from \"./SelectPRep\";\n\nfunction SelectPRepContainer(props: any) {\n  // console.log(\"select prep container props\", props);\n  const [delegations, setDelegations] = useState<any>(false);\n  const [pReps, setPReps] = useState<any>(false);\n\n  const queryVal = useQuery(GET_PREPS);\n\n  const handleClick = (PRepName: string) => {\n    props.history.push(\"/Proposals/\" + PRepName)\n  }\n\n  const queryViewer = useQuery(GET_VIEWER);\n\n  if (queryViewer.data && queryViewer.data.viewer && queryViewer.data.viewer.username && !delegations) {\n    jsonRpcCall(\"get_verify_info_by_id\", { \"_id\": queryViewer.data.viewer.username }).then((result) => {\n      const resultJson = JSON.parse(result);\n      governanceCall(\"getDelegation\", { \"address\": resultJson.address }).then((result2) => {\n        setDelegations(result2.delegations);\n      });\n    });\n  }\n\n  if (!pReps) {\n    governanceCall(\"getPReps\", {}).then((result) => {\n      setPReps(result.preps);\n    })\n  }\n\n  function getPRepName(address: string) {\n    for (let i = 0; i < pReps.length; i++) {\n      if (pReps[i].address === address) {\n        return pReps[i].name;\n      }\n    }\n    return address;\n  }\n\n  return (\n    <SelectPRep\n      {...queryVal}\n      selectedPRep={props.selectedPRep}\n      delegations={delegations}\n      handleClick={handleClick}\n      getPRepName={getPRepName}\n    />\n  )\n}\n\nexport default SelectPRepContainer;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { Paper, Typography, Grid, Button, Chip } from \"@material-ui/core\";\nimport { Done as DoneIcon, HowToVote as VoteIcon, NotInterested as DisapproveIcon } from \"@material-ui/icons\";\nimport Pagination from \"react-js-pagination\";\nimport clsx from \"clsx\";\n\nimport useStyles from \"./Style\";\nimport \"./paginate.css\";\n\nfunction NoteProposals(props: any) {\n  // console.log(\"NoteProposals props\", props);\n  const classes = useStyles();\n\n  if (props.loading) return <p>Loading...</p>;\n  if (props.error) { console.log(props.error); return <p>Error!</p>; }\n  return (\n    <Grid item className={classes.grid} xs={12} md={12} lg={12}>\n      <Paper className={classes.paper}>\n        <Grid container className={classes.container} spacing={0}>\n          <Grid item className={classes.item} xs={12} lg={12}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={() => props.createNewProposal()}\n            >\n              New\n            </Button>\n          </Grid>\n          {props.data.proposals.map((item: any, idx: number) => {\n            let icon;\n            if (item.status === \"Approved\") {\n              icon = <DoneIcon />;\n            } else if (item.status === \"Voting\") {\n              icon = <VoteIcon />;\n            } else {\n              icon = <DisapproveIcon />;\n            }\n            return (\n              <Grid item className={classes.item} key={idx} xs={12} sm={6} md={4} lg={3}>\n                <Paper className={classes.paper}>\n                  <Chip\n                    icon={icon}\n                    size=\"small\"\n                    label={item.status}\n                    color=\"primary\"\n                  />\n                  <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\n                    <b>{item.id}.</b>\n                  </Typography>\n                  <Typography variant=\"h5\" color=\"textPrimary\" gutterBottom>\n                    <Link className={classes.link} to={\"/NoteProposal/\" + props.pRep + \"/\" + item.id} color=\"textPrimary\">\n                      {item.subject}\n                    </Link>\n                  </Typography>\n                  <ul>\n                    {item.selectitemmodelSet.map((selectItem: any, idx: number) => (\n                      <Typography variant=\"h6\" key={idx} color=\"textSecondary\">\n                        <li>\n                          {selectItem.contents}\n                        </li>\n                      </Typography>\n                    ))}\n                  </ul>\n                </Paper>\n              </Grid>\n            );\n          })}\n          <Grid item className={clsx(classes.item, classes.center)} xs={12} lg={12}>\n            <Pagination\n              activePage={props.activePage}\n              itemsCountPerPage={props.itemPerPage}\n              totalItemsCount={props.itemCount}\n              pageRangeDisplayed={5}\n              onChange={props.handlePageChange}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid >\n  );\n}\n\nexport default NoteProposals;\n","import React, { useState } from \"react\";\n\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { GET_PROPOSALS } from \"./GQL\";\nimport { jsonRpcCall } from \"./IconConnect\";\n\nimport NoteProposals from \"./NoteProposals\";\n\nfunction NoteProposalsContainer(props: any) {\n  // console.log(\"ProposalsContainer props\", props);\n  const selectedPRep = props.match.params.PRep;\n\n  const [values, setValues] = useState({\n    first: 0,\n    end: 10,\n    total: 0,\n    page: 12,\n    currPage: 0\n  });\n  const [filterValues, setFilterValues] = useState({\n    first: 0,\n    end: 10,\n    total: 0,\n    page: 12,\n    currPage: 0\n  });\n\n  const itemCount = 1;\n  const perPage = 12;\n  const [activePage, setActivePage] = useState(1);\n\n  const [flag, setFlag] = useState(false);\n\n  const handleChange = (name: any) => (\n    event: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    setFilterValues({ ...filterValues, [name]: event.target.value });\n  };\n\n  function queryFilters() {\n    setValues(filterValues);\n  }\n\n  const handlePageChange = (data: any) => {\n    // console.log(data);\n    setActivePage(data);\n  }\n\n  function createNewProposal() {\n    props.history.push(\"/EditProposal\");\n  }\n\n  if (!flag) {\n    if (values.total === 0) {\n      jsonRpcCall(\"get_last_proposal_id\", { \"_proposer\": selectedPRep }).then((result) => {\n        // console.log(\"GetLastProposalID\");\n        // console.log(result);\n        setValues({ ...values, total: parseInt(result) })\n      });\n    }\n    setFlag(true);\n  }\n\n\n  // console.log(\"what we send?\", values);\n  const queryVal = useQuery(GET_PROPOSALS, {\n    fetchPolicy: \"network-only\",\n    variables: {\n      selectedPRep: selectedPRep,\n      first: values.first,\n      end: values.end\n    }\n  });\n\n  return (\n    <NoteProposals\n      {...queryVal}\n      pRep={selectedPRep}\n      values={values}\n      filterValues={filterValues}\n      queryFilters={queryFilters}\n      createNewProposal={createNewProposal}\n      handleChange={handleChange}\n      activePage={activePage}\n      itemPerPage={perPage}\n      itemCount={itemCount}\n      handlePageChange={handlePageChange}\n    />\n  );\n}\n\nexport default NoteProposalsContainer;\n","import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Paper, Typography, Button, Grid, Divider, Chip } from \"@material-ui/core\";\nimport { ArrowLeft, ArrowRight, Done as DoneIcon, HowToVote as VoteIcon, NotInterested as DisapproveIcon } from \"@material-ui/icons\";\nimport { BarChart, Bar, XAxis, YAxis, Tooltip as BarTooltip } from \"recharts\";\nimport clsx from \"clsx\";\n\nimport { TUIViewer } from \"./TUIEditor\";\n\nimport useStyles from \"./Style\";\n\nfunction NoteProposal(props: any) {\n  // console.log(\"NoteProposal props\", props);\n  // const forceUpdate = useForceUpdate;\n\n  const classes = useStyles();\n\n  function SelectItemList() {\n    // console.log(\"SelectItemList\", props.data.proposal.selectitemmodelSet);\n    return (\n      <table>\n        <tbody>\n          {props.data.proposal.selectitemmodelSet.map(\n            (selectItem: any) => {\n              return (\n                <tr key={selectItem.index}>\n                  <td><ArrowRight /></td>\n                  <td style={{ minWidth: \"100px\" }}>\n                    <Typography variant=\"h6\">{selectItem.contents}</Typography>\n                  </td>\n                </tr>\n              );\n            }\n          )}\n        </tbody>\n      </table >\n    );\n  }\n\n  function PublishButton() {\n    return (\n      <Fragment>\n        <Button variant=\"outlined\" color=\"primary\">\n          <Link to={\"/EditProposal/\" + props.id} className={classes.link}>\n            Edit\n          </Link>\n        </Button>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={props.publish}\n        >\n          Publish\n        </Button>\n      </Fragment>\n    );\n  }\n\n  if (props.loading) return <p>Loading...</p>;\n  if (props.error) return <p>Error!:</p>;\n  let icon;\n  if (props.data.proposal.status === \"Approved\") {\n    icon = <DoneIcon />;\n  } else if (props.data.proposal.status === \"Voting\") {\n    icon = <VoteIcon />;\n  } else {\n    icon = <DisapproveIcon />;\n  }\n  return (\n    <Grid item className={classes.grid} xs={12} md={12} lg={12}>\n      <Paper className={classes.paper}>\n        <Button\n          variant=\"outlined\"\n          color=\"primary\"\n          onClick={props.back}\n          style={{ width: \"200px\", float: \"right\" }}\n          startIcon={<ArrowLeft />}\n        >\n          Back\n        </Button>\n      </Paper>\n\n      <Paper className={classes.paper}>\n        <Grid container className={classes.container}>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <Chip\n              icon={icon}\n              size=\"small\"\n              label={props.data.proposal.status}\n              color=\"primary\"\n            />{\"  \"}\n            <Typography className={classes.title} variant=\"body1\" color=\"textSecondary\" gutterBottom>\n              <b>{props.data.proposal.ID}.</b>\n            </Typography>\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <div className={classes.right}>\n              <div style={{ float: \"left\" }}>\n                <Typography variant=\"h4\" color=\"textPrimary\" gutterBottom>\n                  <b>\n                    {props.data.proposal.subject}{\" \"}\n                  </b>\n                </Typography>\n              </div>\n            </div>\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <Typography variant=\"body1\" color=\"textPrimary\">\n              Proposer : {props.data.proposal.prep.username}\n            </Typography>\n            <Typography variant=\"body1\" color=\"textPrimary\">\n              Ending time : {new Date(props.data.proposal.expireAt).toString()}\n            </Typography>\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <br />\n            <Divider variant=\"fullWidth\" />\n            <br />\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <Typography variant=\"caption\" color=\"textSecondary\">\n              Thresholds\n            </Typography>\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={8} lg={8}>\n            <BarChart width={600} height={80} data={[{ name: \"Thresholds\", \"Minimum approval rate\": props.data.proposal.winningTh, \"Quorum\": props.data.proposal.electoralTh, \"100\": 100 }]} layout=\"vertical\">\n              <Bar dataKey=\"Minimum approval rate\" fill=\"#82ca9d\" />\n              <Bar dataKey=\"Quorum\" fill=\"#3888c8\" />\n              <BarTooltip cursor={false} />\n              <XAxis type=\"number\" />\n              <YAxis hide dataKey=\"name\" type=\"category\" />\n            </BarChart>\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={4} lg={4}>\n            <table>\n              <tbody>\n                <tr>\n                  <td style={{ float: \"left\" }}>\n                    <Typography variant=\"body1\" color=\"textPrimary\">\n                      {\" \"}Total Delegates :\n                    </Typography>\n                  </td>\n                  <td style={{ float: \"right\" }}>\n                    <Typography variant=\"body1\" color=\"textPrimary\">\n                      {props.value.totalVotingPower.toLocaleString(undefined, { maximumFractionDigits: 2 }) + \" ICX\"}\n                    </Typography>\n                  </td>\n                </tr>\n                {/*\n                <tr>\n                  <td style={{ float: \"left\" }}>\n                    <Typography variant=\"body1\" color=\"textPrimary\">\n                      {\" \"}Your # of votes :\n                    </Typography>\n                  </td>\n                  <td style={{ float: \"right\" }}>\n                    <Typography variant=\"body1\" color=\"textPrimary\">\n                      {props.value.pRepVotingPower.toLocaleString(undefined, { maximumFractionDigits: 2 }) + \" ICX\"}\n                    </Typography>\n                  </td>\n                </tr>\n                */}\n              </tbody>\n            </table>\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <br />\n            <Divider variant=\"fullWidth\" />\n            <br />\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <Typography variant=\"caption\" color=\"textSecondary\">\n              SELECT ITEMS\n            </Typography>\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <SelectItemList />\n          </Grid>\n          <Grid item className={clsx(classes.grid, classes.center)} xs={12} md={12} lg={12}>\n            <br />\n            <PublishButton />\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <br />\n            <Divider variant=\"fullWidth\" />\n            <br />\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <Typography variant=\"caption\" color=\"textSecondary\">\n              DESCRIPTION\n            </Typography>\n          </Grid>\n          <Grid item className={clsx(classes.paddingSide, classes.viewer)} xs={12} md={12} lg={12}>\n            <TUIViewer\n              initialValue={props.data.proposal.contents}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid >\n  );\n}\n\nexport default NoteProposal;\n","import React, { useState } from \"react\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport { SET_PUBLISH, GET_PROPOSAL, GET_VIEWER } from \"./GQL\";\n\nimport { governanceCall } from \"./IconConnect\";\n\nimport NoteProposal from \"./NoteProposal\";\n\n\nfunction NoteProposalContainer(props: any) {\n  // console.log(\"NoteProposalContainer props\", props);\n  const pRep = props.match.params.PRep\n  const id = props.match.params.ID;\n\n  const [voteSelect, setVoteSelect] = useState();\n  const [value, setValue] = useState({ load: false, owner: false, totalVotingPower: 0, pRepVotingPower: 0 });\n\n  const [mutatePublish] = useMutation(SET_PUBLISH);\n\n  function publish() {\n    mutatePublish({\n      variables: { proposalId: id }\n    }).then(publishResult => {\n      // console.log(\"publish\", publishResult);\n    });\n    // console.log(\"Publish!!!!!!!!!!!!!!\", queryVal.data.proposal);\n    setVoteSelect(-1);\n    props.history.push(\"/Proposals/\" + pRep);\n    // window.location.reload();\n    // queryVal.refetch();\n  }\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    // console.log(\"Selected\", (event.target as HTMLInputElement).value);\n    setVoteSelect(parseInt((event.target as HTMLInputElement).value));\n  };\n\n  async function getTotalVotingPower(prepAddress: string) {\n    const delegateResp = await governanceCall(\"getPRep\", { address: prepAddress });\n\n    return parseInt(delegateResp.delegated, 16) / 1000000000000000000;\n  }\n\n  async function getVotersVotingPower(prepAddress: string, voterAddress: string) {\n    const delegateResp = await governanceCall(\"getDelegation\", { address: voterAddress });\n    // console.log(delegateResp);\n    for (const aPRepKey in delegateResp.delegations) {\n      const aPRep = delegateResp.delegations[aPRepKey];\n      if (aPRep.address === prepAddress) {\n        // console.log(\")()(())())()()(\", aPRep.value);\n        return parseInt(aPRep.value, 16);\n      }\n    }\n    return 0;\n  }\n\n  function amIOwner() {\n    if (queryVal.data.proposal.prep.username === queryViewer.data.viewer.username) {\n      return true;\n    }\n    return false;\n  }\n\n  const queryViewer = useQuery(GET_VIEWER);\n  const queryVal = useQuery(GET_PROPOSAL, { variables: { id: id } })\n\n  if (queryVal.loading || queryViewer.loading) {\n    return <p>loading</p>\n  }\n  // console.log(\"___________________________________________\");\n  // console.log(queryVal, queryViewer);\n\n  if (queryVal && queryVal.data && queryViewer.data) {\n    if (!value.load) {\n      // console.log(\"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\", result);\n      getTotalVotingPower(queryVal.data.proposal.prep.iconAddress).then((result) => {\n        getVotersVotingPower(queryVal.data.proposal.prep.iconAddress, queryViewer.data.viewer.iconAddress).then((result2) => {\n          setValue({ load: true, owner: amIOwner(), totalVotingPower: result, pRepVotingPower: result2 });\n        });\n      });\n    }\n    // console.log(\"condition value\", myPRep, votedIdx, owner);\n  }\n\n  return (\n    <NoteProposal\n      pRep={pRep}\n      id={id}\n      value={value}\n      voteSelect={voteSelect}\n      publish={publish}\n      handleChange={handleChange}\n      {...queryVal}\n    />\n  );\n}\n\nexport default NoteProposalContainer;","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { Paper, Typography, Grid, Chip } from \"@material-ui/core\";\nimport { MoreVert, ArrowRight, Done as DoneIcon, HowToVote as VoteIcon, NotInterested as DisapproveIcon } from \"@material-ui/icons\";\nimport Pagination from \"react-js-pagination\";\nimport clsx from \"clsx\";\n\nimport useStyles from \"./Style\";\nimport \"./paginate.css\";\n\nfunction Proposals(props: any) {\n  // console.log(\"Proposals props\", props);\n  const classes = useStyles();\n\n  const select_items = [0, 1, 2, 3];\n\n  // if (props.loading) return <p>Loading...</p>;\n  // if (props.error) { console.log(props.error); return <p>Error!</p>; }\n  return (\n    <Grid item className={classes.grid} xs={12} md={12} lg={12}>\n      <Paper className={classes.paper}>\n        <Grid container className={classes.container} spacing={0}>\n          <Grid item className={classes.item} xs={12} md={8} lg={8}>\n            {/*<img src={props.pRepInfo.logo} width=\"100\" alt={props.pRepInfo.name} />*/}\n            <a href={props.pRepInfo.website} style={{ textDecoration: \"none\", color: \"#000000\" }}>\n              <Typography variant=\"h4\">{props.pRepInfo.name}</Typography>\n            </a>\n          </Grid>\n          <Grid item className={classes.item} xs={12} md={4} lg={4}>\n            <table>\n              <tbody>\n                <tr>\n                  <td>\n                    <Typography variant=\"h6\">Total Delegations</Typography>\n                  </td>\n                  <td>\n                    <Typography variant=\"h6\">:</Typography>\n                  </td>\n                  <td style={{ textAlign: \"right\" }}>\n                    <Typography variant=\"h6\">{props.pRepInfo.totalDelegation.toLocaleString(undefined, { maximumFractionDigits: 2 }) + \" ICX\"}</Typography>\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <Typography variant=\"h6\">My Voting Power</Typography>\n                  </td>\n                  <td>\n                    <Typography variant=\"h6\">:</Typography>\n                  </td>\n                  <td style={{ textAlign: \"right\" }}>\n                    <Typography variant=\"h6\">{props.pRepInfo.myVotingPower.toLocaleString(undefined, { maximumFractionDigits: 2 }) + \" ICX\"}</Typography>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </Grid>\n        </Grid>\n      </Paper>\n      <Paper className={classes.paper}>\n        <Grid container className={classes.container} spacing={0}>\n          {props.proposals.map((item: any, idx: number) => {\n            let icon;\n            if (item.status === \"Approved\") {\n              icon = <DoneIcon />;\n            } else if (item.status === \"Voting\") {\n              icon = <VoteIcon />;\n            } else {\n              icon = <DisapproveIcon />;\n            }\n            return (\n              <Grid item className={classes.item} key={idx} xs={12} sm={6} md={4} lg={4}>\n                <Paper className={classes.paper}>\n                  <Grid container className={classes.container}>\n                    <Grid item className={classes.grid} xs={12} md={12} lg={12}>\n                      <Chip\n                        icon={icon}\n                        size=\"small\"\n                        label={item.status}\n                        color=\"primary\"\n                      />\n                    </Grid>\n                    <Grid item className={classes.grid} style={{ overflow: \"hidden\" }} xs={12} md={12} lg={12}>\n                      <Typography variant=\"h5\" color=\"textPrimary\" gutterBottom>\n                        <Link className={classes.link} to={\"/Proposal/\" + props.pRep + \"/\" + item.id} color=\"textPrimary\">\n                          <b>{item.id}.</b>{\" \"}{item.subject}\n                        </Link>\n                      </Typography>\n                    </Grid>\n                    <Grid item className={classes.grid} xs={12} md={12} lg={12}>\n                      <table>\n                        <tbody>\n                          {select_items.map((itm: any, idx: number) => {\n                            const selectItem = item.select_item[idx];\n                            if (idx > item.select_item.length - 1) {\n                              return (\n                                <tr key={idx}>\n                                  <td>&nbsp;</td>\n                                  <td><Typography variant=\"h6\" color=\"textSecondary\">&nbsp;</Typography></td>\n                                </tr>\n                              );\n                            }\n                            return (\n                              <tr key={idx}>\n                                <td><ArrowRight /></td>\n                                <td>\n                                  <Typography variant=\"h6\" color=\"textSecondary\">{selectItem}</Typography>\n                                </td>\n                              </tr>\n                            );\n                          })}\n                          {item.select_item.length - select_items.length > 0 &&\n                            <tr>\n                              <td>&nbsp;</td>\n                              <td><MoreVert /></td>\n                            </tr>\n                          }\n                          {item.select_item.length - select_items.length <= 0 &&\n                            <tr>\n                              <td>&nbsp;</td>\n                              <td><Typography variant=\"h6\" key={idx} color=\"textSecondary\">&nbsp;</Typography></td>\n                            </tr>\n                          }\n                        </tbody>\n                      </table>\n                    </Grid>\n                  </Grid>\n                </Paper>\n              </Grid>\n            );\n          })}\n          <Grid item className={clsx(classes.item, classes.center)} xs={12} lg={12}>\n            <Pagination\n              activePage={props.activePage}\n              itemsCountPerPage={props.itemPerPage}\n              totalItemsCount={props.itemCount}\n              pageRangeDisplayed={5}\n              onChange={props.handlePageChange}\n              activeLinkClass={\"link\"}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid >\n  );\n}\n\nexport default Proposals;\n","import React, { useState } from \"react\";\n\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { GET_VIEWER } from \"./GQL\";\nimport { jsonRpcCall, governanceCall } from \"./IconConnect\";\n\nimport Proposals from \"./Proposals\";\n\nfunction ProposalsContainer(props: any) {\n  // console.log(\"ProposalsContainer props\", props);\n  const selectedPRep = props.match.params.PRep;\n\n  const [values, setValues] = useState({\n    first: 0,\n    end: 10,\n    total: 0,\n    page: 12,\n    currPage: 0\n  });\n  const [filterValues, setFilterValues] = useState({\n    first: 0,\n    end: 10,\n    total: 0,\n    page: 12,\n    currPage: 0\n  });\n\n  const [pRepInfo, setPRepInfo] = useState({\n    logo: \"\",\n    website: \"\",\n    name: \"\",\n    totalDelegation: 0,\n    myVotingPower: 0\n  })\n\n  const perPage = 12;\n  const [activePage, setActivePage] = useState(1);\n\n  const [proposals, setProposals] = useState([]);\n  const [flag, setFlag] = useState(false);\n\n  const handleChange = (name: any) => (\n    event: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    setFilterValues({ ...filterValues, [name]: event.target.value });\n  };\n\n  function queryFilters() {\n    setValues(filterValues);\n  }\n\n  const handlePageChange = (data: any) => {\n    // console.log(data);\n    setActivePage(data);\n  }\n\n  async function getPRepInfo(pRepName: string) {\n    const getPRepAddressResp = await jsonRpcCall(\"get_verify_info_by_id\", { _id: pRepName });\n    const getPRepAddress = JSON.parse(getPRepAddressResp);\n    // console.log(\"getPRepAddress\", getPRepAddress);\n\n    const getPRepResp = await governanceCall(\"getPRep\", { address: getPRepAddress.address });\n    // console.log(\"getPRepResp\", getPRepResp);\n\n    // let url = getPRepResp.details;\n    // if (url.search(\"http://\") === 0) {\n    //   url = \"http://\" + url.substr(7).split(\"/\")[0];\n    // }\n    // if (url.search(\"https://\") === 0) {\n    //   url = \"https://\" + url.substr(8).split(\"/\")[0];\n    // }\n    // console.log(url);\n\n    // const detail = await axios.get(getPRepResp.details);\n    // console.log(\"detail\", detail);\n    // TODO : real server로 바뀌면 삭제\n    // const detail = {\n    //   \"representative\": {\n    //     \"logo\": {\n    //       \"logo_256\": \"https://www.theuc.xyz/ubikprep/ubik256x256.png\",\n    //       \"logo_1024\": \"https://www.theuc.xyz/ubikprep/ubik1024x1024.png\",\n    //       \"logo_svg\": \"https://www.theuc.xyz/ubikprep/ubik1024x1024.svg\"\n    //     },\n    //     \"media\": {\n    //       \"steemit\": \"https://steemitwallet.com/@ubikcapital\",\n    //       \"twitter\": \"https://twitter.com/ubikcapital\",\n    //       \"youtube\": \"https://www.youtube.com/channel/UCS9knn2BSqwEZ_WqjPFOFrA?view_as=subscriber\",\n    //       \"facebook\": \"\",\n    //       \"github\": \"https://github.com/ubikcapital\",\n    //       \"reddit\": \"https://www.reddit.com/user/UbikCapital\",\n    //       \"keybase\": \"https://keybase.io/ubikcosmos\",\n    //       \"telegram\": \"https://t.me/ubikcapital\",\n    //       \"wechat\": \"\"\n    //     }\n    //   },\n    //   \"server\": {\n    //     \"location\": {\n    //       \"country\": \"USA\",\n    //       \"city\": \"Detroit\"\n    //     },\n    //     \"server_type\": \"cloud\",\n    //     \"api_endpoint\": \"13.58.103.19:9000\"\n    //   }\n    // };\n\n    let logo = \"https://icon.vote/static/logo.png\";\n\n    let votingPower = 0;\n    if (queryVal.data && queryVal.data.viewer && queryVal.data.viewer.iconAddress) {\n      // console.log(\"iconAddress\", queryVal.data.viewer);\n      votingPower = await myVotingPower(pRepName, queryVal.data.viewer.iconAddress);\n      // if (queryVal.data.viewer.avatar !== \"\") {\n      //   logo = queryVal.data.viewer.avatar;\n      // }\n    }\n\n    setPRepInfo({ name: getPRepResp.name, logo: logo, website: getPRepResp.website, totalDelegation: (parseInt(getPRepResp.delegated, 16) / 10 ** 18), myVotingPower: votingPower });\n    // console.log(\"detail\", detail.representative.logo.logo_1024);\n  }\n\n  async function myVotingPower(pRepName: string, address: string) {\n    // console.log(PRepName, address);\n    const getPRepAddressResp = await jsonRpcCall(\"get_verify_info_by_id\", { _id: pRepName });\n    // console.log(getPRepAddressResp);\n    const getPRepAddress = JSON.parse(getPRepAddressResp);\n    // console.log(getPRepAddress);\n    const delegateResp = await governanceCall(\"getDelegation\", { \"address\": address })\n    // console.log(delegateResp);\n    let delegateList;\n    try {\n      delegateList = delegateResp.delegations;\n    }\n    catch {\n      delegateList = [];\n    }\n    for (let i = 0; i < delegateList.length; i++) {\n      if (delegateList[i].address === getPRepAddress.address) {\n        let myVotingPower = parseInt(delegateList[i].value, 16);\n        myVotingPower = (myVotingPower / 1000000000000000000);\n        return myVotingPower;\n      }\n    }\n    return 0;\n  }\n\n  if (flag === false) {\n    if (proposals.length === 0) {\n      jsonRpcCall(\"get_proposals\", { \"_proposer\": selectedPRep, \"_start_proposal_id\": (values.first).toString(), \"_end_proposal_id\": (values.end).toString() }).then((result) => {\n        // console.log(\"GetProposals\", result);\n        if (result) {\n          let proposals = JSON.parse(result);\n          if (proposals.length > 0) {\n            let tmpProposals: any = [];\n            for (let i = 0; i < proposals.length; i++) {\n              // console.log(\"proposals[\" + i + \"]\", proposals[i]);\n              let aProposal: any = {};\n              if (proposals[i].subject === \"\") {\n                continue;\n              }\n              aProposal['id'] = proposals[i].ID;\n              aProposal['subject'] = proposals[i].subject;\n              aProposal['status'] = proposals[i].status;\n              aProposal['winner'] = proposals[i].winner;\n              let items = JSON.parse(proposals[i].select_item)\n              aProposal['select_item'] = items;\n\n              tmpProposals.push(aProposal);\n            }\n            // console.log(\"proposals\", tmpProposals);\n            setProposals(tmpProposals);\n          }\n        }\n      });\n    }\n\n    if (values.total === 0) {\n      jsonRpcCall(\"get_last_proposal_id\", { \"_proposer\": selectedPRep }).then((result) => {\n        // console.log(\"GetLastProposalID\");\n        // console.log(result);\n        setValues({ ...values, total: parseInt(result) })\n      });\n    }\n    setFlag(true);\n  }\n\n  const queryVal = useQuery(GET_VIEWER);\n\n  if (queryVal.loading) {\n    return <p>Loading...</p>;\n  }\n\n  if (pRepInfo.name === \"\") {\n    // console.log(\"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\");\n    getPRepInfo(selectedPRep);\n  }\n  // console.log(\"Viewer\", queryVal);\n\n  return (\n    <Proposals\n      proposals={proposals}\n      pRep={selectedPRep}\n      pRepInfo={pRepInfo}\n      values={values}\n      filterValues={filterValues}\n      queryFilters={queryFilters}\n      handleChange={handleChange}\n      activePage={activePage}\n      itemPerPage={perPage}\n      itemCount={values.total}\n      handlePageChange={handlePageChange}\n    />\n  );\n}\n\nexport default ProposalsContainer;\n","import React from \"react\";\nimport { IconButton, Paper, Typography, FormControlLabel, FormControl, RadioGroup, Radio, Button, Grid, Divider, Tooltip, Chip, Table, TableHead, TableBody, TableFooter, TablePagination, TableRow, TableCell, useTheme } from \"@material-ui/core\";\nimport { ArrowLeft, ArrowRight, Done as DoneIcon, HowToVote as VoteIcon, NotInterested as DisapproveIcon, FirstPage, KeyboardArrowLeft, KeyboardArrowRight, LastPage } from \"@material-ui/icons\";\nimport { BarChart, Bar, XAxis, YAxis, ReferenceLine, Tooltip as BarTooltip } from \"recharts\";\nimport clsx from \"clsx\";\n\nimport { TUIViewer } from \"./TUIEditor\";\nimport { trackerURL } from \"./Config\";\n\nimport useStyles from \"./Style\";\n\nimport facebookImg from \"./img/facebook.png\";\nimport twitterImg from \"./img/twitter.png\";\n\nfunction Proposal(props: any) {\n  // console.log(\"Proposal props\", props);\n  // const forceUpdate = useForceUpdate;\n\n  const classes = useStyles();\n\n  interface TablePaginationActionsProps {\n    count: number;\n    page: number;\n    rowsPerPage: number;\n    onChangePage: (event: React.MouseEvent<HTMLButtonElement>, newPage: number) => void;\n  }\n\n  function TablePaginationActions(props: TablePaginationActionsProps) {\n    const classes = useStyles();\n    const theme = useTheme();\n    const { count, page, rowsPerPage, onChangePage } = props;\n\n    const handleFirstPageButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n      onChangePage(event, 0);\n    };\n\n    const handleBackButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n      onChangePage(event, page - 1);\n    };\n\n    const handleNextButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n      onChangePage(event, page + 1);\n    };\n\n    const handleLastPageButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n      onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\n    };\n\n    return (\n      <div className={classes.pagination}>\n        <IconButton\n          onClick={handleFirstPageButtonClick}\n          disabled={page === 0}\n          aria-label=\"first page\"\n        >\n          {theme.direction === 'rtl' ? <LastPage /> : <FirstPage />}\n        </IconButton>\n        <IconButton onClick={handleBackButtonClick} disabled={page === 0} aria-label=\"previous page\">\n          {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\n        </IconButton>\n        <IconButton\n          onClick={handleNextButtonClick}\n          disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n          aria-label=\"next page\"\n        >\n          {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\n        </IconButton>\n        <IconButton\n          onClick={handleLastPageButtonClick}\n          disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n          aria-label=\"last page\"\n        >\n          {theme.direction === 'rtl' ? <FirstPage /> : <LastPage />}\n        </IconButton>\n      </div>\n    );\n  }\n\n\n\n  function SelectItemList() {\n    // console.log(\"SelectItemList\", props.proposal.select_item);\n    return (\n      <table>\n        <tbody>\n          {props.proposal.select_item.map(\n            (selectItem: any, idx: number) => {\n              let voteRate = 0;\n              try {\n                voteRate = props.votedPowerRate[idx].voted;\n              } catch {\n                voteRate = 0;\n              } finally {\n              }\n              return (\n                <tr key={idx}>\n                  <td><ArrowRight /></td>\n                  <td style={{ minWidth: \"200px\" }}>\n                    {props.votedIdx === idx &&\n                      <Tooltip key={idx} title=\"Voted\" placement=\"left\">\n                        <Typography variant=\"h6\">{selectItem}</Typography>\n                      </Tooltip>\n                    }\n                    {props.votedIdx !== idx &&\n                      <Typography variant=\"h6\">{selectItem}</Typography>\n                    }\n                  </td>\n                  <td align=\"right\" style={{ minWidth: \"50px\" }}><Typography variant=\"h6\" color=\"textSecondary\">{\" \" + voteRate + \" %\"}</Typography></td>\n                  <td align=\"right\" style={{ minWidth: \"200px\" }}><Typography variant=\"h6\">{props.votedPowerRate.length > 0 && \" \" + props.votedPowerRate[idx].icx.toLocaleString(undefined, { maximumFractionDigits: 2 }) + \" ICX\"}</Typography></td>\n                </tr>\n              );\n            }\n          )}\n        </tbody>\n      </table >\n    );\n  }\n\n  function RadioButtons() {\n    return (\n      <FormControl>\n        <RadioGroup value={props.voteSelect} onChange={props.handleChange}>\n          <table>\n            <tbody>\n              {props.proposal.select_item.map(\n                (selectItem: any, idx: number) => {\n                  let voteRate = 0;\n                  try {\n                    voteRate = props.votedPowerRate[idx].voted;\n                  } catch {\n                    voteRate = 0;\n                  } finally {\n                  }\n                  return (\n                    <tr key={idx}>\n                      <td style={{ minWidth: \"200px\" }}>\n                        <FormControlLabel\n                          control={<Radio />}\n                          value={idx}\n                          label={<Typography variant=\"h6\" color=\"textPrimary\">{selectItem}</Typography>}\n                        />\n                      </td>\n                      <td align=\"right\" style={{ minWidth: \"50px\" }}>\n                        <Typography variant=\"h6\" color=\"textSecondary\">{voteRate + \" %\"}</Typography>\n                      </td>\n                      <td align=\"right\" style={{ minWidth: \"200px\" }}>\n                        <Typography variant=\"h6\" color=\"textSecondary\">{props.votedPowerRate[idx].icx.toLocaleString(undefined, { maximumFractionDigits: 2 }) + \" ICX\"}</Typography>\n                      </td>\n                    </tr>\n                  );\n                }\n              )}\n            </tbody>\n          </table>\n        </RadioGroup>\n      </FormControl>\n    );\n  }\n\n  function SelectList() {\n    const expireAt = new Date(props.proposal.expire_date);\n    if (expireAt.getTime() > Date.now() &&\n      (props.myPRep || props.owner) &&\n      props.votedIdx === -1 &&\n      props.proposal.status === \"Voting\") {\n      return (<RadioButtons />);\n    }\n    return (<SelectItemList />);\n  }\n\n  function VoteButton() {\n    return (\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        disabled={props.voteSelect === -1}\n        onClick={props.vote}\n      >\n        Vote\n      </Button>\n    );\n  }\n\n  function ActionButton() {\n    const expireAt = new Date(props.proposal.expire_date);\n    if (expireAt.getTime() < Date.now()) {\n      if (props.proposal.status === \"Voting\") {\n        return <Typography>Vote End(Time over)</Typography>;\n      }\n    }\n    if (expireAt.getTime() > Date.now() && (props.myPRep || props.owner) && props.votedIdx === -1) {\n      return (<VoteButton />);\n    }\n    return <></>;\n  }\n\n  function facebookShare() {\n    window.open('https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(document.URL) + '&t=' + encodeURIComponent(document.title), 'facebooksharedialog', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');\n  }\n\n  function twitterShare() {\n    window.open('https://twitter.com/intent/tweet?text=[%EA%B3%B5%EC%9C%A0]%20' + encodeURIComponent(document.URL) + '%20-%20' + encodeURIComponent(document.title), 'twittersharedialog', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');\n  }\n  const endTime = new Date(props.proposal.expire_date);\n  const leftHour = Math.floor((endTime.getTime() - Date.now()) / 3600000);\n  const leftMinute = Math.floor(((endTime.getTime() - Date.now()) / 60000) - (leftHour * 60));\n\n  if (props.loading) return <p>Loading...</p>;\n  if (props.error) return <p>Error!:</p>;\n  let icon;\n  if (props.proposal.status === \"Approved\") {\n    icon = <DoneIcon />;\n  } else if (props.proposal.status === \"Voting\") {\n    icon = <VoteIcon />;\n  } else {\n    icon = <DisapproveIcon />;\n  }\n  return (\n    <Grid item className={classes.grid} xs={12} md={12} lg={12}>\n      <Paper className={classes.paper}>\n        <Button\n          variant=\"outlined\"\n          color=\"primary\"\n          onClick={props.back}\n          style={{ width: \"200px\", float: \"right\" }}\n          startIcon={<ArrowLeft />}\n        >\n          Back\n        </Button>\n      </Paper>\n\n      <Paper className={classes.paper}>\n        <Grid container className={classes.container}>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <Chip\n              icon={icon}\n              size=\"small\"\n              label={props.proposal.status}\n              color=\"primary\"\n              style={{ float: \"left\" }}\n            />\n            <br />\n            <br />\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <div className={classes.right}>\n              <div style={{ float: \"left\" }}>\n                <Typography variant=\"h4\" color=\"textPrimary\" gutterBottom>\n                  <b>\n                    {props.proposal.id + \". \" + props.proposal.subject}{\" \"}\n                  </b>\n                </Typography>\n              </div>\n              <div onClick={twitterShare} style={{ float: \"right\" }}><img src={twitterImg} width=\"40\" alt=\"트위터 공유하기\" /></div>\n              <div onClick={facebookShare} style={{ float: \"right\" }}><img src={facebookImg} width=\"40\" alt=\"페이스북 공유하기\" /></div>\n            </div>\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <Typography variant=\"body1\" color=\"textPrimary\">\n              Proposer : {props.pRep}\n            </Typography>\n            <Typography variant=\"body1\" color=\"textPrimary\">\n              Ending Time : {endTime.toString()} {leftHour > 0 && \"(\" + leftHour + \" Hour \" + leftMinute + \" Minute Left)\"}\n            </Typography>\n            <Typography variant=\"body1\" color=\"textPrimary\" style={{ overflow: \"auto\" }}>\n              Transaction : <a href={trackerURL + \"transaction/0x\" + props.proposal.transaction} target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: \"none\", color: \"#000000\" }}>{\"0x\" + props.proposal.transaction}</a>\n            </Typography>\n            {props.proposal.final !== \"\" &&\n              <Typography variant=\"body1\" color=\"textPrimary\" style={{ overflow: \"auto\" }}>\n                Finalize Transaction : <a href={trackerURL + \"transaction/0x\" + props.proposal.final} target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: \"none\", color: \"#000000\" }}>{\"0x\" + props.proposal.final}</a>\n              </Typography>\n            }\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <br />\n            <Divider variant=\"fullWidth\" />\n            <br />\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <Typography variant=\"caption\" color=\"textSecondary\">\n              VOTING PROGRESS\n            </Typography>\n          </Grid>\n          <Grid item className={classes.paddingSide} style={{ overflow: \"auto\" }} xs={12} md={8} lg={8}>\n            <BarChart width={600} height={70} data={[{ name: \"Minimum approval rate\", voted: props.voteData.voted, left: props.voteData.th, \"100\": 100 - props.voteData.voted - props.voteData.th }]} layout=\"vertical\">\n              <Bar dataKey=\"voted\" stackId=\"a\" fill=\"#82ca9d\" />\n              <Bar dataKey=\"left\" stackId=\"a\" fill=\"#888888\" />\n              <Bar dataKey=\"100\" stackId=\"a\" fill=\"#FFFFFF\" />\n              <BarTooltip cursor={false} />\n              <ReferenceLine x={props.proposal.electoral_threshold} label={props.proposal.electoral_threshold} stroke=\"red\" />\n              <XAxis type=\"number\" domain={[0, 100]} />\n              <YAxis hide dataKey=\"name\" type=\"category\" />\n            </BarChart>\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={4} lg={4}>\n            <table>\n              <tbody>\n                <tr>\n                  <td style={{ float: \"left\" }}>\n                    <Typography variant=\"body1\" color=\"textPrimary\">\n                      {\" \"}Total # of delegates :\n                    </Typography>\n                  </td>\n                  <td style={{ float: \"right\" }}>\n                    <Typography variant=\"body1\" color=\"textPrimary\">\n                      {props.voteData.totalDelegate.toLocaleString(undefined, { maximumFractionDigits: 2 }) + \" ICX\"}\n                    </Typography>\n                  </td>\n                </tr>\n                <tr>\n                  <td style={{ float: \"left\" }}>\n                    <Typography variant=\"body1\" color=\"textPrimary\">\n                      {\" \"}Total # of votes :\n                    </Typography>\n                  </td>\n                  <td style={{ float: \"right\" }}>\n                    <Typography variant=\"body1\" color=\"textPrimary\">\n                      {props.voteData.totalVoted.toLocaleString(undefined, { maximumFractionDigits: 2 }) + \" ICX\"}\n                    </Typography>\n                  </td>\n                </tr>\n                <tr>\n                  <td style={{ float: \"left\" }}>\n                    <Typography variant=\"body1\" color=\"textPrimary\">\n                      {\" \"}Your # of votes :\n                    </Typography>\n                  </td>\n                  <td style={{ float: \"right\" }}>\n                    <Typography variant=\"body1\" color=\"textPrimary\">\n                      {props.myVotingPower.toLocaleString(undefined, { maximumFractionDigits: 2 }) + \" ICX\"}\n                    </Typography>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <br />\n            <Divider variant=\"fullWidth\" />\n            <br />\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <Typography variant=\"caption\" color=\"textSecondary\">\n              SELECT ITEMS\n            </Typography>\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <Typography variant=\"subtitle2\" color=\"textSecondary\">\n              Winning Threshold : {props.proposal.winning_threshold} %\n            </Typography>\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <SelectList />\n          </Grid>\n          <Grid item className={clsx(classes.grid, classes.center)} xs={12} md={12} lg={12}>\n            <br />\n            <ActionButton />\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <br />\n            <Divider variant=\"fullWidth\" />\n            <br />\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <Typography variant=\"caption\" color=\"textSecondary\">\n              DESCRIPTION\n            </Typography>\n          </Grid>\n          <Grid item className={clsx(classes.paddingSide, classes.viewer)} xs={12} md={12} lg={12}>\n            <TUIViewer\n              initialValue={props.proposal.contents}\n            />\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <br />\n            <Divider variant=\"fullWidth\" />\n            <br />\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <Typography variant=\"caption\" color=\"textSecondary\">\n              VOTES\n            </Typography>\n          </Grid>\n          <Grid item className={classes.paddingSide} style={{ overflow: \"auto\" }} xs={12} md={12} lg={12}>\n            <Table className={classes.table} aria-label=\"simple table\">\n              <TableHead>\n                <TableRow>\n                  <TableCell align=\"center\">Voter</TableCell>\n                  <TableCell align=\"center\">Transaction Hash</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {props.votes.map((item: any, idx: any) => {\n                  return (\n                    <TableRow key={idx}>\n                      <TableCell align=\"center\"><a href={trackerURL + \"address/\" + item.voter} target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: \"none\", color: \"#000000\" }}>{item.voter}</a></TableCell>\n                      <TableCell align=\"center\"><a href={trackerURL + \"transaction/0x\" + item.voteTxHash} target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: \"none\", color: \"#000000\" }}>{\"0x\" + item.voteTxHash}</a></TableCell>\n                    </TableRow>\n                  )\n                })}\n              </TableBody>\n              <TableFooter>\n                <TableRow>\n                  <TablePagination\n                    rowsPerPageOptions={[10, 20, 30]}\n                    colSpan={6}\n                    count={props.votes.length}\n                    rowsPerPage={props.rowsPerPage}\n                    page={props.page}\n                    SelectProps={{\n                      inputProps: { 'aria-label': 'rows per page' },\n                      native: true,\n                    }}\n                    onChangePage={props.handleChangePage}\n                    onChangeRowsPerPage={props.handleChangeRowsPerPage}\n                    ActionsComponent={TablePaginationActions}\n                  />\n                </TableRow>\n              </TableFooter>\n            </Table>\n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid >\n  );\n}\n\nexport default Proposal;\n","import React, { useState } from \"react\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport { SET_VOTE, GET_VIEWER } from \"./GQL\";\n\nimport { governanceCall, jsonRpcCall } from \"./IconConnect\";\n\nimport Proposal from \"./Proposal\";\n\n\nfunction ProposalContainer(props: any) {\n  // console.log(\"ProposalContainer props\", props);\n  const pRep = props.match.params.PRep\n  const id = props.match.params.ID;\n\n  const [callResult, setCallResult] = useState<any>(false);\n  const [voteSelect, setVoteSelect] = useState();\n  const [voteData, setVoteData] = useState({ name: 'electoralTH', th: 0, voted: 0, totalVoted: 0, totalDelegate: 0 })\n  const [votedPowerRate, setVotedPowerRate] = useState<any[]>([])\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n\n  const [mutateVote] = useMutation(SET_VOTE);\n\n  const handleChangePage = (event: React.MouseEvent<HTMLButtonElement> | null, newPage: number) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (\n    event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\n  ) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  function vote() {\n    mutateVote({\n      variables: { proposer: pRep, proposalId: id, selectItemIndex: voteSelect }\n    }).then(voteResult => {\n      // console.log(\"vote\", voteResult);\n    });\n    // console.log(\"Vote!!!!!!!!!!!!!!!!!\", queryVal.data.proposal);\n    setVoteSelect(-1);\n    window.location.reload();\n    // queryVal.refetch();\n  }\n\n  const back = () => {\n    props.history.go(-1);\n  }\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    // console.log(\"Selected\", (event.target as HTMLInputElement).value);\n    setVoteSelect(parseInt((event.target as HTMLInputElement).value));\n  };\n\n  function getTotalVotingPower() {\n    // const delegateResp = await governanceCall(\"getPRep\", { address: prepAddress });\n\n    return parseInt(callResult.getPRep.delegated, 16) / 1000000000000000000;\n  }\n\n  async function getVotersVotingPower(prepAddress: string, voterAddress: string) {\n    const delegateResp = await governanceCall(\"getDelegation\", { address: voterAddress });\n    // console.log(delegateResp);\n    for (const aPRepKey in delegateResp.delegations) {\n      const aPRep = delegateResp.delegations[aPRepKey];\n      if (aPRep.address === prepAddress) {\n        // console.log(\")()(())())()()(\", aPRep.value);\n        return parseInt(aPRep.value, 16);\n      }\n    }\n    return 0;\n  }\n\n  function getMyDelegation() {\n    if (callResult.getDelegation === false) {\n      return 0;\n    }\n    else {\n      const delegateList = callResult.getDelegation.delegations;\n      for (let i = 0; i < delegateList.length; i++) {\n        if (delegateList[i].address === callResult.getProposal.address) {\n          let myVotingPower = parseInt(delegateList[i].value, 16);\n          myVotingPower = (myVotingPower / 1000000000000000000);\n          return myVotingPower;\n        }\n      }\n      return 0;\n    }\n  }\n\n  function getVotedIdx() {\n    const votes = callResult.getVotes;\n\n    let votedIdx = -1;\n    for (let i = 0; i < votes.length; i++) {\n      // console.log(i, votes[i], queryViewer.data.viewer.iconAddress);\n      if (votes[i].voter === queryViewer.data.viewer.iconAddress) {\n        // console.log(\"Set IDX!!!!!!!!!!!!!!!!!\")\n        votedIdx = votes[i].selectItem;\n      }\n    }\n    // console.log(votedIdx);\n    return votedIdx\n  }\n\n  function amIOwner() {\n    try {\n      if (pRep === queryViewer.data.viewer.username) {\n        return true;\n      }\n      return false;\n    } catch {\n      return false;\n    }\n  }\n\n  async function getVotedPowerRate() {\n    let totalVotedPower = 0;\n\n    const votes = callResult.getVotes;\n    // console.log(\"votes\", votes);\n\n    let votedPowerRate = [];\n    let votedPowers = [];\n    for (let i = 0; i < callResult.getProposal.select_item.length; i++) {\n      votedPowerRate[i] = [];\n      votedPowers[i] = 0;\n    }\n\n    for (let i = 0; i < votes.length; i++) {\n      const aVote = votes[i];\n\n      if (votedPowerRate[aVote.selectItem]) {\n        votedPowerRate[aVote.selectItem].push(aVote.voter);\n      } else {\n        votedPowerRate[aVote.selectItem] = [aVote.voter];\n      }\n    }\n\n    // console.log(\"votedPowerRate\", votedPowerRate);\n\n    for (let i = 0; i < votedPowerRate.length; i++) {\n      // console.log(i, VotedPowerRate[i]);\n      let votingPower = 0;\n      for (let j = 0; j < votedPowerRate[i].length; j++) {\n        votingPower += await getVotersVotingPower(callResult.getProposal.address, votedPowerRate[i][j]);\n      }\n\n      votedPowers[i] = (votingPower / 1000000000000000000);\n      totalVotedPower += (votingPower / 1000000000000000000);\n    }\n    // console.log(\"votedPowers\", votedPowers);\n    // console.log(\"totalVotedPower\", totalVotedPower);\n\n    let totalDelegate = getTotalVotingPower();\n\n    // console.log(\"totalDelegate\", totalDelegate);\n\n    return { votedPowerRate: votedPowerRate, votedPowers: votedPowers, totalVotedPower: totalVotedPower, totalDelegate: totalDelegate }\n  }\n\n  async function call() {\n    if (callResult) return;\n\n    let votes = {};\n    const getVotesResp = await jsonRpcCall(\"get_votes\", { \"_proposer\": pRep, \"_proposal_id\": id });\n    // console.log(\"GetVotesResp\", GetVotesResp);\n    if (getVotesResp) {\n      votes = JSON.parse(getVotesResp).vote;\n    }\n\n    const getProposalResp = await jsonRpcCall(\"get_proposal\", { \"_proposer\": pRep, \"_proposal_id\": id })\n    // console.log(\"GetProposalResp\", getProposalResp);\n    if (getProposalResp) {\n      let proposal = JSON.parse(getProposalResp);\n      // console.log(\"proposal\", proposal);\n      let aProposal: any = {};\n      if (proposal.subject !== \"\") {\n        aProposal['id'] = proposal.ID;\n        aProposal['subject'] = proposal.subject;\n        aProposal['contents'] = proposal.contents;\n        aProposal['address'] = proposal.address;\n        aProposal['status'] = proposal.status;\n        aProposal['expire_date'] = proposal.expire_date;\n        aProposal['winning_threshold'] = proposal.winning_threshold;\n        aProposal['electoral_threshold'] = proposal.electoral_threshold;\n        aProposal['transaction'] = proposal.transaction;\n        aProposal['final'] = proposal.final;\n        aProposal['winner'] = proposal.winner;\n        let items = JSON.parse(proposal.select_item)\n        aProposal['select_item'] = items;\n\n        const getPRepResp = await governanceCall(\"getPRep\", { address: aProposal.address });\n        // console.log(\"GetPRepResp\", getPRepResp);\n\n        let getDelegationResp: any = false;\n        if (queryViewer.data && queryViewer.data.viewer && queryViewer.data.viewer.iconAddress) {\n          getDelegationResp = await governanceCall(\"getDelegation\", { address: queryViewer.data.viewer.iconAddress });\n          // console.log(\"GetDelegationResp\", getDelegationResp);\n        }\n        setCallResult({ getVotes: votes, getProposal: aProposal, getPRep: getPRepResp, getDelegation: getDelegationResp });\n      }\n    }\n  }\n\n  const queryViewer = useQuery(GET_VIEWER);\n\n  if (queryViewer.loading) {\n    return <p>loading</p>\n  }\n\n  if (callResult === false) {\n    call();\n    return <p>loading</p>;\n  }\n  // console.log(\"callResult!!!!!\", callResult);\n\n  // logined?\n  let myDelegation = 0;\n  let votedIdx = -1;\n  if (queryViewer.data && queryViewer.data.viewer) {\n    myDelegation = getMyDelegation();\n    votedIdx = getVotedIdx();\n  }\n\n  const value = { myPRep: !(myDelegation === 0), votedIdx: votedIdx, owner: amIOwner(), myVotingPower: myDelegation };\n\n  // console.log(\"votedPowerRate\", votedPowerRate, votedPowerRate[0]);\n  if (votedPowerRate[0] === undefined) {\n    const winningTh = callResult.getProposal.winning_threshold;\n    getVotedPowerRate().then((r) => {\n      // console.log(\"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\")\n      // console.log(\"r\", r);\n      if (voteData.th === 0) {\n        let tmpVoteData = voteData;\n        tmpVoteData.voted = Math.round((r.totalVotedPower / r.totalDelegate) * 100);\n        tmpVoteData.th = callResult.getProposal.electoral_threshold - tmpVoteData.voted;\n        if (tmpVoteData.th < 0) tmpVoteData.th = 0;\n        tmpVoteData.totalVoted = r.totalVotedPower;\n        tmpVoteData.totalDelegate = r.totalDelegate;\n        setVoteData(tmpVoteData);\n      }\n\n      let voteItem: any[] = [];\n      for (let i = 0; i < r.votedPowers.length; i++) {\n        const votedRate = Math.round((r.votedPowers[i] / r.totalVotedPower) * 100);\n        voteItem.push({ name: callResult.getProposal.select_item[i], voted: votedRate ? votedRate : 0, left: votedRate ? (votedRate > winningTh ? 0 : winningTh - votedRate) : 0, icx: r.votedPowers[i] });\n      }\n      setVotedPowerRate(voteItem);\n    });\n    return <p>Loading...</p>;\n  }\n\n  return (\n    <Proposal\n      pRep={pRep}\n      id={id}\n      myPRep={value.myPRep}\n      votedIdx={value.votedIdx}\n      myVotingPower={value.myVotingPower}\n      owner={value.owner}\n      voteSelect={voteSelect}\n      back={back}\n      votedPowerRate={votedPowerRate}\n      voteData={voteData}\n      votes={callResult.getVotes}\n      vote={vote}\n      handleChange={handleChange}\n      handleChangePage={handleChangePage}\n      handleChangeRowsPerPage={handleChangeRowsPerPage}\n      page={page}\n      rowsPerPage={rowsPerPage}\n      proposal={callResult.getProposal}\n    />\n  );\n}\n\nexport default ProposalContainer;\n","import { useCallback, useState } from \"react\";\n\nexport default function useForceUpdate(): () => void {\n  const [, dispatch] = useState<{}>(Object.create(null));\n\n  // Turn dispatch(required_parameter) into dispatch().\n  const memoizedDispatch = useCallback((): void => {\n    dispatch(Object.create(null));\n  }, [dispatch]);\n  return memoizedDispatch;\n}\n","import React from \"react\";\n// import { withRouter } from \"react-router-dom\";\nimport { Paper, Grid, Typography, TextField, Button, Slider } from \"@material-ui/core\";\nimport { AddRounded } from \"@material-ui/icons\";\nimport clsx from \"clsx\";\n\nimport { TUIEditor } from \"./TUIEditor\";\n\nimport useStyles from \"./Style\";\n\nfunction EditProposal(props: any) {\n  // console.log(\"EditProposal props\", props);\n\n  const classes = useStyles();\n\n  if (props.loading) return <p>Loading...</p>;\n  if (props.error) return <p>Error: Check your login status.</p>;\n  return (\n    <Grid item className={classes.grid} xs={12} md={12} lg={12}>\n      <Paper className={classes.paper}>\n        <form>\n          <Grid container className={classes.container} spacing={0}>\n            <Grid className={classes.item} item xs={12} md={12} lg={12}>\n              <TextField\n                id=\"subject\"\n                label=\"Subject\"\n                value={props.values.subject}\n                onChange={props.handleProposalChange(\"subject\")}\n                className={classes.textField}\n                variant=\"outlined\"\n                helperText={props.validator.message(\n                  \"subject\",\n                  props.values.subject,\n                  \"required|min:10\"\n                )}\n              />\n              <br />\n            </Grid>\n            <Grid\n              className={classes.item}\n              item\n              xs={12}\n              md={12}\n              lg={12}\n              style={{ textAlign: \"right\" }}\n            >\n              <Button color=\"primary\" onClick={props.addSelectItem}>\n                <AddRounded />\n                Add select item\n              </Button>\n            </Grid>\n            {props.selectItems.map((item: any, idx: any) => {\n              return (\n                <Grid\n                  className={classes.item}\n                  key={idx}\n                  item\n                  xs={12}\n                  md={12}\n                  lg={12}\n                >\n                  <TextField\n                    id={String(idx + 1)}\n                    label={String(idx + 1)}\n                    name={String(idx + 1)}\n                    value={item}\n                    onChange={props.handleSelectItemChange(idx)}\n                    className={classes.textField}\n                    helperText={props.validator.message(\n                      \"select_item\",\n                      props.selectItems,\n                      \"required|listFilled:\" + String(idx) + \"|diff\"\n                    )}\n                    variant=\"outlined\"\n                    InputProps={{\n                      endAdornment: (\n                        <Button\n                          color=\"secondary\"\n                          onClick={() => props.deleteSelectItem(idx)}\n                        >\n                          Delete\n                        </Button>\n                      )\n                    }}\n                  />\n                  <br />\n                </Grid>\n              );\n            })}\n\n            <Grid className={classes.item} item xs={12} md={12} lg={12}>\n              <Typography variant=\"subtitle2\" color=\"textSecondary\">Description</Typography>\n              <TUIEditor\n                usageStatistics={false}\n                height=\"600px\"\n                initialEditType=\"wysiwyg\"\n                initialValue={props.values.contents}\n                useCommandShortcut={true}\n                exts={[\n                  {\n                    name: \"chart\",\n                    minWidth: 100,\n                    maxWidth: 600,\n                    minHeight: 100,\n                    maxHeight: 300\n                  },\n                  \"scrollSync\",\n                  \"colorSyntax\",\n                  \"uml\",\n                  \"mark\",\n                  \"table\"\n                ]}\n                onChange={props.handleEditorChange}\n              />\n            </Grid>\n            {props.values.contents !== \"\" &&\n              props.validator.message(\n                \"contents\",\n                props.values.contents,\n                \"required|min:10\"\n              )\n            }\n\n            <Grid className={clsx(classes.item, classes.center)} item xs={12} md={12} lg={12}>\n              <Typography><b>Vote Duration</b></Typography>\n            </Grid>\n            <Grid className={clsx(classes.item, classes.center)} item xs={12} md={12} lg={12}>\n              <div>\n                <TextField\n                  id=\"days\"\n                  type=\"number\"\n                  value={props.values.days.toString()}\n                  onChange={props.handleProposalChange(\"days\")}\n                  variant=\"outlined\"\n                  inputProps={{ min: 0, max: 365, step: 1 }}\n                  style={{ float: \"left\", width: \"200\" }}\n                />\n                <Typography variant=\"h6\" style={{ float: \"left\", width: \"200\" }}><b>Days</b></Typography>\n                <TextField\n                  id=\"hours\"\n                  type=\"number\"\n                  value={props.values.hours.toString()}\n                  onChange={props.handleProposalChange(\"hours\")}\n                  variant=\"outlined\"\n                  inputProps={{ min: 0, max: 24, step: 1 }}\n                  style={{ float: \"left\", width: \"200\" }}\n                />\n                <Typography variant=\"h6\" style={{ float: \"left\", width: \"200\" }}><b>Hours</b></Typography>\n              </div>\n            </Grid>\n            <Grid className={clsx(classes.item, classes.center)} item xs={12} md={12} lg={12}>\n              <br />\n              <Typography>End At {props.values.expireAt.toString()}</Typography>\n              <br />\n            </Grid>\n            <Grid\n              className={classes.item}\n              item\n              style={{ textAlign: \"center\" }}\n              xs={12}\n              md={12}\n              lg={12}\n            >\n              <Typography><b>Participation Quorum : {props.values.electoralTh}</b></Typography>\n              <Slider\n                value={props.values.electoralTh}\n                onChange={props.handleSliderChange(\"electoralTh\")}\n                defaultValue={50}\n                getAriaValueText={(val) => val + \"%\"}\n                aria-labelledby=\"discrete-slider\"\n                valueLabelDisplay=\"auto\"\n                step={5}\n                marks\n                min={0}\n                max={100}\n              />\n            </Grid>\n            <Grid\n              className={classes.item}\n              item\n              style={{ textAlign: \"center\" }}\n              xs={12}\n              md={12}\n              lg={12}\n            >\n              <Typography><b>Minimum Approval Rate to Pass : {props.values.winningTh}</b></Typography>\n              <Slider\n                value={props.values.winningTh}\n                onChange={props.handleSliderChange(\"winningTh\")}\n                defaultValue={50}\n                getAriaValueText={(val) => val + \"%\"}\n                aria-labelledby=\"discrete-slider\"\n                valueLabelDisplay=\"auto\"\n                step={5}\n                marks\n                min={0}\n                max={100}\n              />\n            </Grid>\n            <Grid\n              className={classes.item}\n              item\n              style={{ textAlign: \"center\" }}\n              xs={12}\n              md={12}\n              lg={12}\n            >\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={props.handlesubmitProposal}\n                fullWidth\n              >\n                Submit\n              </Button>\n            </Grid>\n          </Grid>\n        </form>\n      </Paper>\n    </Grid>\n  );\n}\n\nexport default EditProposal;\n","import React, { Fragment, useState } from \"react\";\nimport { Typography } from \"@material-ui/core\";\nimport { Redirect } from \"react-router-dom\";\n\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport { GET_PROPOSAL4EDIT, SET_PROPOSAL } from \"./GQL\";\nimport SimpleReactValidator from \"simple-react-validator\";\n\nimport useForceUpdate from \"./useForceUpdate\";\nimport EditProposal from \"./EditProposal\";\n\nfunction EditProposalContainer(props: any) {\n  // console.log(\"EditProposalContainer props\", props);\n\n  //  const match = props.match;\n  //  const history = props.history;\n  //  const location = props.location;\n  //  const prop_proposal = props.proposal;\n\n  let proposal_id: any;\n  if (props && props.match && props.match.params && props.match.params.proposal_id) {\n    proposal_id = props.match.params.proposal_id;\n  } else {\n    proposal_id = -1;\n  }\n\n  const forceUpdate = useForceUpdate();\n\n  const [redirect, setRedirect] = useState();\n\n  const [selectItems, setSelectItems] = useState([\"\", \"\", \"\", \"\"]);\n  const [values, setValues] = useState({\n    id: -1,\n    electoralTh: 50,\n    winningTh: 50,\n    subject: \"\",\n    contents: \"\",\n    days: 1,\n    hours: 0,\n    expireAt: new Date(),\n    selectitemmodelSet: []\n  });\n\n  const [mutateProposal] = useMutation(SET_PROPOSAL);\n\n  const [validator] = useState(new SimpleReactValidator({\n    validators: {\n      diff: {\n        message: \"input different options.\",\n        rule: (val: any, params: any) => {\n          // console.log(val, params);\n          for (let i = 0; i < val.length; i++) {\n            for (let j = i + 1; j < val.length; j++) {\n              if (val[i] === val[j]) {\n                return false;\n              }\n            }\n          }\n          return true;\n        }\n      },\n      listFilled: {\n        message: \"input every field\",\n        rule: (val: any, params: any) => {\n          if (val[parseInt(params[0])] === \"\") {\n            return false;\n          }\n          return true;\n        }\n      }\n    },\n    locale: \"en\",\n    className: \"text-danger\",\n    element: (message: any, className: any) => (\n      <Typography variant=\"caption\" color=\"error\" className={className}>\n        {message}\n      </Typography>\n    )\n  }));\n\n  const addSelectItem = () => {\n    setSelectItems([...selectItems, \"\"]);\n  };\n\n  const handleSelectItemChange = (index: number) => (\n    event: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    setSelectItems([\n      ...selectItems.slice(0, index),\n      event.target.value,\n      ...selectItems.slice(index + 1)\n    ]);\n  };\n\n  function deleteSelectItem(index: number) {\n    let tmp = selectItems;\n    tmp.splice(index, 1);\n    setSelectItems(tmp);\n    forceUpdate();\n  }\n\n  const handleDateChange = (days: number) => {\n    // console.log(\"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\");\n    var today = new Date();\n    var dueto = new Date();\n    dueto.setDate(today.getDate() + 1);\n    // console.log(dueto);\n    setValues({ ...values, expireAt: dueto });\n  };\n\n  const handleProposalChange = (name: string) => (\n    event: React.ChangeEvent<any>\n  ) => {\n    // console.log(\"~~~~~~~~~~~~~~~~~~~~~\", name, event.target.value, parseInt(event.target.value))\n\n    if (name === \"days\" || name === \"hours\") {\n      if (event.target.value !== \"\") {\n        var today = new Date();\n        if (name === \"days\") {\n          today.setDate(today.getDate() + parseInt(event.target.value));\n          today.setHours(today.getHours() + values.hours)\n        }\n        else {\n          today.setDate(today.getDate() + values.days);\n          today.setHours(today.getHours() + parseInt(event.target.value))\n        }\n        // console.log(today.toString());\n        setValues({ ...values, [name]: parseInt(event.target.value), expireAt: today });\n      }\n    }\n    else {\n      setValues({ ...values, [name]: event.target.value });\n    }\n  };\n\n  const handleSliderChange = (name: string) => (event: any, newValue: number | number[]) => {\n    if (Array.isArray(newValue)) {\n      setValues({ ...values, [name]: newValue[0] });\n    }\n    else {\n      setValues({ ...values, [name]: newValue });\n    }\n    // console.log(values);\n  };\n\n  function handleEditorChange(content: string) {\n    setValues({ ...values, contents: content });\n  }\n\n  function handlesubmitProposal() {\n    if (!validator.allValid()) {\n      validator.showMessages();\n      forceUpdate();\n      return;\n    }\n\n    let tmpSelectItemList: { index: Number; contents: String }[] = [];\n    selectItems.map((item: any, idx: any) => {\n      tmpSelectItemList.push({\n        index: idx,\n        contents: item\n      });\n      //await mutateSelectItem({ variables: { proposalID: newProposalID, contents: item.value } });\n      return item;\n    });\n\n    const mutate_var: { [index: string]: any } = {\n      variables: {\n        proposalId: values.id,\n        subject: values.subject,\n        contents: values.contents,\n        published: false,\n        electoralTh: values.electoralTh,\n        winningTh: values.winningTh,\n        expireAt: values.expireAt.toISOString(),\n        selectItemList: tmpSelectItemList\n      }\n    };\n\n    submitProposal(mutate_var);\n  }\n\n  function submitProposal(mutate_var: any) {\n    // console.log(\"submitProposal mutate_var:\", mutate_var);\n    mutateProposal(mutate_var).then(result => {\n      setRedirect(result.data.setProposal.proposal.id);\n    });\n  }\n\n  function renderRedirect() {\n    if (redirect) {\n      return <Redirect to={\"/NoteProposal/\" + queryVal.data.viewer.username + \"/\" + redirect} />;\n    }\n  }\n\n  const queryVal = useQuery(GET_PROPOSAL4EDIT, {\n    variables: { id: proposal_id }\n  })\n\n  if (queryVal.data && queryVal.data.proposal && values.id === -1) {\n    const proposal = queryVal.data.proposal;\n    const date = new Date(proposal.expireAt);\n    const now = new Date();\n    const diff = (date.getTime() - now.getTime()) / 1000;\n\n    let dayDiff = 0;\n    let hourDiff = 0;\n\n    if (diff > 0) {\n      dayDiff = Math.floor(diff / (60 * 60 * 24));\n      hourDiff = Math.floor((diff - (dayDiff * 60 * 60 * 24)) / (60 * 60));\n    }\n\n    setValues({\n      id: proposal.id,\n      electoralTh: proposal.electoralTh,\n      winningTh: proposal.winningTh,\n      subject: proposal.subject,\n      contents: proposal.contents,\n      days: dayDiff,\n      hours: hourDiff,\n      expireAt: date,\n      selectitemmodelSet: []\n    });\n\n    let tmpSelectItems: string[] = [];\n    proposal.selectitemmodelSet.map((item: any) => {\n      tmpSelectItems.push(item.contents);\n      return item;\n    });\n    if (tmpSelectItems.length > 0) {\n      setSelectItems(tmpSelectItems);\n    }\n  }\n\n  return (\n    <Fragment>\n      {renderRedirect()}\n      <EditProposal\n        {...queryVal}\n        validator={validator}\n        values={values}\n        setValues={setValues}\n        selectItems={selectItems}\n        addSelectItem={addSelectItem}\n        handleSelectItemChange={handleSelectItemChange}\n        deleteSelectItem={deleteSelectItem}\n        handleDateChange={handleDateChange}\n        handleProposalChange={handleProposalChange}\n        handleSliderChange={handleSliderChange}\n        handleEditorChange={handleEditorChange}\n        handlesubmitProposal={handlesubmitProposal}\n      />\n    </Fragment>\n  );\n}\n\nexport default EditProposalContainer;","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { Grid, Avatar, Typography, IconButton, Badge, Menu, MenuItem, Button } from \"@material-ui/core\";\nimport { AccountCircle } from \"@material-ui/icons\";\n\nimport useStyles from \"./Style\";\n\nfunction UserInfo(props: any) {\n  // console.log(\"UserInfo props\", props);\n  const classes = useStyles();\n\n  if (props.loading) return <p>Loading...</p>\n  //  if (props.error) return <p>Error...{props.error.message}</p>\n\n  if (props.data && props.data.viewer && props.data.viewer.username) {\n    return (\n      <Grid container className={classes.container}>\n        <Grid item className={classes.grid} xs style={{ textAlign: \"right\" }}>\n          <IconButton\n            aria-controls=\"user_menu\"\n            color=\"inherit\"\n            onClick={props.handleMenu}\n          >\n            <Badge\n              badgeContent={props.badgeCnt}\n              invisible={props.badgeCnt === 0}\n              color=\"secondary\"\n              className={classes.noMarginPadding}\n            >\n              <Avatar\n                alt={props.data.viewer.username}\n                src={\"\"}\n                className={classes.noMarginPadding}\n              >\n                <AccountCircle fontSize=\"large\" />\n              </Avatar>\n            </Badge>\n          </IconButton>\n          <Menu\n            id=\"user_menu\"\n            anchorEl={props.anchorEl}\n            keepMounted\n            open={Boolean(props.anchorEl)}\n            onClose={props.handleMenuClose}\n          >\n            <MenuItem onClick={props.showUserInfo}>\n              <Typography component=\"h6\">{props.data.viewer.username}</Typography>\n            </MenuItem>\n            <MenuItem onClick={props.handleMenuClose}>\n              <Link to=\"/Profile\" className={classes.link}>\n                <Typography component=\"h6\">Profile</Typography>\n              </Link>\n            </MenuItem>\n            <MenuItem onClick={props.handleMenuLogout}>\n              <Link to=\"/\" className={classes.link}>\n                <Typography component=\"h6\">Logout</Typography>\n              </Link>\n            </MenuItem>\n          </Menu>\n        </Grid>\n      </Grid>\n    );\n  } else {\n    return (\n      <Grid container className={classes.container}>\n        <Grid item className={classes.grid} xs style={{ textAlign: \"right\", overflow: \"hidden\" }}>\n          <Button component={Link} to=\"/Signup\" style={{ overflow: \"hidden\" }}>\n            <Typography component=\"h6\" style={{ color: \"#FFFFFF\" }}>Join now</Typography>\n          </Button>\n        </Grid>\n        <Grid item className={classes.grid} xs style={{ textAlign: \"left\", overflow: \"hidden\" }}>\n          <Button component={Link} to=\"/Signin\" variant=\"contained\" style={{ color: \"#FFF\", overflow: \"hidden\" }}>\n            <Typography component=\"h6\" color=\"primary\">Sign In</Typography>\n          </Button>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default UserInfo;","import React from \"react\";\n\nimport { useQuery, useMutation, useApolloClient } from \"@apollo/react-hooks\";\nimport { LOG_OUT, GET_VIEWER } from \"./GQL\";\n\nimport UserInfo from \"./UserInfo\";\n\nfunction UserInfoContainer(props: any) {\n  // console.log(\"UserInfoContainer props\", props);\n  //const [badgeCnt, setBadgeCnt] = React.useState(0);\n  const badgeCnt = 0;\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n\n  const [mutateLogout] = useMutation(LOG_OUT);\n  const client = useApolloClient();\n\n  const handleMenu = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleMenuLogout = () => {\n    mutateLogout().then((result) => {\n      setAnchorEl(null);\n      client.writeData({ data: { username: \"\", snack: { open: true, message: \"logouted\", __typename: \"snack\" } } });\n      props.refetch();\n      window.location.reload();\n    });\n  };\n\n  function showUserInfo() {\n    client.writeData({ data: { snack: { open: true, message: queryVal.data.viewer.username, __typename: \"snack\" } } });\n  }\n\n  const queryVal = useQuery(GET_VIEWER);\n\n  return (<UserInfo\n    {...queryVal}\n    anchorEl={anchorEl}\n    setAnchorEl={setAnchorEl}\n    badgeCnt={badgeCnt}\n    handleMenu={handleMenu}\n    handleMenuClose={handleMenuClose}\n    handleMenuLogout={handleMenuLogout}\n    showUserInfo={showUserInfo}\n  />);\n\n}\n\nexport default UserInfoContainer;\n","import React, { Fragment } from \"react\";\nimport { Grid, Paper, TextField, Button } from \"@material-ui/core\";\nimport clsx from \"clsx\";\n\nimport useStyles from \"./Style\";\n\nfunction SignIn(props: any) {\n  // console.log(\"SignIn props\", props);\n  const classes = useStyles();\n\n  return (\n    <Fragment>\n      <Grid item className={clsx(classes.grid, classes.center)} xs={12} md={12} lg={12}>\n        <Paper className={classes.paper}>\n          <br />\n          <br />\n          <br />\n          <br />\n          <Grid container className={classes.container}>\n            <Grid item className={clsx(classes.item, classes.center)} xs={12} md={12} lg={12}>\n              <TextField\n                id=\"username\"\n                label=\"Username\"\n                name=\"username\"\n                type=\"text\"\n                value={props.signInfo.username}\n                onChange={props.handleSignInfo}\n                helperText={props.validator.message(\n                  \"username\",\n                  props.signInfo.username,\n                  \"required|min:3\"\n                )}\n              />\n            </Grid>\n            <Grid item className={clsx(classes.item, classes.center)} xs={12} md={12} lg={12}>\n              <TextField\n                id=\"password\"\n                label=\"Password\"\n                name=\"password\"\n                type=\"password\"\n                value={props.signInfo.password}\n                onChange={props.handleSignInfo}\n                onKeyPress={e => {\n                  if (e.key === \"Enter\") {\n                    props.validateSignIn();\n                  }\n                }}\n                helperText={props.validator.message(\n                  \"password\",\n                  props.signInfo.password,\n                  \"required|min:3\"\n                )}\n              />\n            </Grid>\n            <Grid item className={clsx(classes.item, classes.center)} xs={12} md={12} lg={12}>\n              <Button variant=\"contained\" color=\"primary\" onClick={props.validateSignIn}>\n                Sign in\n              </Button>\n            </Grid>\n          </Grid>\n          <br />\n          <br />\n          <br />\n          <br />\n        </Paper>\n      </Grid>\n    </Fragment>\n  );\n}\n\nexport default SignIn;","import React, { useState } from \"react\";\nimport { Typography } from \"@material-ui/core\";\nimport SimpleReactValidator from \"simple-react-validator\";\n\nimport { useMutation, useApolloClient } from \"@apollo/react-hooks\";\nimport { TOKEN_AUTH } from \"./GQL\";\n\nimport useForceUpdate from \"./useForceUpdate\";\nimport SignIn from \"./SignIn\";\n\nfunction SignInContainer(props: any) {\n  const forceUpdate = useForceUpdate();\n  const client = useApolloClient();\n\n  const [signInfo, setSignInfo] = useState({ username: \"\", password: \"\" });\n\n  const [mutateTokenAuth] = useMutation(TOKEN_AUTH);\n\n  function logIn(username: string, password: string) {\n    mutateTokenAuth({\n      variables: { username: username, password: password }\n    }).then((r) => {\n      client.writeData({ data: { snack: { open: true, message: \"Welcome \" + username, __typename: \"snack\" } } });\n      localStorage.setItem(\"refreshToken\", r.data.tokenAuth.refreshToken);\n      props.history.go(-1);\n      // window.location.reload();\n    }).catch((e) => {\n      client.writeData({ data: { snack: { open: true, message: \"Login Fail\", __typename: \"snack\" } } });\n      // console.log(\"login error\", e);\n    });\n  }\n\n  const [validator] = useState(new SimpleReactValidator({\n    validators: {},\n    locale: \"en\",\n    className: \"text-danger\",\n    element: (message: any, className: any) => (\n      <Typography variant=\"caption\" color=\"error\" className={className}>\n        {message}\n      </Typography>\n    )\n  }));\n\n  function validateSignIn() {\n    if (!validator.allValid()) {\n      validator.showMessages();\n      forceUpdate();\n      return;\n    } else {\n      // console.log(\"go to login\");\n      logIn(signInfo.username, signInfo.password);\n    }\n  }\n\n  function handleSignInfo(e: React.ChangeEvent<HTMLInputElement>) {\n    setSignInfo({ ...signInfo, [e.target.name]: e.target.value });\n  }\n\n  return (\n    <SignIn\n      signInfo={signInfo}\n      handleSignInfo={handleSignInfo}\n      validator={validator}\n      validateSignIn={validateSignIn}\n    />\n  );\n}\n\nexport default SignInContainer;\n","import React from \"react\";\n\nimport { Grid, TextField, Button } from \"@material-ui/core\";\nimport clsx from \"clsx\";\n\nimport useStyles from \"./Style\";\n\n\nfunction NewAccount(props: any) {\n  // console.log(\"NewAccount props\", props);\n  const classes = useStyles();\n\n  return (\n    <Grid container className={classes.container}>\n      <Grid item className={clsx(classes.item, classes.center)} xs={12} md={12} lg={12}>\n        <TextField\n          id=\"username\"\n          label=\"Username\"\n          name=\"username\"\n          type=\"text\"\n          variant=\"outlined\"\n          value={props.signInfo.username}\n          onChange={props.handleSignInfo}\n          helperText={props.validator.message(\n            \"username\",\n            props.signInfo.username,\n            \"required|min:3|alpha_num\"\n          )}\n        />\n      </Grid>\n      <Grid item className={clsx(classes.item, classes.center)} xs={12} md={12} lg={12}>\n        <TextField\n          id=\"password\"\n          label=\"Password\"\n          name=\"password\"\n          type=\"password\"\n          variant=\"outlined\"\n          value={props.signInfo.password}\n          onChange={props.handleSignInfo}\n          helperText={props.validator.message(\n            \"password\",\n            [props.signInfo.password, props.signInfo.password2],\n            \"required|same|minpass:6\"\n          )}\n        />\n      </Grid>\n      <Grid item className={clsx(classes.item, classes.center)} xs={12} md={12} lg={12}>\n        <TextField\n          id=\"password2\"\n          label=\"Confirm Password\"\n          name=\"password2\"\n          type=\"password\"\n          variant=\"outlined\"\n          value={props.signInfo.password2}\n          onChange={props.handleSignInfo}\n          onKeyPress={e => {\n            if (e.key === \"Enter\") {\n              props.signUp();\n            }\n          }}\n          helperText={props.validator.message(\n            \"password\",\n            [props.signInfo.password2, props.signInfo.password],\n            \"required|same|minpass:6\"\n          )}\n        />\n      </Grid>\n      <Grid item className={clsx(classes.item, classes.center)} xs={12} md={12} lg={12}>\n        <br />\n        <br />\n        <Button variant=\"contained\" color=\"primary\" onClick={props.signUp}>\n          Sign up\n        </Button>\n        <br />\n        <br />\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default NewAccount;\n","import React, { useState } from \"react\";\n\nimport { Typography } from \"@material-ui/core\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport useForceUpdate from \"./useForceUpdate\";\nimport { SET_USER, TOKEN_AUTH } from \"./GQL\";\nimport { useMutation } from \"react-apollo\";\n\nimport NewAccount from \"./NewAccount\";\n\nfunction NewAccountContainer(props: any) {\n  // console.log(\"NewAccount props\", props);\n  const forceUpdate = useForceUpdate();\n\n  const [mutateSetUser] = useMutation(SET_USER);\n  const [mutateTokenAuth] = useMutation(TOKEN_AUTH);\n\n  const [signInfo, setSignInfo] = useState({\n    username: \"\",\n    password: \"\",\n    password2: \"\"\n  });\n\n  const [validator] = useState(new SimpleReactValidator({\n    validators: {\n      same: {\n        message: \"input same password.\",\n        rule: (val: any, params: any) => {\n          // console.log(val, params, validator);\n          for (let i = 0; i < val.length; i++) {\n            for (let j = i + 1; j < val.length; j++) {\n              if (val[i] !== val[j]) {\n                return false;\n              }\n            }\n          }\n          return true;\n        }\n      },\n      minpass: {\n        message: \"input more than :param character\",\n        rule: (val: any, params: any) => {\n          if (val[0].length >= parseInt(params[0])) {\n            return true;\n          }\n          return false;\n        },\n        messageReplace: (msg: any, params: any) => msg.replace(':param', validator.helpers.toSentence(params))\n      }\n    },\n    locale: \"en\",\n    className: \"text-danger\",\n    element: (message: any, className: any) => (\n      <Typography variant=\"caption\" color=\"error\" className={className}>\n        {message}\n      </Typography>\n    )\n  }));\n\n  function sameValidate(val: any) {\n    if (val[0] === val[1]) {\n      return;\n    } else {\n      return (\n        <Typography variant=\"caption\" color=\"error\">\n          Have to be same.\n        </Typography>\n      );\n    }\n  }\n\n  async function newUser(username: string, password: string) {\n    try {\n      await mutateSetUser({\n        variables: { username: username, password: password }\n      })\n    }\n    catch (e) {\n      if (e.toString().indexOf(\"UNIQUE\")) {\n        alert(\"id exist. make another id\")\n      }\n      return false;\n    }\n    return true;\n  }\n\n  function logIn(username: string, password: string) {\n    mutateTokenAuth({\n      variables: { username: username, password: password }\n    }).then(result => {\n      props.setActiveStep(props.activeStep + 1);\n    });\n  }\n\n  async function signUp() {\n    if (!validator.allValid()) {\n      validator.showMessages();\n      forceUpdate();\n      return;\n    } else {\n      let result = await newUser(signInfo.username, signInfo.password);\n      if (result) {\n        // console.log(result);\n        logIn(signInfo.username, signInfo.password);\n      }\n    }\n  }\n\n  function handleSignInfo(e: React.ChangeEvent<HTMLInputElement>) {\n    setSignInfo({ ...signInfo, [e.target.name]: e.target.value });\n  }\n\n  return (<NewAccount\n    signInfo={signInfo}\n    handleSignInfo={handleSignInfo}\n    validator={validator}\n    signUp={signUp}\n    sameValidate={sameValidate}\n  />);\n}\n\nexport default NewAccountContainer;","import React from \"react\";\nimport { Stepper, Step, StepLabel, Grid, Paper, Button, Typography } from \"@material-ui/core\";\nimport clsx from \"clsx\";\n\nimport useStyles from \"./Style\";\n\nimport VerifyIconContainer from \"./VerifyIconContainer\";\nimport NewAccountContainer from \"./NewAccountContainer\";\n\nfunction SignUp(props: any) {\n  // console.log(\"SingUp props\", props);\n  const classes = useStyles();\n\n  return (\n    <Grid item className={clsx(classes.grid, classes.center)} xs={12} md={12} lg={12}>\n      <Paper className={clsx(classes.paper, classes.center)}>\n        <Grid container className={clsx(classes.container, classes.center)}>\n          <Grid item className={clsx(classes.item, classes.center)} xs={12} md={12} lg={12}>\n            <br />\n            <Stepper activeStep={props.activeStep} alternativeLabel>\n              {props.steps.map((label: any) => (\n                <Step key={label}>\n                  <StepLabel>{label}</StepLabel>\n                </Step>\n              ))}\n            </Stepper>\n            <br />\n            <br />\n          </Grid>\n        </Grid>\n        {props.activeStep === 0 &&\n          <NewAccountContainer activeStep={props.activeStep} setActiveStep={props.setActiveStep} />\n        }\n        {props.activeStep === 1 &&\n          <VerifyIconContainer activeStep={props.activeStep} setActiveStep={props.setActiveStep} />\n        }\n        {props.activeStep === 2 &&\n          <Grid container className={classes.container}>\n            <Grid item className={classes.item} xs={12} md={12} lg={12}>\n              <br />\n              <br />\n              <br />\n              <br />\n              <Typography>Good Job</Typography>\n              <br />\n              <br />\n              <br />\n              <br />\n            </Grid>\n          </Grid>\n        }\n        <Grid container className={classes.container}>\n          <Grid item className={clsx(classes.item, classes.left)} xs={6} md={6} lg={6}>\n            <Button variant=\"contained\" color=\"primary\" onClick={() => { props.setActiveStep(props.activeStep - 1) }} disabled={props.activeStep <= 0} >\n              Back\n            </Button>\n          </Grid>\n          <Grid item className={clsx(classes.item, classes.right)} xs={6} md={6} lg={6}>\n            <Button variant=\"contained\" color=\"primary\" onClick={() => { props.setActiveStep(props.activeStep + 1) }} disabled={props.activeStep >= 2}>\n              Forward\n            </Button>\n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid>\n  );\n}\n\nexport default SignUp;\n","import React from \"react\";\n\nimport SignUp from \"./SignUp\";\n\nfunction SignUpContainer(props: any) {\n  // console.log(\"SingUpContainer props\", props);\n\n  const [activeStep, setActiveStep] = React.useState(0);\n  const steps = ['Sign Up', 'Verify ICON address', 'Confirm'];\n\n  return (<SignUp activeStep={activeStep} setActiveStep={setActiveStep} steps={steps} />)\n}\n\nexport default SignUpContainer;\n","import React from 'react';\nimport { Typography, Link } from '@material-ui/core';\nimport { Twitter, Telegram } from '@material-ui/icons';\n\nfunction Copyright() {\n    return (\n        <>\n            <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n                {'Copyright © '}\n                <Link color=\"inherit\" href=\"https://icon.vote/\">\n                    ICON.Vote{' '}\n                </Link>\n                {new Date().getFullYear()}\n                {'.'}\n                <a href=\"https://t.me/iconvote\" target=\"_blank\" rel=\"noopener noreferrer\"><Telegram width={30} style={{ color: \"#50A8B8\" }} /></a>\n                <a href=\"https://twitter.com/ICONvote\" target=\"_blank\" rel=\"noopener noreferrer\"><Twitter width={30} style={{ color: \"#50A8B8\" }} /></a>\n            </Typography>\n        </>\n    );\n}\n\n\nexport default Copyright;","import React from \"react\";\nimport { Link, Switch, Route } from \"react-router-dom\";\nimport { CssBaseline, AppBar, Toolbar, Typography, Container, Grid, Snackbar } from \"@material-ui/core\";\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\n\nimport LandingPage from \"./LandingPage\";\nimport HowTo from \"./HowTo\";\nimport VerifyIconContainer from \"./VerifyIconContainer\";\nimport SelectPRepContainer from \"./SelectPRepContainer\";\nimport NoteProposalsContainer from \"./NoteProposalsContainer\";\nimport NoteProposalContainer from \"./NoteProposalContainer\";\nimport ProposalsContainer from \"./ProposalsContainer\";\nimport ProposalContainer from \"./ProposalContainer\";\nimport EditProposalContainer from \"./EditProposalContainer\";\nimport UserInfoContainer from \"./UserInfoContainer\";\nimport SignInContainer from \"./SignInContainer\";\nimport SignUpContainer from \"./SignUpContainer\";\nimport Copyright from \"./Copyright\";\n\nimport useStyles from \"./Style\";\n\nimport iconLogo from \"./img/Logo_horizon.png\"\n\nconst IconTheme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#50A8B8\",\n    },\n  },\n})\n\nfunction Layout(props: any) {\n  // console.log(\"Layout props\", props);\n  const classes = useStyles();\n\n  if (props.loading) return <p>Loading...</p>\n  //  if (props.error) return <p>Error...</p>\n  return (\n    <ThemeProvider theme={IconTheme}>\n      <div className={classes.root}>\n        <CssBaseline />\n        <AppBar\n          position=\"absolute\"\n          className={classes.appBar}\n        >\n          <Toolbar className={classes.toolbar}>\n            <Grid container className={classes.container}>\n              <Grid item className={clsx(classes.grid, classes.center, classes.overflowHidden)} xs={3} md={3} lg={3}>\n                <Link to=\"/\" style={{ flexGrow: 1 }}>\n                  <img src={iconLogo} alt=\"ICON Vote\" style={{ maxWidth: \"200px\" }} />\n                </Link>\n              </Grid>\n              <Grid item className={clsx(classes.grid, classes.center, classes.overflowHidden)} xs>\n                <Typography component=\"h6\" variant=\"h6\" color=\"inherit\" noWrap style={{ flexGrow: 1 }}>\n                  <Link to=\"/HowTo\" style={{ textDecoration: 'none', color: \"#FFFFFF\" }}>\n                    How-To\n                  </Link>\n                </Typography>\n              </Grid>\n              <Grid item className={clsx(classes.grid, classes.center, classes.overflowHidden)} xs>\n                <Typography component=\"h6\" variant=\"h6\" color=\"inherit\" noWrap style={{ flexGrow: 1 }}>\n                  <Link to=\"/SelectPRep\" style={{ textDecoration: 'none', color: \"#FFFFFF\" }}>\n                    Vote Explorer\n                  </Link>\n                </Typography>\n              </Grid>\n              {!props.error && props.data && props.data.viewer && props.data.viewer.isPrep &&\n                <Grid item className={clsx(classes.grid, classes.center, classes.overflowHidden)} xs>\n                  <Typography component=\"h6\" variant=\"h6\" color=\"inherit\" noWrap style={{ flexGrow: 1 }}>\n                    <Link to={\"/NoteProposals/\" + props.data.viewer.username} style={{ textDecoration: 'none', color: \"#FFFFFF\" }}>\n                      Launch new votes\n                    </Link>\n                  </Typography>\n                </Grid>\n              }\n              <Grid item className={clsx(classes.grid, classes.center, classes.overflowHidden)} xs>\n                <UserInfoContainer refetch={props.refetch} />\n              </Grid>\n            </Grid>\n          </Toolbar>\n        </AppBar>\n        <div className={classes.content}>\n          <div className={classes.appBarSpacer} />\n          <Container maxWidth=\"lg\" className={classes.rootcontainer}>\n            <Grid container spacing={0}>\n              <Switch>\n                <Route exact path=\"/\" component={LandingPage} />\n                <Route exact path=\"/HowTo\" component={HowTo} />\n                <Route exact path=\"/EditProposal/:proposal_id\" component={EditProposalContainer} />\n                <Route exact path=\"/EditProposal\" component={EditProposalContainer} />\n                <Route exact path=\"/Profile\" component={VerifyIconContainer} />\n                <Route exact path=\"/SelectPRep\" component={SelectPRepContainer} />\n                <Route exact path=\"/NoteProposals/:PRep\" component={NoteProposalsContainer} />\n                <Route exact path=\"/NoteProposal/:PRep/:ID\" component={NoteProposalContainer} />\n                <Route exact path=\"/Proposals/:PRep\" component={ProposalsContainer} />\n                <Route exact path=\"/Proposal/:PRep/:ID\" component={ProposalContainer} />\n                <Route exact path=\"/SignIn\" component={SignInContainer} />\n                <Route exact path=\"/SignUp\" component={SignUpContainer} />\n              </Switch>\n            </Grid>\n          </Container>\n          <Copyright />\n          <Snackbar\n            anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n            autoHideDuration={5000}\n            open={props.open}\n            onClose={props.handleClose}\n            ContentProps={{\n              'aria-describedby': 'message-id',\n            }}\n            message={<span id=\"message-id\">{props.message}</span>}\n          />\n        </div>\n      </div>\n    </ThemeProvider >\n  );\n}\n\nexport default Layout;\n","import React from \"react\";\n\nimport { useQuery, useApolloClient } from \"@apollo/react-hooks\";\nimport { GET_VIEWER, GET_LOCAL_SNACK } from \"./GQL\";\n\nimport Layout from \"./Layout\";\n\nfunction LayoutContainer(props: any) {\n  // console.log(\"LayoutContainer props\", props);\n  const client = useApolloClient();\n\n  const noSnack = { open: false, message: \"\" };\n  const querySnack = useQuery(GET_LOCAL_SNACK);\n  // console.log(\"querySnack\", querySnack);\n\n  const handleClose = (event: React.SyntheticEvent | React.MouseEvent, reason?: string) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    client.writeData({ data: { snack: { open: false, message: \"\", __typename: \"snack\" } } });\n  };\n\n  const queryVal = useQuery(GET_VIEWER);\n  // console.log(\"queryVal\", queryVal);\n\n  let snack = noSnack;\n  if (!querySnack.loading && !querySnack.error && querySnack.data) {\n    snack = querySnack.data.snack;\n    if (snack.open) {\n      queryVal.refetch();\n    }\n  }\n  if (!queryVal.loading && !queryVal.error && queryVal.data) {\n    client.writeData({ data: { viewer: queryVal.data.viewer } });//, refetchViewer: queryVal.refetch } });\n    //    client.queryManager.addObservableQuery(\"getViewer\", GET_VIEWER);\n  }\n\n  return (\n    <Layout {...queryVal} {...snack} handleClose={handleClose} />\n  );\n}\n\nexport default LayoutContainer;\n","import React from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport ApolloClient from \"apollo-boost\";\nimport { ApolloProvider } from \"react-apollo\";\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\n\nimport Cookies from \"js-cookie\";\n\nimport LayoutContainer from \"./LayoutContainer\";\nimport { graphqlURL, csrfURL } from \"./Config\";\n\nconst client = new ApolloClient({\n  uri: graphqlURL,\n  // tell apollo to include credentials for csrf token protection\n  credentials: \"include\",\n  // async operation with fetch to get csrf token\n  request: async operation => {\n    let csrf = Cookies.get(\"csrftoken\");\n    if (csrf === undefined) {\n      let csrftoken = await fetch(csrfURL)\n        .then(response => response.json())\n        .then(data => data.csrfToken);\n      // set the cookie 'csrftoken'\n      Cookies.set(\"csrftoken\", csrftoken);\n      csrf = csrftoken;\n    }\n    operation.setContext({\n      // set the 'X-CSRFToken' header to the csrftoken\n      headers: {\n        \"X-CSRFToken\": csrf\n      }\n    });\n  },\n  cache: new InMemoryCache(),\n  clientState: {\n    defaults: {\n      data: { username: \"\", email: \"\", photo: \"\", icon_address: \"\", snack: { open: false, message: \"\", __typename: \"snack\" }, __typename: \"user\" }\n    },\n    resolvers: {},\n    typeDefs: ``\n  }\n});\n\nfunction App(props: any) {\n  return (\n    <BrowserRouter>\n      <ApolloProvider client={client}>\n        <LayoutContainer />\n      </ApolloProvider>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              // console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}