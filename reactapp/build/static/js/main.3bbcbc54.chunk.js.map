{"version":3,"sources":["utils.ts","Icx.ts","img/facebook.png","img/twitter.png","img/Logo_horizon.png","GQL.tsx","Config.tsx","IconConnect.tsx","Style.tsx","LandingPage.tsx","TUIEditor.tsx","HowTo.tsx","LedgerDialog.tsx","LedgerDialogContainer.tsx","VerifyIcon.tsx","VerifyIconContainer.tsx","SelectPRep.tsx","SelectPRepContainer.tsx","NoteProposals.tsx","NoteProposalsContainer.tsx","NoteProposal.tsx","NoteProposalContainer.tsx","Proposals.tsx","ProposalsContainer.tsx","Proposal.tsx","ProposalContainer.tsx","useForceUpdate.tsx","EditProposal.tsx","EditProposalContainer.tsx","UserInfo.tsx","UserInfoContainer.tsx","SignIn.tsx","SignInContainer.tsx","NewAccount.tsx","NewAccountContainer.tsx","SignUp.tsx","SignUpContainer.tsx","Copyright.tsx","Layout.tsx","LayoutContainer.tsx","App.tsx","serviceWorker.tsx","index.tsx"],"names":["splitPath","path","result","split","forEach","element","number","parseInt","isNaN","length","push","foreach","arr","callback","Promise","resolve","then","iterate","index","array","res","hexToBase64","hexString","btoa","match","map","a","String","fromCharCode","join","Icx","transport","this","decorateAppAPIMethods","boolDisplay","boolChaincode","paths","buffer","Buffer","writeUInt32BE","send","response","publicKey","address","chainCode","publicKeyLength","slice","toString","addressLength","rawTxAscii","offset","rawTx","toSend","maxChunkSize","chunkSize","copy","data","i","apduResponse","signedRawTxBase64","hashHex","majorVersion","minorVersion","patchVersion","privateKeyHex","substr","module","exports","GET_PROPOSAL","gql","SET_PROPOSAL","SET_PUBLISH","SET_VOTE","TOKEN_AUTH","GET_LOCAL_SNACK","SET_USER","LOG_OUT","PREPS","PAGES","GET_PROPOSAL4EDIT","GET_PROPOSALS","PROPOSALS","PROPOSAL","VOTES","PREP_INFO_BY_ID","LAST_PROPOSAL_ID","MY_VOTING_POWER","VOTED_POWER_RATES","NEW_PREP","ADD_ICON_ADDRESS","GET_VIEWER","trackerURL","contractAddress","CONTRACT","Provider","IconService","HttpProvider","nodeURL","iconService","IconBuilder","IconConverter","IconUtil","governanceIconService","contractIconService","jsonRpcCall","methodName","params","callBuilder","CallBuilder","callObj","to","method","build","call","execute","jsonRpcSendTx","fromWallet","timestamp","Date","txBuilder","CallTransactionBuilder","txObj","from","nid","toBigNumber","version","stepLimit","valueOf","scoreData","JSON","stringify","toRawTransaction","parsed","parse","customEvent","CustomEvent","detail","type","payload","window","dispatchEvent","governanceCall","useStyles","makeStyles","theme","createStyles","card","minWidth","avatar","margin","bigAvatar","width","height","overflowHidden","overflow","bullet","display","transform","title","fontSize","flexGrow","link","textDecoration","color","pos","marginBottom","formControl","spacing","minwidth","viewer","papercontainer","padding","modal","position","backgroundColor","palette","background","paper","border","boxShadow","shadows","flexDirection","rootcontainer","flexwrap","container","alignItems","grid","item","paddingSide","paddingLeft","paddingRight","table","center","textAlign","left","right","top","verticalAlign","pagination","flexShrink","marginLeft","selectLabel","textField","root","toolbar","noMarginPadding","toolbarIcon","justifyContent","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","marginRight","menuButtonHidden","drawerPaper","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","content","fixedHeight","LandingPage","props","classes","Grid","className","xs","md","lg","Paper","clsx","Typography","variant","url","playing","TUIEditor","editorRef","React","createRef","handleChange","value","current","getInstance","getValue","onChange","initialValue","previewStyle","initialEditType","useCommandShortcut","exts","ref","TUIViewer","HowTo","TablePaginationActions","page","onChangePage","IconButton","onClick","event","disabled","aria-label","FirstPage","KeyboardArrowLeft","KeyboardArrowRight","LastPage","LedgerDialog","Button","fullWidth","setPage","setOpen","Dialog","maxWidth","aria-labelledby","open","onClose","handleClose","DialogTitle","id","DialogContent","dividers","TableContainer","component","Table","TableHead","TableRow","TableCell","TableBody","list","idx","key","balance","selectAddress","TableFooter","TablePagination","colSpan","rowsPerPage","rowsPerPageOptions","count","handleChangePage","ActionsComponent","LedgerDialogContainer","useState","setList","client","useApolloClient","getAddressNBalance","Transport","setDebugMode","setExchangeTimeout","icx","getAddress","addressResult","getBalance","Error","newPage","tmpList","start","end","alert","addressIdx","query","getBlock","lastBlock","blockHash","username","rawTransaction","hashKey","generateHashKey","signTransaction","signature","sendTransaction","getProperties","getSignature","waitResult","useEffect","getAddresses","sendVerifyLedger","selectNotice","VerifyIcon","Contents","aria-describedby","msg","CircularProgress","contents","verifiedAddress","connectedAddress","notice","Divider","selectWallet","loading","style","error","message","activeStep","VerifyIconContainer","msgForNotice","setUsername","setMsg","setNotice","setVerifiedAddress","setConnectedAddress","useMutation","mutateNewPRep","mutateAddIconAddress","sleep","t","setTimeout","interval","iconAddress","localStorage","getItem","callVerify","eventHandler","setItem","sendVerify","result_json","PRepList","preps","newPRepPage","addIconAddress","variables","Address","IconAddress","CheckVerify","queryVal","useQuery","fetchPolicy","_username","addEventListener","SelectPRep","allPRep","regPReps","j","delegations","pRepName","isMyPRep","flag","List","subheader","ListSubheader","regPages","ListItem","button","handleClick","ListItemIcon","FiberManualRecord","ListItemText","Star","SelectPRepContainer","setDelegations","pReps","setPReps","setRegPages","setRegPReps","queryPReps","queryPages","_preps","get_preps","_pages","get_pages","queryViewer","result2","selectedPRep","PRepName","history","getPRepName","NoteProposals","console","log","createNewProposal","proposals","icon","status","Done","sm","Chip","size","label","gutterBottom","pRep","subject","selectitemmodelSet","selectItem","activePage","itemsCountPerPage","itemPerPage","totalItemsCount","proposalCnt","aInt","pageRangeDisplayed","handlePageChange","NoteProposalsContainer","PRep","setActivePage","first","NoteProposal","proposal","back","float","startIcon","ArrowLeft","ID","isPublicVote","prep","expireAt","name","winningTh","Quorum","electoralTh","layout","dataKey","fill","cursor","hide","get_prep_info_by_id","delegated","toLocaleString","undefined","maximumFractionDigits","ArrowRight","publish","NoteProposalContainer","errorDummy","mutatePublish","proposalId","publishResult","Proposals","select_items","pRepInfo","href","website","myVotingPower","select_item","itm","MoreVert","currPage","lastProposalID","setCurrPage","activeLinkClass","ProposalsContainer","setProposals","delegate","setPRepInfo","setLastProposalID","setMyVotingPower","queryProposals","proposer","startProposalID","endProposalID","queryLastProposalID","queryPRepInfoByID","queryMyVotingPower","_proposals","get_proposals","_pRepInfo","_lastProposalID","get_last_proposal_id","_votingPower","get_my_voting_power","Proposal","SelectItemList","votedPowerRate","voteRate","votedPower","totalVotedPower","isFinite","voteRateStr","votedIdx","Tooltip","placement","align","RadioButtons","FormControl","RadioGroup","voteSelect","FormControlLabel","control","Radio","VoteButton","vote","endTime","expire_timestamp","leftHour","Math","floor","getTime","now","leftMinute","encodeURIComponent","document","URL","src","twitterImg","alt","facebookImg","transaction","target","rel","final","isCommunityPage","voted","voteData","th","stackId","x","electoral_threshold","stroke","domain","totalDelegate","winning_threshold","myPRep","owner","votes","voter","voteTxHash","SelectProps","inputProps","native","onChangeRowsPerPage","handleChangeRowsPerPage","useTheme","direction","ceil","max","ProposalContainer","setVotes","winner","setProposal","values","setValues","setViewer","setVoteSelect","setVotedPowerRate","setRowsPerPage","mutateVote","votes_call","aVote","_votedIdx","queryProposal","proposal_id","queryVotes","queryVotingPower","queryVotedPowerRates","_proposal","get_proposal","_votes","get_votes","_iconAddress","_myPRep","_myVotingPower","_totalDelegate","_isCommunityPage","_votedPowerRate","_totalVotedPower","Item","get_voted_power_rates","getVotedIdx","_owner","totalVoted","round","go","selectItemIndex","voteResult","refetch","useForceUpdate","Object","dispatch","useCallback","EditProposal","toggleVoteType","TextField","handleProposalChange","helperText","validator","addSelectItem","AddRounded","selectItems","handleSelectItemChange","InputProps","endAdornment","deleteSelectItem","usageStatistics","minHeight","maxHeight","handleEditorChange","days","min","step","hours","Slider","handleSliderChange","defaultValue","getAriaValueText","val","valueLabelDisplay","marks","handlesubmitProposal","EditProposalContainer","forceUpdate","redirect","setRedirect","setSelectItems","mutateProposal","SimpleReactValidator","validators","diff","rule","listFilled","locale","date","dayDiff","hourDiff","tmpSelectItems","renderRedirect","tmp","splice","handleDateChange","today","dueto","setDate","getDate","setHours","getHours","newValue","Array","isArray","allValid","showMessages","tmpSelectItemList","mutate_var","submitProposal","published","toISOString","selectItemList","UserInfo","aria-controls","handleMenu","Badge","badgeContent","badgeCnt","invisible","Avatar","AccountCircle","Menu","anchorEl","keepMounted","Boolean","handleMenuClose","MenuItem","showUserInfo","handleMenuLogout","Link","UserInfoContainer","setAnchorEl","mutateLogout","currentTarget","writeData","snack","__typename","location","reload","SignIn","signInfo","handleSignInfo","password","onKeyPress","e","validateSignIn","SignInContainer","setSignInfo","mutateTokenAuth","r","tokenAuth","refreshToken","catch","NewAccount","password2","signUp","NewAccountContainer","mutateSetUser","same","minpass","messageReplace","replace","helpers","toSentence","newUser","indexOf","logIn","setActiveStep","sameValidate","SignUp","Stepper","alternativeLabel","steps","Step","StepLabel","SignUpContainer","Copyright","getFullYear","Telegram","Twitter","IconTheme","createMuiTheme","primary","main","Layout","ThemeProvider","CssBaseline","AppBar","Toolbar","iconLogo","noWrap","isPrep","Container","exact","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","ContentProps","LayoutContainer","querySnack","reason","queryResolver","obj","args","context","info","_proposer","_start_proposal_id","_end_proposal_id","jsonResult","ret","reverse","_proposal_id","get_verify_info_by_id","_id","verifyInfoResult","verifyInfoJson","get_prep_info_by_address","_address","get_delegation","delegateResp","pages","voteList","communityPage","votingPowerSum","delegateList","get_voting_power","_user","votingPower","delegateAmount","get_delegation_by_id","totalVotingPower","registeredPReps","registeredPages","ApolloClient","uri","credentials","request","operation","csrf","Cookies","get","fetch","json","csrfToken","csrftoken","set","setContext","headers","cache","InMemoryCache","clientState","defaults","email","photo","icon_address","resolvers","Query","typeDefs","App","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3bbcbc54.chunk.js","sourcesContent":["/********************************************************************************\n *   Ledger Node JS API for ICON\n *   (c) 2016-2017 Ledger\n * \n *  Modifications (c) 2018 ICON Foundation\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ********************************************************************************/\n//@flow\n\ntype Defer<T> = {\n  promise: Promise<T>;\n  resolve: (arg0: T) => void;\n  reject: (arg0: any) => void;\n};\n\nexport function defer<T>(): Defer<T> {\n  let resolve, reject;\n  let promise = new Promise<T>(function (success, failure) {\n    resolve = success;\n    reject = failure;\n  });\n  if (!resolve || !reject) throw new Error(\"defer() error\"); // this never happens and is just to make flow happy\n  return { promise, resolve, reject };\n}\n\n// TODO use bip32-path library\nexport function splitPath(path: string): number[] {\n  let result: any[] = [];\n  let components = path.split(\"/\");\n  components.forEach(element => {\n    let number = parseInt(element, 10);\n    if (isNaN(number)) {\n      return; // FIXME shouldn't it throws instead?\n    }\n    if (element.length > 1 && element[element.length - 1] === \"'\") {\n      number += 0x80000000;\n    }\n    result.push(number);\n  });\n  return result;\n}\n\n// TODO use async await\n\nexport function eachSeries<A>(arr: A[], fun: any): any {\n  return arr.reduce((p, e) => p.then(() => fun(e)), Promise.resolve());\n}\n\nexport function foreach<T, A>(\n  arr: T[],\n  callback: (arg0: T, arg1: number) => Promise<A>\n): Promise<A[]> {\n  function iterate(index: number, array: any, result: any): any {\n    if (index >= array.length) {\n      return result;\n    } else\n      return callback(array[index], index).then(function (res) {\n        result.push(res);\n        return iterate(index + 1, array, result);\n      });\n  }\n  return Promise.resolve().then(() => iterate(0, arr, []));\n}\n\nexport function doIf(\n  condition: boolean,\n  callback: () => any | Promise<any>\n): Promise<void> {\n  return Promise.resolve().then(() => {\n    if (condition) {\n      return callback();\n    }\n  });\n}\n\nexport function asyncWhile<T>(\n  predicate: () => boolean,\n  callback: () => Promise<T>\n): Promise<Array<T>> {\n  function iterate(result: any): any {\n    if (!predicate()) {\n      return result;\n    } else {\n      return callback().then(res => {\n        result.push(res);\n        return iterate(result);\n      });\n    }\n  }\n  return Promise.resolve([]).then(iterate);\n}\n\nexport function hexToBase64(hexString: string) {\n  return btoa((hexString.match(/\\w{2}/g) || []).map(function (a) {\n    return String.fromCharCode(parseInt(a, 16));\n  }).join(\"\"));\n}\n","/********************************************************************************\n *   Ledger JS API for ICON\n *   (c) 2018 ICON Foundation\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ********************************************************************************/\n//@flow\n\n// FIXME drop:\nimport { splitPath, foreach, hexToBase64 } from \"./utils\";\nimport Transport from \"@ledgerhq/hw-transport\";\n\n/**\n * ICON API\n *\n * @example\n * import Icx from \"@ledgerhq/hw-app-icx\";\n * const icx = new Icx(transport)\n */\nexport default class Icx {\n  transport: Transport<any>;\n\n  constructor(transport: Transport<any>) {\n    this.transport = transport;\n    transport.decorateAppAPIMethods(\n      this,\n      [\n        \"getAddress\",\n        \"signTransaction\",\n        \"getAppConfiguration\",\n        \"setTestPrivateKey\"\n      ],\n      \"ICON\"\n    );\n  }\n\n  /**\n   * Returns public key and ICON address for a given BIP 32 path.\n   * @param path a path in BIP 32 format\n   * @option boolDisplay optionally enable or not the display\n   * @option boolChaincode optionally enable or not the chaincode request\n   * @return an object with a publickey(hexa string), address(string) and \n   *  (optionally) chaincode(hexa string)\n   * @example\n   * icx.getAddress(\"44'/4801368'/0'\", true, true).then(o => o.address)\n   */\n  getAddress(\n    path: string,\n    boolDisplay: boolean = false,\n    boolChaincode: boolean = true\n  ): Promise<{\n    publicKey: string,\n    address: string,\n    chainCode?: string\n  }> {\n    let paths = splitPath(path);\n    let buffer = new Buffer(1 + paths.length * 4);\n    buffer[0] = paths.length;\n    paths.forEach((element, index) => {\n      buffer.writeUInt32BE(element, 1 + 4 * index);\n    });\n    return this.transport\n      .send(\n        0xe0,\n        0x02,\n        boolDisplay ? 0x01 : 0x00,\n        boolChaincode ? 0x01 : 0x00,\n        buffer\n      )\n      .then((response: any) => {\n        let result = { publicKey: \"\", address: \"\", chainCode: \"\" };\n        let publicKeyLength = response[0];\n        result.publicKey = response.slice(1, 1 + publicKeyLength).toString(\"hex\");\n        let addressLength = response[1 + publicKeyLength];\n        result.address = response.slice(1 + publicKeyLength + 1, 1 + publicKeyLength + 1 + addressLength);\n        if (boolChaincode) {\n          result.chainCode = response.slice(-32).toString(\"hex\");\n        }\n        return result;\n      });\n  }\n\n  /**\n   * Signs a transaction and returns signed message given the raw transaction\n   * and the BIP 32 path of the account to sign\n   * @param path a path in BIP 32 format\n   * @param rawTxAscii raw transaction data to sign in ASCII string format\n   * @return an object with a base64 encoded signature and hash in hexa string\n   * @example\n   * icx.signTransaction(\"44'/4801368'/0'\",\n   *     \"icx_sendTransaction.fee.0x2386f26fc10000.\" +\n   *     \"from.hxc9ecad30b05a0650a337452fce031e0c60eacc3a.nonce.0x3.\" +\n   *     \"to.hx4c5101add2caa6a920420cf951f7dd7c7df6ca24.value.0xde0b6b3a7640000\")\n   *   .then(result => ...)\n   */\n  signTransaction(\n    path: string,\n    rawTxAscii: string\n  ): Promise<{\n    signedRawTxBase64: string,\n    hashHex: string\n  }> {\n    let paths = splitPath(path);\n    let offset = 0;\n    let rawTx = new Buffer(rawTxAscii);\n    let toSend = [];\n    let response: any;\n    while (offset !== rawTx.length) {\n      let maxChunkSize = offset === 0 ? 150 - 1 - paths.length * 4 - 4 : 150;\n      let chunkSize =\n        offset + maxChunkSize > rawTx.length\n          ? rawTx.length - offset\n          : maxChunkSize;\n      let buffer = new Buffer(\n        offset === 0 ? 1 + paths.length * 4 + 4 + chunkSize : chunkSize\n      );\n      if (offset === 0) {\n        buffer[0] = paths.length;\n        paths.forEach((element, index) => {\n          buffer.writeUInt32BE(element, 1 + 4 * index);\n        });\n        buffer.writeUInt32BE(rawTx.length, 1 + 4 * paths.length);\n        rawTx.copy(buffer, 1 + 4 * paths.length + 4, offset, offset + chunkSize);\n      } else {\n        rawTx.copy(buffer, 0, offset, offset + chunkSize);\n      }\n      toSend.push(buffer);\n      offset += chunkSize;\n    }\n    return foreach(toSend, (data, i) =>\n      this.transport\n        .send(0xe0, 0x04, i === 0 ? 0x00 : 0x80, 0x00, data)\n        .then((apduResponse: any) => {\n          response = apduResponse;\n        })\n    ).then(() => {\n      let result = { signedRawTxBase64: \"\", hashHex: \"\" };\n      // r, s, v are aligned sequencially\n      result.signedRawTxBase64 =\n        hexToBase64(response.slice(0, 32 + 32 + 1).toString(\"hex\"));\n      result.hashHex =\n        response.slice(32 + 32 + 1, 32 + 32 + 1 + 32).toString(\"hex\");\n      return result;\n    });\n  }\n\n  /**\n   * Returns the application configurations such as versions.\n   * @return  major/minor/patch versions of Icon application\n   */\n  getAppConfiguration(): Promise<{\n    majorVersion: number,\n    minorVersion: number,\n    patchVersion: number\n  }> {\n    return this.transport\n      .send(0xe0, 0x06, 0x00, 0x00)\n      .then((response: any) => {\n        let result = {\n          majorVersion: response[0],\n          minorVersion: response[1],\n          patchVersion: response[2]\n        };\n        return result;\n      });\n  }\n\n  /**\n   * Sets the given key as the test purpose private key corresponding to \n   * \"\\0'\" of BIP 32 path just for test purpose. After calling this function,\n   * all functions with \"\\0'\" path works based on this private key. \n   * REMARK: Test purpose only such as verifying signTransaction function. \n   * @param privateKeyHex private key in hexadecimal string format\n   * @example\n   * icx.setTestPrivateKey(\"23498dc21b9ee52e63e8d6566e0911ac255a38d3fcbc68a51e6b298520b72d6e\")\n   *   .then(result => ...)\n   * icx.getAddress(\"0'\", false, false).then(o => o.address)\n   */\n  setTestPrivateKey(privateKeyHex: string) {\n    let data = new Buffer(32);\n    for (let i = 0; i < privateKeyHex.length; i += 2) {\n      data[i / 2] = parseInt(privateKeyHex.substr(i, 2), 16);\n    }\n    return this.transport.send(0xe0, 0xff, 0x00, 0x00, data).then();\n  }\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANwAAADcCAIAAACUOFjWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhDMDVCMkYwMzdEOTExRTg4NzVFQjg3NTMxRDRGNTgxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjhDMDVCMkYxMzdEOTExRTg4NzVFQjg3NTMxRDRGNTgxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OEMwNUIyRUUzN0Q5MTFFODg3NUVCODc1MzFENEY1ODEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OEMwNUIyRUYzN0Q5MTFFODg3NUVCODc1MzFENEY1ODEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz435/dFAAAfzklEQVR42uxd268k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\"","module.exports = __webpack_public_path__ + \"static/media/twitter.5ea6efea.png\";","module.exports = __webpack_public_path__ + \"static/media/Logo_horizon.72fe37e4.png\";","import gql from \"graphql-tag\";\n\nexport const GET_PROPOSAL = gql`\n  query Proposal($id: Int!, $selectedPRep: String!) {\n    proposal(id: $id) {\n      id\n      prep {\n        id\n        username\n        iconAddress\n      }\n      status\n      isPublicVote\n      subject\n      contents\n      published\n      expireAt\n      electoralTh\n      winningTh\n      prepPid\n      selectitemmodelSet {\n        id\n        index\n        contents\n      }\n    }\n    get_prep_info_by_id(_proposer: $selectedPRep) @client {\n      name\n      website\n      delegated\n    }\n  }\n`;\n\nexport const SET_PROPOSAL = gql`\n  mutation SetProposal(\n    $proposalId: Int\n    $isPublicVote: Boolean!\n    $subject: String!\n    $contents: String!\n    $published: Boolean!\n    $electoralTh: Int!\n    $winningTh: Int!\n    $expireAt: DateTime!\n    $selectItemList: [SelectItemInput]\n  ) {\n    setProposal(\n      proposalId: $proposalId\n      isPublicVote: $isPublicVote\n      subject: $subject\n      contents: $contents\n      published: $published\n      electoralTh: $electoralTh\n      winningTh: $winningTh\n      expireAt: $expireAt\n      selectItemList: $selectItemList\n    ) {\n      proposal {\n        id\n        selectitemmodelSet {\n          id\n        }\n      }\n    }\n  }\n`;\n\nexport const SET_PUBLISH = gql`\n  mutation PublishProposal($proposalId: Int!) {\n    publishProposal(proposalId: $proposalId) {\n      tx\n    }\n  }\n`;\n\nexport const SET_VOTE = gql`\n  mutation VoteProposal(\n    $proposer: String!\n    $proposalId: Int!\n    $selectItemIndex: Int!\n  ) {\n    voteProposal(\n      proposer: $proposer\n      proposalId: $proposalId\n      selectItemIndex: $selectItemIndex\n    ) {\n      tx    }\n  }\n`;\n\nexport const TOKEN_AUTH = gql`\n  mutation TokenAuth($username: String!, $password: String!) {\n    tokenAuth(username: $username, password: $password) {\n      token\n      refreshToken\n    }\n  }\n`;\n\nexport const GET_LOCAL_SNACK = gql`\n  query {\n    snack @client {\n      message\n      open\n    }\n  }\n`;\n\nexport const SET_USER = gql`\n  mutation SetUser($username: String!, $password: String!) {\n    setUser(username: $username, password: $password) {\n      user {\n        username\n        email\n      }\n    }\n  }\n`;\n\nexport const LOG_OUT = gql`\n  mutation Logout {\n    logout {\n      noop\n    }\n  }\n`;\n\nexport const GET_PREPS = gql`\n  query {\n    allPrep {\n      id\n      username\n      iconAddress\n    }\n  }\n`;\n\nexport const PREPS = gql`\n  query {\n    get_preps @client{\n      address\n      username\n      pRepName\n    }\n  }\n`;\n\nexport const PAGES = gql`\n  query {\n    get_pages @client\n  }\n`;\n\nexport const GET_PROPOSAL4EDIT = gql`\n  query Proposal4Edit($id: Int!) {\n    proposal(id: $id) {\n      id\n      prep {\n        id\n        username\n      }\n      status\n      isPublicVote\n      subject\n      contents\n      published\n      expireAt\n      electoralTh\n      winningTh\n      selectitemmodelSet {\n        id\n        index\n        contents\n      }\n    }\n    viewer {\n      username\n      iconAddress\n      isPrep\n    }\n  }\n`;\n\nexport const GET_PROPOSALS = gql`\n  query Proposals($selectedPRep: String, $first: Int, $end: Int) {\n    proposals(prep: $selectedPRep, first: $first, end: $end) {\n      id\n      status\n      subject\n      prep {\n        id\n        username\n      }\n      prepPid\n      contents\n      selectitemmodelSet {\n        contents\n      }\n    }\n    proposalCnt(prep: $selectedPRep) {\n      aInt\n    }\n  }\n`;\n\nexport const PROPOSALS = gql`\n  query Proposals($proposer: String, $startProposalID: Int, $endProposalID: Int) {\n    get_proposals(\n      _proposer: $proposer\n      _start_proposal_id: $startProposalID\n      _end_proposal_id: $endProposalID\n    ) @client {\n      ID\n      subject\n      status\n      winner\n      select_item\n    }\n  }\n`;\n\nexport const PROPOSAL = gql`\n  query Proposal($proposer: String!, $proposal_id: Int!) {\n    get_proposal(_proposer: $proposer, _proposal_id: $proposal_id) @client {\n      ID\n      proposer\n      address\n      subject\n      contents\n      electoral_threshold\n      winning_threshold\n      status\n      expire_timestamp\n      transaction\n      final\n      winner\n      select_item\n    }\n  }\n`;\n\nexport const VOTES = gql`\n  query Votes($proposer: String!, $proposal_id: Int!) {\n    get_votes(_proposer: $proposer, _proposal_id: $proposal_id) @client {\n      voter\n      selectItem\n      voteTxHash\n      delegateTxID\n      delegateAmount\n    }\n  }\n`;\n\nexport const PREP_INFO_BY_ID = gql`\n  query PRepInfoByID($proposer: String!) {\n    get_prep_info_by_id(_proposer: $proposer) @client {\n      name\n      website\n      delegated\n    }\n  }\n`;\n\nexport const LAST_PROPOSAL_ID = gql`\n  query LastProposalId($proposer: String!) {\n    get_last_proposal_id(_proposer: $proposer) @client\n  }\n`;\n\nexport const VOTING_POWER = gql`\n  query VotingPower($proposer: String!, $user: String!) {\n    get_voting_power(_proposer: $proposer, _user: $user) @client\n  }\n`;\n\nexport const MY_VOTING_POWER = gql`\n  query MyVotingPower($proposer: String!) {\n    get_my_voting_power(_proposer: $proposer) @client\n  }\n`;\n\nexport const VOTED_POWER_RATES = gql`\n  query VotedPowerRates(\n    $proposer: String!\n    $proposal_id: Int!\n    $user: String!\n  ) {\n    get_voted_power_rates(\n      _proposer: $proposer\n      _proposal_id: $proposal_id\n      _user: $user\n    ) @client\n  }\n`;\n\nexport const NEW_PREP = gql`\n  mutation SetPRep($Address: String!) {\n    setPrep(iconAddress: $Address) {\n      prep {\n        id\n        username\n        iconAddress\n        isPrep\n      }\n    }\n  }\n`;\n\nexport const ADD_ICON_ADDRESS = gql`\n  mutation AddIconAddress($IconAddress: String!) {\n    addIconAddress(iconAddress: $IconAddress) {\n      user {\n        username\n        iconAddress\n      }\n    }\n  }\n`;\n\nexport const REFRESH_TOKEN = gql`\n  mutation RefreshToken($token: String!) {\n    refreshToken(token: $token) {\n      token\n    }\n  }\n`;\n\nexport const VIEWER = gql`\n  query {\n    viewer @client {\n      username\n      iconAddress\n      isPrep\n    }\n  }\n`;\n\nexport const GET_VIEWER = gql`\n  query {\n    viewer {\n      username\n      iconAddress\n      isPrep\n    }\n  }\n`;\n","const server = \"icon.vote\"\nexport const graphqlURL = \"https://\" + server + \"/graphql/\";\nexport const csrfURL = \"https://\" + server + \"/csrf/\";\nexport const nodeURL = \"https://ctz.solidwallet.io/\";\nexport const trackerURL = \"https://tracker.icon.foundation/\";\nexport const contractAddress = \"cx2ec14b928b87ef5c1cbe0b9abda151ff088ba03c\";\n","import IconService from 'icon-sdk-js';\nimport { nodeURL, contractAddress } from \"./Config\";\n\nconst ICON_NETWORK = nodeURL + \"api/v3\";\nconst CONTRACT = contractAddress;\nconst Provider = new IconService.HttpProvider(ICON_NETWORK);\nexport const iconService = new IconService(Provider);\nexport const IconBuilder = IconService.IconBuilder;\nexport const IconConverter = IconService.IconConverter;\nexport const IconUtil = IconService.IconUtil;\n\nexport const governanceIconService = iconService;\nexport const contractIconService = iconService;\n\nexport async function jsonRpcCall(methodName: string, params: any) {\n  // console.log(\"params\", params);\n  var callBuilder = new IconBuilder.CallBuilder();\n  var callObj = callBuilder\n    .to(CONTRACT)\n    .method(methodName)\n    .params(params)\n    .build();\n\n  // console.log(callObj);\n  return await contractIconService.call(callObj).execute();\n}\n\nexport async function jsonRpcSendTx(fromWallet: string, methodName: string, params: any) {\n  let timestamp = new Date();\n  var txBuilder = new IconBuilder.CallTransactionBuilder();\n  var txObj = txBuilder\n    .from(fromWallet)\n    .to(CONTRACT)\n    .nid(IconConverter.toBigNumber(\"1\"))\n    .version(IconConverter.toBigNumber(\"3\"))\n    .stepLimit(IconConverter.toBigNumber(\"10000000\"))\n    .timestamp(timestamp.valueOf() * 1000)\n    .method(methodName)\n    .params(params)\n    .build();\n  const scoreData = JSON.stringify({\n    \"jsonrpc\": \"2.0\",\n    \"method\": \"icx_sendTransaction\",\n    \"params\": IconConverter.toRawTransaction(txObj),\n    \"id\": 0\n  });\n\n  const parsed = JSON.parse(scoreData);\n  const customEvent = new CustomEvent(\"ICONEX_RELAY_REQUEST\", {\n    detail: {\n      type: 'REQUEST_JSON-RPC',\n      payload: parsed\n    }\n  }\n  );\n  window.dispatchEvent(customEvent);\n}\n\nexport async function governanceCall(methodName: string, params: any) {\n  // console.log(\"params\", params);\n  var callBuilder = new IconBuilder.CallBuilder();\n  var callObj = callBuilder\n    .to(\"cx0000000000000000000000000000000000000000\")\n    .method(methodName)\n    .params(params)\n    .build();\n\n  // console.log(callObj);\n  return await governanceIconService.call(callObj).execute();\n}\n\nexport async function governanceSendTx(fromWallet: string, methodName: string, params: any) {\n  let timestamp = new Date();\n  var txBuilder = new IconBuilder.CallTransactionBuilder();\n  var txObj = txBuilder\n    .from(fromWallet)\n    .to(\"cx0000000000000000000000000000000000000000\")\n    .nid(IconConverter.toBigNumber(\"1\"))\n    .version(IconConverter.toBigNumber(\"3\"))\n    .stepLimit(IconConverter.toBigNumber(\"10000000\"))\n    .timestamp(timestamp.valueOf() * 1000)\n    .method(methodName)\n    .params(params)\n    .build();\n  const scoreData = JSON.stringify({\n    \"jsonrpc\": \"2.0\",\n    \"method\": \"icx_sendTransaction\",\n    \"params\": IconConverter.toRawTransaction(txObj),\n    \"id\": 0\n  });\n\n  const parsed = JSON.parse(scoreData);\n  const customEvent = new CustomEvent(\"ICONEX_RELAY_REQUEST\", {\n    detail: {\n      type: 'REQUEST_JSON-RPC',\n      payload: parsed\n    }\n  }\n  );\n  window.dispatchEvent(customEvent);\n}\n\nexport async function networkProposalCall(methodName: string, params: any) {\n  // console.log(\"params\", params);\n  var callBuilder = new IconBuilder.CallBuilder();\n  var callObj = callBuilder\n    .to(\"cx0000000000000000000000000000000000000001\")\n    .method(methodName)\n    .params(params)\n    .build();\n\n  // console.log(callObj);\n  return await governanceIconService.call(callObj).execute();\n}\n\nexport async function networkProposalSendTx(fromWallet: string, methodName: string, params: any) {\n  let timestamp = new Date();\n  var txBuilder = new IconBuilder.CallTransactionBuilder();\n  var txObj = txBuilder\n    .from(fromWallet)\n    .to(\"cx0000000000000000000000000000000000000001\")\n    .nid(IconConverter.toBigNumber(\"1\"))\n    .version(IconConverter.toBigNumber(\"3\"))\n    .stepLimit(IconConverter.toBigNumber(\"10000000\"))\n    .timestamp(timestamp.valueOf() * 1000)\n    .method(methodName)\n    .params(params)\n    .build();\n  const scoreData = JSON.stringify({\n    \"jsonrpc\": \"2.0\",\n    \"method\": \"icx_sendTransaction\",\n    \"params\": IconConverter.toRawTransaction(txObj),\n    \"id\": 0\n  });\n\n  const parsed = JSON.parse(scoreData);\n  const customEvent = new CustomEvent(\"ICONEX_RELAY_REQUEST\", {\n    detail: {\n      type: 'REQUEST_JSON-RPC',\n      payload: parsed\n    }\n  }\n  );\n  window.dispatchEvent(customEvent);\n}\n","import { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    card: {\n      minWidth: 275\n    },\n    avatar: {\n      margin: 10\n    },\n    bigAvatar: {\n      margin: 10,\n      width: 60,\n      height: 60\n    },\n    overflowHidden: {\n      overflow: \"hidden\"\n    },\n    bullet: {\n      display: \"inline-block\",\n      margin: \"0 2px\",\n      transform: \"scale(0.8)\"\n    },\n    title: {\n      fontSize: 18,\n      flexGrow: 1\n    },\n    link: {\n      textDecoration: \"none\",\n      color: \"#000000\"\n    },\n    pos: {\n      marginBottom: 12\n    },\n    formControl: {\n      margin: theme.spacing(0),\n      minwidth: 240\n    },\n    viewer: {\n      height: \"350px\",\n      overflow: \"auto\"\n    },\n    papercontainer: {\n      spacing: theme.spacing(0),\n      margin: theme.spacing(2),\n      padding: theme.spacing(0),\n      overflow: \"auto\"\n    },\n    modal: {\n      position: 'absolute',\n      width: 400,\n      backgroundColor: theme.palette.background.paper,\n      border: '2px solid #000',\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing(2, 4, 3),\n    },\n    paper: {\n      margin: theme.spacing(1),\n      padding: theme.spacing(1),\n      display: \"flex\",\n      overflow: \"auto\",\n      flexDirection: \"column\"\n    },\n    rootcontainer: {\n      spacing: theme.spacing(0),\n      margin: \"auto\",\n      padding: theme.spacing(1),\n      display: \"flex\",\n      flexwrap: \"wrap\"\n    },\n    container: {\n      spacing: theme.spacing(0),\n      margin: theme.spacing(0),\n      padding: theme.spacing(0),\n      display: \"flex\",\n      alignItems: \"center\",\n      flexwrap: \"wrap\"\n    },\n    grid: {\n      margin: theme.spacing(0),\n      padding: theme.spacing(0)\n    },\n    item: {\n      margin: theme.spacing(0),\n      padding: theme.spacing(1)\n    },\n    paddingSide: {\n      margin: theme.spacing(0),\n      padding: theme.spacing(0),\n      paddingLeft: theme.spacing(1),\n      paddingRight: theme.spacing(1),\n    },\n    table: {\n      minWidth: 650,\n    },\n    center: {\n      textAlign: \"center\"\n    },\n    left: {\n      textAlign: \"left\"\n    },\n    right: {\n      textAlign: \"right\"\n    },\n    top: {\n      verticalAlign: \"top\"\n    },\n    pagination: {\n      flexShrink: 0,\n      marginLeft: theme.spacing(2.5)\n    },\n    selectLabel: {\n      margin: theme.spacing(0),\n      marginLeft: theme.spacing(2)\n    },\n    textField: {\n      margin: theme.spacing(0),\n      width: \"100%\"\n    },\n    root: {\n      display: \"flex\"\n    },\n    toolbar: {\n      paddingRight: 24 // keep right padding when drawer closed\n    },\n    noMarginPadding: {\n      margin: 0,\n      padding: 0\n    },\n    toolbarIcon: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"flex-end\",\n      padding: \"0 8px\",\n      ...theme.mixins.toolbar\n    },\n    appBar: {\n      zIndex: theme.zIndex.drawer + 1,\n      transition: theme.transitions.create([\"width\", \"margin\"], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      })\n    },\n    appBarShift: {\n      marginLeft: drawerWidth,\n      width: `calc(100% - ${drawerWidth}px)`,\n      transition: theme.transitions.create([\"width\", \"margin\"], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen\n      })\n    },\n    margin: {\n      margin: theme.spacing(1)\n    },\n    menuButton: {\n      marginRight: 36\n    },\n    menuButtonHidden: {\n      display: \"none\"\n    },\n    drawerPaper: {\n      position: \"relative\",\n      whiteSpace: \"nowrap\",\n      width: drawerWidth,\n      transition: theme.transitions.create(\"width\", {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen\n      })\n    },\n    drawerPaperClose: {\n      overflowX: \"hidden\",\n      transition: theme.transitions.create(\"width\", {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      }),\n      width: theme.spacing(7),\n      [theme.breakpoints.up(\"sm\")]: {\n        width: theme.spacing(9)\n      }\n    },\n    appBarSpacer: theme.mixins.toolbar,\n    content: {\n      flexGrow: 1,\n      height: \"100vh\",\n      overflow: \"auto\"\n    },\n    fixedHeight: {\n      height: 600\n    }\n  })\n);\n\nexport default useStyles;\n","import React from \"react\";\nimport useStyles from \"./Style\";\nimport { Typography, Grid, Paper } from \"@material-ui/core\";\nimport clsx from \"clsx\";\nimport YoutubePlayer from 'react-player/lib/players/YouTube';\n\nimport './video-react.css';\n\nfunction LandingPage(props: any) {\n  const classes = useStyles();\n\n  return (\n    <Grid item className={classes.grid} xs={12} md={12} lg={12}>\n      <Paper className={classes.paper}>\n        <Grid container className={classes.container}>\n          <Grid item className={classes.paddingSide} xs={\"auto\"} md={2} lg={2}>\n          </Grid>\n          <Grid item className={clsx(classes.paddingSide, classes.center)} xs={12} md={8} lg={8}>\n            <br />\n            <br />\n            <Typography variant=\"h4\" color=\"primary\"><b>Welcome to ICON VOTE</b></Typography>\n            <br />\n            <br />\n            <YoutubePlayer\n              url=\"https://youtube.com/watch?v=UrkEUU3Zz_0\"\n              playing={false}\n              width={\"100%\"}\n            />\n            <br />\n            <br />\n            <Typography variant=\"h5\" color=\"textPrimary\"></Typography>\n            <br />\n            <br />\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={\"auto\"} md={2} lg={2}>\n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid>\n  );\n}\n\nexport default LandingPage;\n","import React from \"react\";\nimport \"codemirror/lib/codemirror.css\";\nimport \"tui-editor/dist/tui-editor.min.css\";\nimport \"tui-editor/dist/tui-editor-contents.min.css\";\nimport { Editor, Viewer } from \"@toast-ui/react-editor\";\n\nexport function TUIEditor(props: any) {\n  // console.log(\"TUI Editor props: \", props);\n  let editorRef = React.createRef<any>();\n\n  let handleChange = () => {\n    const value = editorRef.current.getInstance().getValue();\n    props.onChange(value);\n  }\n  if (!props.onChange) {\n    handleChange = () => { return }\n  }\n\n  return (\n    <Editor\n      initialValue={props.initialValue}\n      previewStyle={props.previewStyle}\n      height={props.height}\n      initialEditType={props.initialEditType}\n      useCommandShortcut={props.useCommandShortcut}\n      exts={props.exts}\n      ref={editorRef}\n      onChange={handleChange}\n    />\n  );\n}\n\nexport function TUIViewer(props: any) {\n  // console.log(\"TUI Viewer props: \", props);\n  return (\n    <Viewer\n      initialValue={props.initialValue}\n      height={props.height}\n    />\n  );\n}\n","import React from \"react\";\nimport useStyles from \"./Style\";\nimport { Grid, Paper } from \"@material-ui/core\";\nimport { TUIViewer } from \"./TUIEditor\";\n\nfunction HowTo(props: any) {\n  const classes = useStyles();\n\n  const contents = `\n# **Instructions for P-reps**\n\n*Create a P-rep page to propose votes to your own ICX delegators*\n\n#### Sign up\n\n1. Click “Join Now” on the top right to sign up\n![https://icon.vote/static/img1.png](https://icon.vote/static/img1.png)\n2. Type in “Username” and “Password” to sign up\n3. Verify P-rep node ownership by signing a transaction from publicly known P-rep wallet\n    1. Click “Verify ICON Address” to sign a transaction\n    2. Click “Check Your Verified Address” so that blockchain can confirm\n![https://icon.vote/static/img2.png](https://icon.vote/static/img2.png)\n\n#### Propose a vote\n\n1. Sign in as a P-rep with “Username” and “Password”\n2. “Launch new votes” will appear for P-reps\n3. Click “Launch new votes”\n![https://icon.vote/static/img4.png](https://icon.vote/static/img4.png)\n4. Click the “NEW” button to propose a vote\n5. Fill out the following information\n    1. Subject of the vote\n    2. Options for the vote\n    3. Description of the vote\n    4. Vote Duration\n    5. Participation Quorum (ex: vote needs 20%+ of ICX delegated to ICX Station to participate in the vote for the vote to be valid)\n    6. Minimum approval rate to pass (ex: option A needs 50%+ of votes to approve in order to pass)\n![https://icon.vote/static/img5.png](https://icon.vote/static/img5.png)\n6. The Draft page will appear. Please make sure to check the details and click “Publish”\n    1. Green graph shows “Quorum requirement”\n    2. Blue graph shows “Minimum Approval Rate”\n    3. “Total Delegation” represents Total # of ICX delegated to the P-rep\n![https://icon.vote/static/img6.png](https://icon.vote/static/img6.png)\n7. The new vote will be recorded on the blockchain and the transaction can be found in the vote explorer under the P-rep’s page\n8. Make sure to share the vote link to your community so that they can participate in the vote (Twitter, FB link available)\n![https://icon.vote/static/img7.png](https://icon.vote/static/img7.png)\n\n# **Instructions for ICX delegator**\n\n*How to Participate in a vote proposed by a P-rep*\n\n#### Sign up\n\n1. Click “Join Now” on the top right to sign up\n![https://icon.vote/static/img8.png](https://icon.vote/static/img8.png)\n2. Type in “Username” and “Password” to sign up\n3. Verify ICX wallet ownership by signing a transaction from one’s wallet\n    1. Click “Verify ICON Address” to sign a transaction\n    2. Click “Check Your Verified Address” so that the blockchain can confirm\n![https://icon.vote/static/img9.png](https://icon.vote/static/img9.png)\n\n#### Participate in a vote\n\n1. Sign in as a user with “Username” and “Password”\n2. Click “Vote Explorer”\n3. Click a P-rep one has delegated ICX to\n4. P-rep page will show votes\n    1. The P-rep page will also show total ICX delegated to the P-rep\n    2. The P-rep page will also show user’s ICX delegated to the P-rep (voting power)\n5. Click a vote you would like to participate in\n6. Click an option you would like to vote for\n7. The following result page will show up\n    1. Red line on green bar shows “Quorum requirement” (ex: vote needs 20%+ of ICX delegated to ICX Station to participate in the vote for the vote to be valid)\n    2. Minimum approval rate to pass (ex: option A needs 50%+ of votes to approve in order to pass)\n    3. Total # of delegates: # of ICX delegated to the P-rep\n    4. Total # of votes: # of P-rep delegated ICX that participated in the vote\n    5. Your # of votes: # of user’s ICX delegated to the P-rep\n    6. Votes will be recorded on the blockchain and shown at the bottom of the vote\n![https://icon.vote/static/img11.png](https://icon.vote/static/img11.png)\n`;\n\n  return (\n    <Grid item className={classes.grid} xs={12} md={12} lg={12}>\n      <Paper className={classes.paper}>\n        <Grid container className={classes.container}>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <TUIViewer\n              initialValue={contents}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid>\n  );\n}\n\nexport default HowTo;","import React from \"react\";\nimport { Dialog, DialogTitle, DialogContent, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, TablePagination, Paper, Typography, TableFooter, IconButton, Button } from \"@material-ui/core\";\nimport { FirstPage, KeyboardArrowLeft, KeyboardArrowRight, LastPage } from \"@material-ui/icons\";\n// import clsx from \"clsx\";\nimport useStyles from \"./Style\";\n\n\ninterface TablePaginationActionsProps {\n  page: number;\n  onChangePage: (event: React.MouseEvent<HTMLButtonElement>, newPage: number) => void;\n}\n\nfunction TablePaginationActions(props: TablePaginationActionsProps) {\n  const classes = useStyles();\n  const { page, onChangePage } = props;\n\n  const handleFirstPageButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    onChangePage(event, 0);\n  };\n\n  const handleBackButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    onChangePage(event, page - 1);\n  };\n\n  const handleNextButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    onChangePage(event, page + 1);\n  };\n\n  const handleLastPageButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    onChangePage(event, page + 5);\n  };\n\n  return (\n    <div className={classes.root}>\n      <IconButton\n        onClick={handleFirstPageButtonClick}\n        disabled={page === 0}\n        aria-label=\"first page\"\n      >\n        <FirstPage />\n      </IconButton>\n      <IconButton onClick={handleBackButtonClick} disabled={page === 0} aria-label=\"previous page\">\n        <KeyboardArrowLeft />\n      </IconButton>\n      <IconButton\n        onClick={handleNextButtonClick}\n        aria-label=\"next page\"\n      >\n        <KeyboardArrowRight />\n      </IconButton>\n      <IconButton\n        onClick={handleLastPageButtonClick}\n        aria-label=\"last page\"\n      >\n        <LastPage />\n      </IconButton>\n    </div>\n  );\n}\n\nfunction LedgerDialog(props: any) {\n  // console.log(\"LedgerDialog props\", props);\n  // const classes = useStyles();\n\n  return (\n    <>\n      <Button variant=\"contained\" color=\"primary\" fullWidth onClick={() => { props.setPage(0); props.setOpen(true) }}>Verify ICON Address(Ledger)</Button>\n      <Dialog\n        maxWidth=\"lg\"\n        aria-labelledby=\"confirmation-dialog-title\"\n        open={props.open}\n        onClose={props.handleClose}\n      >\n        <DialogTitle id=\"confirmation-dialog-title\">Select Ledger Address</DialogTitle>\n        <DialogContent dividers>\n          <TableContainer component={Paper}>\n            <Table>\n              <TableHead>\n                <TableRow>\n                  <TableCell>\n                    <Typography variant=\"subtitle2\" color=\"textPrimary\">#</Typography>\n                  </TableCell>\n                  <TableCell>\n                    <Typography variant=\"subtitle2\" color=\"textPrimary\">Address</Typography>\n                  </TableCell>\n                  <TableCell>\n                    <Typography variant=\"subtitle2\" color=\"textPrimary\">Balance</Typography>\n                  </TableCell>\n                  <TableCell>\n                    <Typography variant=\"subtitle2\" color=\"textPrimary\"></Typography>\n                  </TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {props.list.map((item: any, idx: number) => (\n                  <TableRow key={idx}>\n                    <TableCell>\n                      <Typography variant=\"subtitle2\" color=\"textPrimary\">{(props.page * 5) + idx + 1}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <Typography variant=\"body1\" color=\"textPrimary\">{item.address}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <Typography variant=\"body1\" color=\"textSecondary\">{item.balance}</Typography>\n                    </TableCell>\n                    <TableCell>\n                      <Button variant=\"contained\" color=\"primary\" onClick={() => props.selectAddress(item)}>Verify</Button>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n              <TableFooter>\n                <TableRow>\n                  <TablePagination\n                    colSpan={2}\n                    rowsPerPage={5}\n                    rowsPerPageOptions={[5]}\n                    page={props.page}\n                    count={-1}\n                    onChangePage={props.handleChangePage}\n                    ActionsComponent={TablePaginationActions}\n                  />\n                </TableRow>\n              </TableFooter>\n            </Table>\n          </TableContainer>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n}\n\nexport default LedgerDialog;","import React, { useState, useEffect } from \"react\";\n// import clsx from \"clsx\";\nimport Transport from \"@ledgerhq/hw-transport-u2f\";\nimport Icx from \"./Icx\";\nimport { iconService, IconBuilder, IconConverter, IconUtil } from \"./IconConnect\";\nimport { GET_VIEWER } from \"./GQL\";\nimport { useApolloClient } from \"@apollo/react-hooks\";\nimport { contractAddress } from \"./Config\";\n\nimport LedgerDialog from \"./LedgerDialog\";\n\nfunction LedgerDialogContainer(props: any) {\n  // console.log(\"LedgerDialog props\", props);\n\n  const [open, setOpen] = useState(false);\n  const [page, setPage] = useState(-1);\n  const [list, setList] = useState<any[]>([]);\n\n  const client = useApolloClient();\n\n  useEffect(() => {\n    getAddresses(page);\n  }, [page]);\n\n  async function getAddressNBalance(idx: number) {\n    const path = \"44'/4801368'/0'/0'/\" + idx.toString() + \"'\";\n    const transport = await Transport.create();\n    transport.setDebugMode(false);         // if you want to print log\n    transport.setExchangeTimeout(60000);  // Set if you want to change U2F timeout. default: 30 sec\n\n    const icx = new Icx(transport);\n    // coin type: ICX(4801368), ICON testnet(1)\n    let addressResult: any;\n    let address: any;\n    let balance: any;\n    try {\n      addressResult = await icx.getAddress(path, false, true);\n      address = addressResult.address.toString();\n      balance = await iconService.getBalance(addressResult.address.toString()).execute();\n    } catch (e) {\n      setPage(-1);\n      setOpen(false);\n      throw new Error(\"Ledger Not Connected\");\n    }\n    return { address, balance };\n  }\n\n  async function getAddresses(newPage: number) {\n    if (newPage === -1) {\n      return;\n    }\n    setList([]);\n    let tmpList = [];\n    const start = newPage * 5;\n    const end = newPage * 5 + 5\n    try {\n      for (let i = start; i < end; i++) {\n        const result = await getAddressNBalance(i);\n        tmpList.push({ index: i, address: result.address, balance: result.balance / 10 ** 18 })\n      }\n      setList(tmpList);\n    } catch (e) {\n      alert(\"Please Connect Ledger\");\n    }\n  }\n  const handleChangePage = (event: React.MouseEvent<HTMLButtonElement> | null, newPage: number) => {\n    setPage(newPage);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  function selectAddress(item: any) {\n    setOpen(false);\n    sendVerifyLedger(item.index);\n    alert(\"Please Sign Transaction on Your Ledger\");\n    props.selectNotice(1);\n  }\n\n  async function sendVerifyLedger(addressIdx: number) {\n    client.query({ query: GET_VIEWER }).then(async (result) => {\n      const path = \"44'/4801368'/0'/0'/\" + addressIdx.toString() + \"'\";\n      const transport = await Transport.create();\n      transport.setDebugMode(true);         // if you want to print log\n      transport.setExchangeTimeout(60000);  // Set if you want to change U2F timeout. default: 30 sec\n\n      const icx = new Icx(transport);\n      // coin type: ICX(4801368), ICON testnet(1)\n      let addressResult = await icx.getAddress(path, false, true);\n      const address = addressResult.address.toString();\n      // console.log(\"address\", address);\n      // console.log(\"balance\", await iconService.getBalance(addressResult.address.toString()).execute());\n      let timestamp = new Date();\n      var txBuilder = new IconBuilder.CallTransactionBuilder();\n      const methodName = \"verify\";\n      const lastBlock = await iconService.getBlock('latest').execute();\n      const params = { \"_block_hash\": lastBlock.blockHash, \"_id\": result.data.viewer.username };\n      var txObj = txBuilder\n        .from(address)\n        .to(contractAddress)\n        .nid(IconConverter.toBigNumber(\"1\"))\n        .version(IconConverter.toBigNumber(\"3\"))\n        .stepLimit(IconConverter.toBigNumber(\"10000000\"))\n        .timestamp(timestamp.valueOf() * 1000)\n        .method(methodName)\n        .params(params)\n        .build();\n      const rawTransaction = IconConverter.toRawTransaction(txObj);\n      const hashKey = IconUtil.generateHashKey(rawTransaction);\n\n      let { signedRawTxBase64 } = await icx.signTransaction(path, hashKey);\n      rawTransaction.signature = signedRawTxBase64;\n\n      iconService.sendTransaction({ getProperties: () => rawTransaction, getSignature: () => signedRawTxBase64 }).execute();\n      props.waitResult(5, 2);\n    })\n  }\n\n\n  return (\n    <LedgerDialog\n      open={open}\n      setOpen={setOpen}\n      list={list}\n      page={page}\n      setPage={setPage}\n      handleClose={handleClose}\n      selectAddress={selectAddress}\n      handleChangePage={handleChangePage}\n    />\n  );\n}\n\nexport default LedgerDialogContainer;","import React from \"react\";\nimport { Grid, Paper, Typography, Divider, Button, Dialog, DialogTitle, CircularProgress } from \"@material-ui/core\";\nimport clsx from \"clsx\";\nimport useStyles from \"./Style\";\n\nimport LedgerDialogContainer from \"./LedgerDialogContainer\";\n\nfunction VerifyIcon(props: any) {\n  // console.log(\"VerifyIcon props\", props);\n  const classes = useStyles();\n\n  function Contents() {\n    return (\n      <>\n        <Dialog\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n          open={props.open}\n        >\n          <DialogTitle>{props.msg.title}</DialogTitle>\n          <Grid container className={classes.grid}>\n            <Grid item className={clsx(classes.item, classes.center)} xs={12} md={12} lg={12}>\n              {props.msg.title === \"Wait\" &&\n                <CircularProgress />\n              }\n              <Typography variant=\"h5\" color=\"textPrimary\">{props.msg.contents}</Typography>\n            </Grid>\n            <Grid item className={classes.item} xs={12} md={12} lg={12}>\n              <Button variant=\"contained\" color=\"primary\" fullWidth onClick={() => props.setOpen(false)}>\n                Close\n            </Button>\n            </Grid>\n          </Grid>\n        </Dialog>\n        <Grid item className={classes.item} xs={12} md={12} lg={12}>\n          <Typography variant=\"h5\" color=\"textPrimary\">{props.username}</Typography>\n        </Grid>\n        <Grid item className={classes.item} xs={12} md={12} lg={12}>\n          <Typography variant=\"h6\" color=\"textPrimary\">Verified Address: {props.verifiedAddress}</Typography>\n        </Grid>\n        <Grid className={classes.item} item xs={12} md={12} lg={12}>\n          <Typography variant=\"subtitle1\" color=\"textSecondary\">Connected Address: {props.connectedAddress}</Typography>\n        </Grid>\n        <Grid className={classes.item} item xs={12} md={12} lg={12}>\n          <br />\n          <br />\n        </Grid>\n        <Grid className={classes.item} item xs={12} md={12} lg={12}>\n          <Typography variant=\"h6\" color=\"primary\">{props.notice}</Typography>\n        </Grid>\n        <Grid className={classes.item} item xs={12} md={12} lg={12}>\n          <br />\n          <Divider />\n          <br />\n        </Grid>\n        <Grid container className={classes.container}>\n          <Grid item className={classes.item} xs={6} md={6} lg={6}>\n            <Button variant=\"contained\" color=\"primary\" fullWidth onClick={props.selectWallet} >Verify ICON Address(IconEX)</Button>\n          </Grid>\n          <Grid item className={classes.item} xs={6} md={6} lg={6}>\n            <LedgerDialogContainer selectNotice={props.selectNotice} waitResult={props.waitResult} />\n          </Grid>\n        </Grid>\n      </>\n    );\n  }\n\n  if (props.loading) return <div style={{ textAlign: \"center\" }}><CircularProgress /></div>;\n  if (props.error) return <p>Error!:{props.error.message}</p>;\n  if (!props.activeStep) {\n    return (\n      <Grid item className={clsx(classes.grid, classes.center)} xs={12} md={12} lg={12}>\n        <Paper className={clsx(classes.paper, classes.center)}>\n          <Grid container className={clsx(classes.container, classes.center)}>\n            <Contents />\n          </Grid>\n        </Paper>\n      </Grid>\n    );\n  } else {\n    return (\n      <Contents />\n    );\n  }\n}\n\nexport default VerifyIcon;","import React, { useState, useEffect } from \"react\";\nimport { useQuery, useMutation, useApolloClient } from \"@apollo/react-hooks\";\nimport { NEW_PREP, ADD_ICON_ADDRESS, GET_VIEWER } from \"./GQL\";\nimport { jsonRpcCall, jsonRpcSendTx, governanceCall, governanceIconService } from \"./IconConnect\";\n\nimport VerifyIcon from \"./VerifyIcon\";\n\nfunction VerifyIconContainer(props: any) {\n  // console.log(\"VerifyIconContainer props\", props);\n  const client = useApolloClient();\n\n  const msgForNotice = [\n    \"\",\n    \"You are not Verified. Press\\\"VERIFY ICON ADDRESS\\\" to verify.\",\n    \"If you want verify other address. Press\\\"VERIFY ICON ADDRESS\\\".\",\n    \"You are verified as P-Rep\",\n    \"You are verified as User\"\n  ];\n\n  const [open, setOpen] = useState(false);\n  const [username, setUsername] = useState(\"\");\n  const [msg, setMsg] = useState({ title: \"Wait\", contents: \"Wait for write on ICON\" });\n\n  const [notice, setNotice] = useState(msgForNotice[0]);\n  const [verifiedAddress, setVerifiedAddress] = useState(\"\");\n  const [connectedAddress, setConnectedAddress] = useState(\"\");\n\n  const [mutateNewPRep] = useMutation(NEW_PREP);\n  const [mutateAddIconAddress] = useMutation(ADD_ICON_ADDRESS);\n\n  function sleep(t: number) {\n    return new Promise(resolve => setTimeout(resolve, t));\n  }\n\n  async function waitResult(count: number, interval: number) {\n    setOpen(true);\n    setMsg({ title: \"Wait\", contents: \"Verify Not exist\" });\n\n    const iconAddress = window.localStorage.getItem(\"iconAddress\");\n    for (let i = 0; i < count + 1; i++) {\n      let result_json;\n      try {\n        const result = await jsonRpcCall(\"get_verify_info_by_id\", { \"_id\": username });\n        result_json = JSON.parse(result);\n        if (result_json.address === iconAddress) {\n          callVerify();\n          setMsg({ title: \"Done\", contents: \"Successfully Verified\" });\n          return;\n        }\n      } catch {\n        if (msg.title !== \"Wait\" && msg.contents !== \"Verify Not exist\") {\n          setMsg({ title: \"Wait\", contents: \"Verify Not exist\" });\n        }\n      } finally {\n        await sleep(interval * 1000);\n      }\n    }\n    setMsg({ title: \"Fail\", contents: \"Verify Fail\" });\n  }\n\n  const eventHandler = (event: any) => {\n    const type = event.detail.type;\n    const payload = event.detail.payload;\n    if (type === \"RESPONSE_SIGNING\") {\n      //console.log(\"response signing\");\n      //console.log(payload);\n    } else if (type === \"RESPONSE_JSON-RPC\") {\n      //console.log(\"response json rpc\");\n      //console.log(payload);\n      waitResult(5, 2);\n    } else if (type === \"RESPONSE_ADDRESS\") {\n      //console.log(\"response!!!!\", event, event.detail);\n      window.localStorage.setItem(\"iconAddress\", payload);\n      sendVerify(payload);\n      setConnectedAddress(payload);\n    }\n  };\n\n  function selectWallet() {\n    window.addEventListener(\"ICONEX_RELAY_RESPONSE\", eventHandler);\n    window.dispatchEvent(new CustomEvent('ICONEX_RELAY_REQUEST', {\n      detail: {\n        type: 'REQUEST_ADDRESS'\n      }\n    }));\n  }\n\n\n  useEffect(() => {\n    async function CheckVerify() {\n      try {\n        let result = await jsonRpcCall(\"get_verify_info_by_id\", { \"_id\": username });\n        let result_json = JSON.parse(result);\n        if (result_json.address) {\n          setVerifiedAddress(result_json.address);\n          selectNotice(2);\n        } else {\n          selectNotice(1);\n        }\n      } catch {\n        selectNotice(1);\n      }\n      // console.log(username, result);\n      //    console.log(\"callVerify verify result\", result_json);\n    }\n    CheckVerify();\n  }, [username])\n\n  function selectNotice(idx: number) {\n    setNotice(msgForNotice[idx]);\n  }\n\n  async function sendVerify(address: string) {\n    // client.query({ query: GET_VIEWER }).then(async (result) => {\n    // console.log(\"reload OK\");\n    const lastBlock = await governanceIconService.getBlock('latest').execute();\n    const params = { \"_block_hash\": lastBlock.blockHash, \"_id\": username };\n\n    jsonRpcSendTx(address, \"verify\", params);\n    // });\n  }\n\n  async function callVerify() {\n    let result = await jsonRpcCall(\"get_verify_info_by_id\", { \"_id\": username });\n    // console.log(username, result);\n    let result_json = JSON.parse(result);\n    //    console.log(\"callVerify verify result\", result_json);\n    if (result_json.address) {\n      setVerifiedAddress(result_json.address);\n    }\n\n    let PRepList = await governanceCall(\"getPReps\", {});\n    // console.log(\"PRepList\", PRepList);\n    for (let i = 0; i < PRepList.preps.length; i++) {\n      const aPRep = PRepList.preps[i];\n      if (aPRep.address === result_json.address) {\n        newPRepPage(result_json.address);\n        selectNotice(3);\n        return;\n      }\n    }\n\n    if (result_json.address) {\n      addIconAddress(result_json.address);\n      selectNotice(4);\n    }\n  }\n\n  function newPRepPage(address: string) {\n    mutateNewPRep({ variables: { Address: address } }).then(() => {\n      //client.writeData({ data: { snack: { open: true, message: \"You Are Verified as P-Rep\", __typename: \"snack\" } } })\n    });\n  }\n\n  function addIconAddress(address: string) {\n    mutateAddIconAddress({ variables: { IconAddress: address } }).then((result) => {\n      //client.writeData({ data: { snack: { open: true, message: \"You Are Verified as User!\", __typename: \"snack\" } } })\n    });\n  }\n\n  const queryVal = useQuery(GET_VIEWER, { fetchPolicy: \"network-only\" });\n  // console.log(\"GET VIEWER\", queryVal);\n\n  let _username = \"\";\n  try {\n    _username = queryVal.data.viewer.username;\n  } catch{\n    _username = \"\";\n  }\n\n  if (_username !== username) {\n    setUsername(_username);\n  }\n\n  return (<VerifyIcon\n    {...queryVal}\n    open={open}\n    setOpen={setOpen}\n    msg={msg}\n    activeStep={props.activeStep}\n    username={username}\n    connectedAddress={connectedAddress}\n    verifiedAddress={verifiedAddress}\n    notice={notice}\n    selectNotice={selectNotice}\n    waitResult={waitResult}\n    selectWallet={selectWallet}\n  />);\n}\n\nexport default VerifyIconContainer;","import React from \"react\";\nimport {\n  Grid,\n  Paper,\n  List,\n  ListSubheader,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  CircularProgress\n} from \"@material-ui/core\";\nimport { Star, FiberManualRecord } from \"@material-ui/icons\";\nimport useStyles from \"./Style\";\n\nfunction SelectPRep(props: any) {\n  // console.log(\"select prep props\", props);\n  const classes = useStyles();\n\n  if (props.loading) return <CircularProgress />;\n  if (props.error) return <p>Error...</p>;\n\n  let allPRep: any[] = [];\n  try {\n    for (let i = 0; i < props.regPReps.length; i++) {\n      for (let j = 0; j < props.delegations.length; j++) {\n        if (props.regPReps[i].address === props.delegations[j].address) {\n          allPRep.push({\n            username: props.regPReps[i].username,\n            pRepName: props.regPReps[i].pRepName,\n            iconAddress: props.regPReps[i].address,\n            isMyPRep: true\n          });\n        }\n      }\n    }\n    for (let i = 0; i < props.regPReps.length; i++) {\n      let flag = false;\n      for (let j = 0; j < allPRep.length; j++) {\n        if (props.regPReps[i].username === allPRep[j].username) {\n          flag = true;\n        }\n      }\n      if (!flag) {\n        allPRep.push({\n          username: props.regPReps[i].username,\n          pRepName: props.regPReps[i].pRepName,\n          iconAddress: props.regPReps[i].address,\n          isMyPRep: false\n        });\n      }\n    }\n  } catch { }\n  return (\n    <Grid item className={classes.grid} xs={12} md={12} lg={12}>\n      <Paper className={classes.paper}>\n        <Grid container className={classes.container}>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <List\n              component=\"nav\"\n              subheader={\n                <ListSubheader component=\"div\">Community Vote</ListSubheader>\n              }\n            >\n              {props.regPages.map((item: any, idx: any) => (\n                <ListItem key={idx} button onClick={() => props.handleClick(item)}>\n                  <ListItemIcon>\n                    <FiberManualRecord />\n                  </ListItemIcon>\n                  <ListItemText>{item}</ListItemText>\n                </ListItem>\n              ))}\n            </List>\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <List\n              component=\"nav\"\n              subheader={\n                <ListSubheader component=\"div\">Select P-Rep</ListSubheader>\n              }\n            >\n              {allPRep.map((item: any, idx: number) => (\n                <ListItem\n                  key={idx}\n                  button\n                  onClick={() => props.handleClick(item.username)}\n                >\n                  {item.isMyPRep && (\n                    <ListItemIcon>\n                      <Star />\n                    </ListItemIcon>\n                  )}\n                  {!item.isMyPRep && (\n                    <ListItemIcon>\n                      <FiberManualRecord />\n                    </ListItemIcon>\n                  )}\n                  <ListItemText>\n                    {item.pRepName}\n                  </ListItemText>\n                </ListItem>\n              ))}\n            </List>\n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid>\n  );\n}\n\nexport default SelectPRep;\n","import React, { useState, useEffect } from \"react\";\nimport { useQuery } from \"@apollo/react-hooks\"\nimport { PREPS, PAGES, GET_VIEWER } from \"./GQL\";\nimport { jsonRpcCall, governanceCall } from \"./IconConnect\";\nimport SelectPRep from \"./SelectPRep\";\n\nfunction SelectPRepContainer(props: any) {\n  // console.log(\"select prep container props\", props);\n  const [delegations, setDelegations] = useState<any>(false);\n  const [pReps, setPReps] = useState<any>(false);\n  const [regPages, setRegPages] = useState([]);\n  const [regPReps, setRegPReps] = useState([]);\n\n  const queryPReps = useQuery(PREPS);\n  const queryPages = useQuery(PAGES);\n\n  useEffect(() => {\n    let _preps;\n    try {\n      _preps = queryPReps.data.get_preps;\n    } catch {\n      _preps = []\n    }\n    setRegPReps(_preps);\n  }, [queryPReps.data])\n\n  useEffect(() => {\n    let _pages;\n    try {\n      _pages = queryPages.data.get_pages;\n    } catch {\n      _pages = []\n    }\n    setRegPages(_pages);\n  }, [queryPages.data])\n\n\n  const handleClick = (PRepName: string) => {\n    props.history.push(\"/Proposals/\" + PRepName)\n  }\n\n  const queryViewer = useQuery(GET_VIEWER);\n\n  if (queryViewer.data && queryViewer.data.viewer && queryViewer.data.viewer.username && !delegations) {\n    jsonRpcCall(\"get_verify_info_by_id\", { \"_id\": queryViewer.data.viewer.username }).then((result) => {\n      const resultJson = JSON.parse(result);\n      governanceCall(\"getDelegation\", { \"address\": resultJson.address }).then((result2) => {\n        setDelegations(result2.delegations);\n      });\n    });\n  }\n\n  if (!pReps) {\n    governanceCall(\"getPReps\", {}).then((result) => {\n      setPReps(result.preps);\n    })\n  }\n\n  function getPRepName(address: string) {\n    for (let i = 0; i < pReps.length; i++) {\n      if (pReps[i].address === address) {\n        return pReps[i].username;\n      }\n    }\n    return address;\n  }\n\n  return (\n    <SelectPRep\n      regPages={regPages}\n      regPReps={regPReps}\n      selectedPRep={props.selectedPRep}\n      delegations={delegations}\n      handleClick={handleClick}\n      getPRepName={getPRepName}\n    />\n  )\n}\n\nexport default SelectPRepContainer;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { Paper, Typography, Grid, Button, Chip, CircularProgress } from \"@material-ui/core\";\nimport { Done as DoneIcon, HowToVote as VoteIcon, NotInterested as DisapproveIcon } from \"@material-ui/icons\";\nimport Pagination from \"react-js-pagination\";\nimport clsx from \"clsx\";\n\nimport useStyles from \"./Style\";\nimport \"./paginate.css\";\n\nfunction NoteProposals(props: any) {\n  // console.log(\"NoteProposals props\", props);\n  const classes = useStyles();\n\n  if (props.loading) return <CircularProgress />;\n  if (props.error) { console.log(props.error); return <p>Error!</p>; }\n  return (\n    <Grid item className={classes.grid} xs={12} md={12} lg={12}>\n      <Paper className={classes.paper}>\n        <Grid container className={classes.container} spacing={0}>\n          <Grid item className={classes.item} xs={12} lg={12}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={() => props.createNewProposal()}\n            >\n              New\n            </Button>\n          </Grid>\n          {props.data.proposals.map((item: any, idx: number) => {\n            let icon;\n            if (item.status === \"Approved\") {\n              icon = <DoneIcon />;\n            } else if (item.status === \"Voting\") {\n              icon = <VoteIcon />;\n            } else {\n              icon = <DisapproveIcon />;\n            }\n            return (\n              <Grid item className={classes.item} key={idx} xs={12} sm={6} md={4} lg={3}>\n                <Paper className={classes.paper}>\n                  <Chip\n                    icon={icon}\n                    size=\"small\"\n                    label={item.status}\n                    color=\"primary\"\n                  />\n                  <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\n                    <b>{item.id}.</b>\n                  </Typography>\n                  <Typography variant=\"h5\" color=\"textPrimary\" gutterBottom>\n                    <Link className={classes.link} to={\"/NoteProposal/\" + props.pRep + \"/\" + item.id} color=\"textPrimary\">\n                      {item.subject}\n                    </Link>\n                  </Typography>\n                  <ul>\n                    {item.selectitemmodelSet.map((selectItem: any, idx: number) => (\n                      <Typography variant=\"h6\" key={idx} color=\"textSecondary\">\n                        <li>\n                          {selectItem.contents}\n                        </li>\n                      </Typography>\n                    ))}\n                  </ul>\n                </Paper>\n              </Grid>\n            );\n          })}\n          <Grid item className={clsx(classes.item, classes.center)} xs={12} lg={12}>\n            <Pagination\n              activePage={props.activePage}\n              itemsCountPerPage={props.itemPerPage}\n              totalItemsCount={props.data.proposalCnt.aInt}\n              pageRangeDisplayed={5}\n              onChange={props.handlePageChange}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid >\n  );\n}\n\nexport default NoteProposals;\n","import React, { useState } from \"react\";\n\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { GET_PROPOSALS } from \"./GQL\";\n\nimport NoteProposals from \"./NoteProposals\";\n\nfunction NoteProposalsContainer(props: any) {\n  // console.log(\"ProposalsContainer props\", props);\n  const selectedPRep = props.match.params.PRep;\n\n  const perPage = 12;\n  const [activePage, setActivePage] = useState(1);\n\n  const handlePageChange = (data: any) => {\n    // console.log(data);\n    setActivePage(data);\n  }\n\n  function createNewProposal() {\n    props.history.push(\"/EditProposal\");\n  }\n\n  // console.log(\"what we send?\", values);\n  const queryVal = useQuery(GET_PROPOSALS, {\n    fetchPolicy: \"network-only\",\n    variables: {\n      selectedPRep: selectedPRep,\n      first: (activePage - 1) * perPage,\n      end: activePage * perPage - 1\n    }\n  });\n\n  return (\n    <NoteProposals\n      {...queryVal}\n      pRep={selectedPRep}\n      createNewProposal={createNewProposal}\n      activePage={activePage}\n      itemPerPage={perPage}\n      handlePageChange={handlePageChange}\n    />\n  );\n}\n\nexport default NoteProposalsContainer;\n","import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Paper,\n  Typography,\n  Button,\n  Grid,\n  Divider,\n  Chip\n} from \"@material-ui/core\";\nimport {\n  ArrowLeft,\n  ArrowRight,\n  Done as DoneIcon,\n  HowToVote as VoteIcon,\n  NotInterested as DisapproveIcon\n} from \"@material-ui/icons\";\nimport { BarChart, Bar, XAxis, YAxis, Tooltip as BarTooltip } from \"recharts\";\nimport clsx from \"clsx\";\n\nimport { TUIViewer } from \"./TUIEditor\";\n\nimport useStyles from \"./Style\";\n\nfunction NoteProposal(props: any) {\n  // console.log(\"NoteProposal props\", props);\n  // const forceUpdate = useForceUpdate;\n\n  const classes = useStyles();\n\n  function SelectItemList() {\n    // console.log(\"SelectItemList\", props.data.proposal.selectitemmodelSet);\n    return (\n      <table>\n        <tbody>\n          {props.data.proposal.selectitemmodelSet.map((selectItem: any) => {\n            return (\n              <tr key={selectItem.index}>\n                <td>\n                  <ArrowRight />\n                </td>\n                <td style={{ minWidth: \"100px\" }}>\n                  <Typography variant=\"h6\">{selectItem.contents}</Typography>\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    );\n  }\n\n  function PublishButton() {\n    return (\n      <Fragment>\n        <Button variant=\"outlined\" color=\"primary\">\n          <Link to={\"/EditProposal/\" + props.id} className={classes.link}>\n            Edit\n          </Link>\n        </Button>\n        <Button variant=\"contained\" color=\"primary\" onClick={props.publish}>\n          Publish\n        </Button>\n      </Fragment>\n    );\n  }\n\n  //  if (props.loading) return <p>Loading...</p>;\n  //  if (props.error) return <p>Error!:</p>;\n  let icon;\n  if (props.data.proposal.status === \"Approved\") {\n    icon = <DoneIcon />;\n  } else if (props.data.proposal.status === \"Voting\") {\n    icon = <VoteIcon />;\n  } else {\n    icon = <DisapproveIcon />;\n  }\n  return (\n    <Grid item className={classes.grid} xs={12} md={12} lg={12}>\n      <Paper className={classes.paper}>\n        <Button\n          variant=\"outlined\"\n          color=\"primary\"\n          onClick={props.back}\n          style={{ width: \"200px\", float: \"right\" }}\n          startIcon={<ArrowLeft />}\n        >\n          Back\n        </Button>\n      </Paper>\n\n      <Paper className={classes.paper}>\n        <Grid container className={classes.container}>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <Chip\n              icon={icon}\n              size=\"small\"\n              label={props.data.proposal.status}\n              color=\"primary\"\n            />\n            {\"  \"}\n            <Typography\n              className={classes.title}\n              variant=\"body1\"\n              color=\"textSecondary\"\n              gutterBottom\n            >\n              <b>{props.data.proposal.ID}.</b>\n            </Typography>\n            <Typography\n              className={classes.title}\n              variant=\"body1\"\n              color=\"textSecondary\"\n              gutterBottom\n            >\n              <b>\n                {props.data.proposal.isPublicVote && \"Public Vote\"}\n                {!props.data.proposal.isPublicVote && \"PRep Vote\"}\n              </b>\n            </Typography>\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <div className={classes.right}>\n              <div style={{ float: \"left\" }}>\n                <Typography variant=\"h4\" color=\"textPrimary\" gutterBottom>\n                  <b>{props.data.proposal.subject} </b>\n                </Typography>\n              </div>\n            </div>\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <Typography variant=\"body1\" color=\"textPrimary\">\n              Proposer : {props.data.proposal.prep.username}\n            </Typography>\n            <Typography variant=\"body1\" color=\"textPrimary\">\n              Ending time : {new Date(props.data.proposal.expireAt).toString()}\n            </Typography>\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <br />\n            <Divider variant=\"fullWidth\" />\n            <br />\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <Typography variant=\"caption\" color=\"textSecondary\">\n              Thresholds\n            </Typography>\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={8} lg={8}>\n            <BarChart\n              width={600}\n              height={80}\n              data={[\n                {\n                  name: \"Thresholds\",\n                  \"Minimum approval rate\": props.data.proposal.winningTh,\n                  Quorum: props.data.proposal.electoralTh,\n                  \"100\": 100\n                }\n              ]}\n              layout=\"vertical\"\n            >\n              <Bar dataKey=\"Minimum approval rate\" fill=\"#82ca9d\" />\n              <Bar dataKey=\"Quorum\" fill=\"#3888c8\" />\n              <BarTooltip cursor={false} />\n              <XAxis type=\"number\" />\n              <YAxis hide dataKey=\"name\" type=\"category\" />\n            </BarChart>\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={4} lg={4}>\n            <table>\n              <tbody>\n                <tr>\n                  <td style={{ float: \"left\" }}>\n                    <Typography variant=\"body1\" color=\"textPrimary\">\n                      {\" \"}\n                      Total Delegates :\n                    </Typography>\n                  </td>\n                  <td style={{ float: \"right\" }}>\n                    <Typography variant=\"body1\" color=\"textPrimary\">\n                      {(\n                        parseInt(props.data.get_prep_info_by_id.delegated, 16) /\n                        1000000000000000000\n                      ).toLocaleString(undefined, {\n                        maximumFractionDigits: 2\n                      }) + \" ICX\"}\n                    </Typography>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <br />\n            <Divider variant=\"fullWidth\" />\n            <br />\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <Typography variant=\"caption\" color=\"textSecondary\">\n              SELECT ITEMS\n            </Typography>\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <SelectItemList />\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <br />\n            <Divider variant=\"fullWidth\" />\n            <br />\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <Typography variant=\"caption\" color=\"textSecondary\">\n              DESCRIPTION\n            </Typography>\n          </Grid>\n          <Grid\n            item\n            className={clsx(classes.paddingSide, classes.viewer)}\n            xs={12}\n            md={12}\n            lg={12}\n          >\n            <TUIViewer initialValue={props.data.proposal.contents} />\n          </Grid>\n          <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n            <br />\n            <Divider variant=\"fullWidth\" />\n            <br />\n          </Grid>\n          <Grid\n            item\n            className={clsx(classes.grid, classes.center)}\n            xs={12}\n            md={12}\n            lg={12}\n          >\n            <br />\n            <PublishButton />\n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid>\n  );\n}\n\nexport default NoteProposal;\n","import React from \"react\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport { SET_PUBLISH, GET_PROPOSAL, GET_VIEWER } from \"./GQL\";\n\nimport NoteProposal from \"./NoteProposal\";\n\n\nfunction NoteProposalContainer(props: any) {\n  // console.log(\"NoteProposalContainer props\", props);\n  const pRep = props.match.params.PRep\n  const id = props.match.params.ID;\n\n  const proposalDummy = {\n    proposal: {\n      selectitemmodelSet: [{ index: 0, contents: \"...\" }],\n      status: \"...\",\n      ID: 0,\n      subject: \"...\",\n      prep: { username: \"...\" },\n      expireAt: 0,\n      contents: \"...\"\n    },\n    get_prep_info_by_id: {\n      delegated: 0\n    }\n  }\n\n  const errorDummy = {\n    proposal: {\n      selectitemmodelSet: [{ index: 0, contents: \"...\" }],\n      status: \"...\",\n      ID: 0,\n      subject: \"...\",\n      prep: { username: \"...\" },\n      expireAt: 0,\n      contents: \"...\"\n    },\n    get_prep_info_by_id: {\n      delegated: 0\n    }\n  }\n\n  const [mutatePublish] = useMutation(SET_PUBLISH);\n\n  function publish() {\n    mutatePublish({\n      variables: { proposalId: id }\n    }).then(publishResult => {\n      // console.log(\"Publish\", publishResult);\n    });\n    // console.log(\"Publish!!!!!!!!!!!!!!\", queryVal.data.proposal);\n    props.history.push(\"/Proposals/\" + pRep);\n  }\n\n  const queryViewer = useQuery(GET_VIEWER);\n  const queryVal = useQuery(GET_PROPOSAL, { variables: { id: id, selectedPRep: pRep } })\n\n  if (queryVal.loading || queryViewer.loading) {\n    return (\n      <NoteProposal\n        pRep={pRep}\n        id={id}\n        publish={publish}\n        data={proposalDummy}\n      />\n    );\n  }\n  if (queryVal.error || queryViewer.error) {\n    if (queryVal.error)\n      errorDummy.proposal.contents = queryVal.error.toString();\n    if (queryViewer.error)\n      errorDummy.proposal.contents += queryViewer.error.toString();\n    return (\n      <NoteProposal\n        pRep={pRep}\n        id={id}\n        publish={() => { }}\n        data={errorDummy}\n      />\n    );\n  }\n  // console.log(\"___________________________________________\");\n  // console.log(queryVal, queryViewer);\n\n  return (\n    <NoteProposal\n      pRep={pRep}\n      id={id}\n      publish={publish}\n      {...queryVal}\n    />\n  );\n}\n\nexport default NoteProposalContainer;","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { Paper, Typography, Grid, Chip, CircularProgress } from \"@material-ui/core\";\nimport { MoreVert, ArrowRight, Done as DoneIcon, HowToVote as VoteIcon, NotInterested as DisapproveIcon } from \"@material-ui/icons\";\nimport Pagination from \"react-js-pagination\";\nimport clsx from \"clsx\";\n\nimport useStyles from \"./Style\";\nimport \"./paginate.css\";\n\nfunction Proposals(props: any) {\n  // console.log(\"Proposals props\", props);\n  const classes = useStyles();\n\n  const select_items = [0, 1, 2, 3];\n\n  if (props.loading) return <CircularProgress />;\n  if (props.error) { console.log(props.error); return <p>Error!</p>; }\n\n  return (\n    <Grid item className={classes.grid} xs={12} md={12} lg={12}>\n      <Paper className={classes.paper}>\n        <Grid container className={classes.container} spacing={0}>\n          {props.pRepInfo.name !== \"\" &&\n            <Grid item className={classes.item} xs={12} md={8} lg={8}>\n              <a href={props.pRepInfo.website} style={{ textDecoration: \"none\", color: \"#000000\" }}>\n                <Typography variant=\"h4\">{props.pRepInfo.name}</Typography>\n              </a>\n            </Grid>\n          }\n          {props.pRepInfo.name === \"\" &&\n            <Grid item className={classes.item} xs={12} md={8} lg={8}>\n              <Typography variant=\"h4\">{props.pRep}</Typography>\n            </Grid>\n          }\n          <Grid item className={classes.item} xs={12} md={4} lg={4}>\n            <table>\n              <tbody>\n                {props.pRepInfo.name !== \"\" &&\n                  <tr>\n                    <td>\n                      <Typography variant=\"h6\">Total Delegations</Typography>\n                    </td>\n                    <td>\n                      <Typography variant=\"h6\">:</Typography>\n                    </td>\n                    <td style={{ textAlign: \"right\" }}>\n                      <Typography variant=\"h6\">{(parseInt(props.pRepInfo.delegated, 16) / 1000000000000000000).toLocaleString(undefined, { maximumFractionDigits: 2 }) + \" ICX\"}</Typography>\n                    </td>\n                  </tr>\n                }\n                <tr>\n                  <td>\n                    <Typography variant=\"h6\">My Voting Power</Typography>\n                  </td>\n                  <td>\n                    <Typography variant=\"h6\">:</Typography>\n                  </td>\n                  <td style={{ textAlign: \"right\" }}>\n                    <Typography variant=\"h6\">{props.myVotingPower.toLocaleString(undefined, { maximumFractionDigits: 2 }) + \" ICX\"}</Typography>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </Grid>\n        </Grid>\n      </Paper>\n      <Paper className={classes.paper}>\n        <Grid container className={clsx(classes.container, classes.top)} spacing={0}>\n          {props.proposals.map((item: any, idx: number) => {\n            // console.log(\"item\", select_item);\n            let icon;\n            if (item.status === \"Approved\") {\n              icon = <DoneIcon />;\n            } else if (item.status === \"Voting\") {\n              icon = <VoteIcon />;\n            } else {\n              icon = <DisapproveIcon />;\n            }\n            return (\n              <Grid item className={classes.item} key={idx} xs={12} sm={6} md={4} lg={4}>\n                <Paper className={classes.paper}>\n                  <Grid container className={classes.container}>\n                    <Grid item className={classes.grid} xs={12} md={12} lg={12}>\n                      <Chip\n                        icon={icon}\n                        size=\"small\"\n                        label={item.status}\n                        color=\"primary\"\n                      />\n                    </Grid>\n                    <Grid item className={classes.grid} style={{ overflow: \"hidden\" }} xs={12} md={12} lg={12}>\n                      <Typography variant=\"h5\" color=\"textPrimary\" gutterBottom>\n                        <Link className={classes.link} to={\"/Proposal/\" + props.pRep + \"/\" + item.ID} color=\"textPrimary\">\n                          <b>{item.ID}.</b>{\" \"}{item.subject}\n                        </Link>\n                      </Typography>\n                    </Grid>\n                    <Grid item className={classes.grid} xs={12} md={12} lg={12}>\n                      <table>\n                        <tbody>\n                          {item.select_item.map((itm: any, idx: number) => {\n                            const selectItem = item.select_item[idx];\n                            if (idx > item.select_item.length - 1) {\n                              return (\n                                <tr key={idx}>\n                                  <td>&nbsp;</td>\n                                  <td><Typography variant=\"h6\" color=\"textSecondary\">&nbsp;</Typography></td>\n                                </tr>\n                              );\n                            }\n                            return (\n                              <tr key={idx}>\n                                <td><ArrowRight /></td>\n                                <td>\n                                  <Typography variant=\"h6\" color=\"textSecondary\">{selectItem}</Typography>\n                                </td>\n                              </tr>\n                            );\n                          })}\n                          {item.select_item.length - select_items.length > 0 &&\n                            <tr>\n                              <td>&nbsp;</td>\n                              <td><MoreVert /></td>\n                            </tr>\n                          }\n                          {item.select_item.length - select_items.length <= 0 &&\n                            <tr>\n                              <td>&nbsp;</td>\n                              <td><Typography variant=\"h6\" key={idx} color=\"textSecondary\">&nbsp;</Typography></td>\n                            </tr>\n                          }\n                        </tbody>\n                      </table>\n                    </Grid>\n                  </Grid>\n                </Paper>\n              </Grid>\n            );\n          })}\n          <Grid item className={clsx(classes.item, classes.center)} xs={12} lg={12}>\n            <Pagination\n              activePage={props.currPage}\n              itemsCountPerPage={props.itemPerPage}\n              totalItemsCount={props.lastProposalID}\n              pageRangeDisplayed={5}\n              onChange={(data) => props.setCurrPage(data)}\n              activeLinkClass={\"link\"}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid >\n  );\n}\n\nexport default Proposals;\n","import React, { useState, useEffect } from \"react\";\n\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { GET_VIEWER, PROPOSALS, PREP_INFO_BY_ID, MY_VOTING_POWER, LAST_PROPOSAL_ID } from \"./GQL\";\n\nimport Proposals from \"./Proposals\";\n\nfunction ProposalsContainer(props: any) {\n  // console.log(\"ProposalsContainer props\", props);\n  const selectedPRep = props.match.params.PRep;\n  const perPage = 6;\n\n  const [proposals, setProposals] = useState<any>([]);\n  const [currPage, setCurrPage] = useState(1);\n  const [pRepInfo, setPRepInfo] = useState({ name: \"\", website: \"\", delegate: 0 });\n  const [lastProposalID, setLastProposalID] = useState(0);\n  const [myVotingPower, setMyVotingPower] = useState(0);\n\n\n  const queryVal = useQuery(GET_VIEWER);\n  const queryProposals = useQuery(PROPOSALS, { variables: { proposer: selectedPRep, startProposalID: (currPage - 1) * perPage + 1, endProposalID: currPage * perPage } });\n  const queryLastProposalID = useQuery(LAST_PROPOSAL_ID, { variables: { proposer: selectedPRep } });\n\n  // Community Vote에선 필요없음\n  const queryPRepInfoByID = useQuery(PREP_INFO_BY_ID, { variables: { proposer: selectedPRep } });\n  const queryMyVotingPower = useQuery(MY_VOTING_POWER, { variables: { proposer: selectedPRep } });\n\n  useEffect(() => {\n    let _proposals;\n    try {\n      _proposals = queryProposals.data.get_proposals;\n    } catch {\n      _proposals = [];\n    }\n    setProposals(_proposals);\n  }, [queryProposals.data])\n\n  useEffect(() => {\n    let _pRepInfo;\n    try {\n      _pRepInfo = queryPRepInfoByID.data.get_prep_info_by_id;\n    } catch {\n      _pRepInfo = { name: \"\", website: \"\", delegate: 0 };\n    }\n    setPRepInfo(_pRepInfo);\n  }, [queryPRepInfoByID.data])\n\n  useEffect(() => {\n    let _lastProposalID;\n    try {\n      _lastProposalID = queryLastProposalID.data.get_last_proposal_id;\n    } catch {\n      _lastProposalID = { name: \"\", website: \"\", delegate: 0 };\n    }\n    setLastProposalID(_lastProposalID);\n  }, [queryLastProposalID.data])\n\n  useEffect(() => {\n    let _votingPower;\n    try {\n      _votingPower = queryMyVotingPower.data.get_my_voting_power;\n    } catch {\n      _votingPower = 0;\n    }\n    setMyVotingPower(_votingPower);\n  }, [queryMyVotingPower.data])\n\n\n\n  // console.log(\"queryVal\", queryVal);\n  // console.log(\"queryProposals\", queryProposals);\n  // console.log(\"queryPRepInfoByID\", queryPRepInfoByID);\n  // console.log(\"queryLastProposalID\", queryLastProposalID);\n  // console.log(\"queryMyVotingPower\", queryMyVotingPower);\n\n  return (\n    <Proposals\n      loading={queryVal.loading || queryProposals.loading}\n      error={queryProposals.error}\n      data={queryProposals.data}\n      proposals={proposals}\n      pRepInfo={pRepInfo}\n      lastProposalID={lastProposalID}\n      myVotingPower={myVotingPower}\n      pRep={selectedPRep}\n      currPage={currPage}\n      itemPerPage={perPage}\n      setCurrPage={setCurrPage}\n    />\n  );\n}\n\nexport default ProposalsContainer;\n","import React from \"react\";\nimport { IconButton, Paper, Typography, FormControlLabel, FormControl, RadioGroup, Radio, Button, Grid, Divider, Tooltip, Chip, Table, TableHead, TableBody, TableFooter, TablePagination, TableRow, TableCell, useTheme, Dialog, DialogTitle, CircularProgress } from \"@material-ui/core\";\nimport { ArrowLeft, ArrowRight, Done as DoneIcon, HowToVote as VoteIcon, NotInterested as DisapproveIcon, FirstPage, KeyboardArrowLeft, KeyboardArrowRight, LastPage } from \"@material-ui/icons\";\nimport { BarChart, Bar, XAxis, YAxis, ReferenceLine, Tooltip as BarTooltip } from \"recharts\";\nimport clsx from \"clsx\";\n\nimport { TUIViewer } from \"./TUIEditor\";\nimport { trackerURL } from \"./Config\";\n\nimport useStyles from \"./Style\";\n\nimport facebookImg from \"./img/facebook.png\";\nimport twitterImg from \"./img/twitter.png\";\n\nfunction Proposal(props: any) {\n  // console.log(\"Proposal props\", props);\n  // const forceUpdate = useForceUpdate;\n\n  const classes = useStyles();\n\n  interface TablePaginationActionsProps {\n    count: number;\n    page: number;\n    rowsPerPage: number;\n    onChangePage: (event: React.MouseEvent<HTMLButtonElement>, newPage: number) => void;\n  }\n\n  function TablePaginationActions(props: TablePaginationActionsProps) {\n    const classes = useStyles();\n    const theme = useTheme();\n    const { count, page, rowsPerPage, onChangePage } = props;\n\n    const handleFirstPageButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n      onChangePage(event, 0);\n    };\n\n    const handleBackButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n      onChangePage(event, page - 1);\n    };\n\n    const handleNextButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n      onChangePage(event, page + 1);\n    };\n\n    const handleLastPageButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n      onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\n    };\n\n    return (\n      <div className={classes.pagination}>\n        <IconButton\n          onClick={handleFirstPageButtonClick}\n          disabled={page === 0}\n          aria-label=\"first page\"\n        >\n          {theme.direction === 'rtl' ? <LastPage /> : <FirstPage />}\n        </IconButton>\n        <IconButton onClick={handleBackButtonClick} disabled={page === 0} aria-label=\"previous page\">\n          {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\n        </IconButton>\n        <IconButton\n          onClick={handleNextButtonClick}\n          disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n          aria-label=\"next page\"\n        >\n          {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\n        </IconButton>\n        <IconButton\n          onClick={handleLastPageButtonClick}\n          disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n          aria-label=\"last page\"\n        >\n          {theme.direction === 'rtl' ? <FirstPage /> : <LastPage />}\n        </IconButton>\n      </div>\n    );\n  }\n\n\n\n  function SelectItemList() {\n    // console.log(\"SelectItemList\", props.proposal.select_item);\n    return (\n      <table>\n        <tbody>\n          {props.votedPowerRate.map(\n            (selectItem: any, idx: number) => {\n              let voteRate = (selectItem.votedPower / props.totalVotedPower) * 100;\n              if (isNaN(voteRate) || !isFinite(voteRate)) {\n                voteRate = 0;\n              }\n              const voteRateStr = voteRate.toLocaleString(undefined, { maximumFractionDigits: 2 });\n              let icx;\n              try {\n                icx = (selectItem.votedPower / 1000000000000000000).toLocaleString(undefined, { maximumFractionDigits: 2 })\n              } catch {\n                icx = 0;\n              }\n\n              return (\n                <tr key={idx}>\n                  <td><ArrowRight /></td>\n                  <td style={{ minWidth: \"200px\" }}>\n                    {props.votedIdx === idx &&\n                      <Tooltip key={idx} title=\"Voted\" placement=\"left\">\n                        <Typography variant=\"h6\">{selectItem.item}</Typography>\n                      </Tooltip>\n                    }\n                    {props.votedIdx !== idx &&\n                      <Typography variant=\"h6\">{selectItem.item}</Typography>\n                    }\n                  </td>\n                  <td align=\"right\" style={{ minWidth: \"50px\" }}><Typography variant=\"h6\" color=\"textSecondary\">{\" \" + voteRateStr + \" %\"}</Typography></td>\n                  <td align=\"right\" style={{ minWidth: \"200px\" }}><Typography variant=\"h6\">{\" \" + icx + \" ICX\"}</Typography></td>\n                </tr>\n              );\n            }\n          )}\n        </tbody>\n      </table >\n    );\n  }\n\n  function RadioButtons() {\n    return (\n      <FormControl>\n        <RadioGroup value={props.voteSelect} onChange={props.handleChange}>\n          <table>\n            <tbody>\n              {props.votedPowerRate.map(\n                (selectItem: any, idx: number) => {\n                  let voteRate = 0;\n                  voteRate = (selectItem.votedPower / props.totalVotedPower) * 100;\n                  if (isNaN(voteRate) || !isFinite(voteRate)) {\n                    voteRate = 0;\n                  }\n                  const voteRateStr = voteRate.toLocaleString(undefined, { maximumFractionDigits: 2 });\n\n                  return (\n                    <tr key={idx}>\n                      <td style={{ minWidth: \"200px\" }}>\n                        <FormControlLabel\n                          control={<Radio />}\n                          value={idx}\n                          label={<Typography variant=\"h6\" color=\"textPrimary\">{selectItem.item}</Typography>}\n                        />\n                      </td>\n                      <td align=\"right\" style={{ minWidth: \"50px\" }}>\n                        <Typography variant=\"h6\" color=\"textSecondary\">{voteRateStr + \" %\"}</Typography>\n                      </td>\n                      <td align=\"right\" style={{ minWidth: \"200px\" }}>\n                        <Typography variant=\"h6\" color=\"textSecondary\">{(selectItem.votedPower / 1000000000000000000).toLocaleString(undefined, { maximumFractionDigits: 2 }) + \" ICX\"}</Typography>\n                      </td>\n                    </tr>\n                  );\n                }\n              )}\n            </tbody>\n          </table>\n        </RadioGroup>\n      </FormControl>\n    );\n  }\n\n  function SelectList() {\n    const expireAt = new Date(props.proposal.expire_timestamp);\n    if (expireAt.getTime() > Date.now() &&\n      (props.myPRep || props.owner) &&\n      props.votedIdx === -1 &&\n      props.proposal.status === \"Voting\") {\n      return (<RadioButtons />);\n    }\n    return (<SelectItemList />);\n  }\n\n  function VoteButton() {\n    return (\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        disabled={props.voteSelect === -1}\n        onClick={props.vote}\n      >\n        Vote\n      </Button>\n    );\n  }\n\n  function ActionButton() {\n    const expireAt = new Date(props.proposal.expire_timestamp);\n    if (expireAt.getTime() < Date.now()) {\n      if (props.proposal.status === \"Voting\") {\n        return <Typography>Vote End(Time over)</Typography>;\n      }\n    }\n    if (expireAt.getTime() > Date.now() && (props.myPRep || props.owner) && props.votedIdx === -1) {\n      return (<VoteButton />);\n    }\n    return <></>;\n  }\n\n  function facebookShare() {\n    window.open('https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(document.URL) + '&t=' + encodeURIComponent(document.title), 'facebooksharedialog', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');\n  }\n\n  function twitterShare() {\n    window.open('https://twitter.com/intent/tweet?text=[%EA%B3%B5%EC%9C%A0]%20' + encodeURIComponent(document.URL) + '%20-%20' + encodeURIComponent(document.title), 'twittersharedialog', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');\n  }\n  const endTime = new Date(props.proposal.expire_timestamp);\n  const leftHour = Math.floor((endTime.getTime() - Date.now()) / 3600000);\n  const leftMinute = Math.floor(((endTime.getTime() - Date.now()) / 60000) - (leftHour * 60));\n\n  if (props.loading) return <CircularProgress />;\n  if (props.error) return <p>Error!:</p>;\n  let icon;\n  if (props.proposal.status === \"Approved\") {\n    icon = <DoneIcon />;\n  } else if (props.proposal.status === \"Voting\") {\n    icon = <VoteIcon />;\n  } else {\n    icon = <DisapproveIcon />;\n  }\n  return (\n    <>\n      <Grid item className={classes.grid} xs={12} md={12} lg={12}>\n        <Paper className={classes.paper}>\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={props.back}\n            style={{ width: \"200px\", float: \"right\" }}\n            startIcon={<ArrowLeft />}\n          >\n            Back\n\n        </Button>\n        </Paper>\n\n        <Paper className={classes.paper}>\n          <Grid container className={classes.container}>\n            <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n              <Chip\n                icon={icon}\n                size=\"small\"\n                label={props.proposal.status}\n                color=\"primary\"\n                style={{ float: \"left\" }}\n              />\n              <br />\n              <br />\n            </Grid>\n            <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n              <div className={classes.right}>\n                <div style={{ float: \"left\" }}>\n                  <Typography variant=\"h4\" color=\"textPrimary\" gutterBottom>\n                    <b>\n                      {props.proposal.ID + \". \" + props.proposal.subject}{\" \"}\n                    </b>\n                  </Typography>\n                </div>\n                <div onClick={twitterShare} style={{ float: \"right\" }}><img src={twitterImg} width=\"40\" alt=\"트위터 공유하기\" /></div>\n                <div onClick={facebookShare} style={{ float: \"right\" }}><img src={facebookImg} width=\"40\" alt=\"페이스북 공유하기\" /></div>\n              </div>\n            </Grid>\n            <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n              <Typography variant=\"body1\" color=\"textPrimary\">\n                Proposer : {props.proposal.proposer}\n              </Typography>\n              <Typography variant=\"body1\" color=\"textPrimary\">\n                Ending Time : {endTime.toString()} {leftHour > 0 && \"(\" + leftHour + \" Hour \" + leftMinute + \" Minute Left)\"}\n              </Typography>\n              <Typography variant=\"body1\" color=\"textPrimary\" style={{ overflow: \"auto\" }}>\n                Transaction : <a href={trackerURL + \"transaction/0x\" + props.proposal.transaction} target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: \"none\", color: \"#000000\" }}>{\"0x\" + props.proposal.transaction}</a>\n              </Typography>\n              {props.proposal.final !== \"\" &&\n                <Typography variant=\"body1\" color=\"textPrimary\" style={{ overflow: \"auto\" }}>\n                  Finalize Transaction : <a href={trackerURL + \"transaction/0x\" + props.proposal.final} target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: \"none\", color: \"#000000\" }}>{\"0x\" + props.proposal.final}</a>\n                </Typography>\n              }\n            </Grid>\n            <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n              <br />\n              <Divider variant=\"fullWidth\" />\n              <br />\n            </Grid>\n            <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n              <Typography variant=\"caption\" color=\"textSecondary\">\n                VOTING PROGRESS\n            </Typography>\n            </Grid>\n            {!props.isCommunityPage &&\n              <Grid item className={classes.paddingSide} style={{ overflow: \"auto\" }} xs={12} md={8} lg={8}>\n                <BarChart width={600} height={70} data={[{ name: \"Participation Quorum\", voted: props.voteData.voted, left: props.voteData.th, \"100\": 100 - props.voteData.voted - props.voteData.th }]} layout=\"vertical\">\n                  <Bar dataKey=\"voted\" stackId=\"a\" fill=\"#82ca9d\" />\n                  <Bar dataKey=\"left\" stackId=\"a\" fill=\"#FFFFFF\" />\n                  <Bar dataKey=\"100\" stackId=\"a\" fill=\"#FFFFFF\" />\n                  <BarTooltip cursor={false} />\n                  <ReferenceLine x={props.proposal.electoral_threshold} label={props.proposal.electoral_threshold} stroke=\"red\" />\n                  <XAxis type=\"number\" domain={[0, 100]} />\n                  <YAxis hide dataKey=\"name\" type=\"category\" />\n                </BarChart>\n              </Grid>\n\n            }\n            <Grid item className={classes.paddingSide} xs={12} md={4} lg={4}>\n              <table>\n                <tbody>\n                  {!props.isCommunityPage &&\n                    <tr>\n                      <td style={{ float: \"left\" }}>\n                        <Typography variant=\"body1\" color=\"textPrimary\">\n                          {\" \"}Total # of delegates :\n                        </Typography>\n                      </td>\n                      <td style={{ float: \"right\" }}>\n                        <Typography variant=\"body1\" color=\"textPrimary\">\n                          {props.voteData.totalDelegate.toLocaleString(undefined, { maximumFractionDigits: 2 }) + \" ICX\"}\n                        </Typography>\n                      </td>\n                    </tr>\n                  }\n                  <tr>\n                    <td style={{ float: \"left\" }}>\n                      <Typography variant=\"body1\" color=\"textPrimary\">\n                        {\" \"}Total # of votes :\n                    </Typography>\n                    </td>\n                    <td style={{ float: \"right\" }}>\n                      <Typography variant=\"body1\" color=\"textPrimary\">\n                        {(props.totalVotedPower / 1000000000000000000).toLocaleString(undefined, { maximumFractionDigits: 2 }) + \" ICX\"}\n                      </Typography>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td style={{ float: \"left\" }}>\n                      <Typography variant=\"body1\" color=\"textPrimary\">\n                        {\" \"}Your # of votes :\n                    </Typography>\n                    </td>\n                    <td style={{ float: \"right\" }}>\n                      <Typography variant=\"body1\" color=\"textPrimary\">\n                        {props.myVotingPower.toLocaleString(undefined, { maximumFractionDigits: 2 }) + \" ICX\"}\n                      </Typography>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </Grid>\n            <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n              <br />\n              <Divider variant=\"fullWidth\" />\n              <br />\n            </Grid>\n            <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n              <Typography variant=\"caption\" color=\"textSecondary\">\n                SELECT ITEMS\n            </Typography>\n            </Grid>\n            <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n              <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                Minimum Approval Rate : {props.proposal.winning_threshold} %\n            </Typography>\n            </Grid>\n            <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n              <SelectList />\n            </Grid>\n            <Grid item className={clsx(classes.grid, classes.center)} xs={12} md={12} lg={12}>\n              <br />\n              <ActionButton />\n            </Grid>\n            <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n              <br />\n              <Divider variant=\"fullWidth\" />\n              <br />\n            </Grid>\n            <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n              <Typography variant=\"caption\" color=\"textSecondary\">\n                DESCRIPTION\n            </Typography>\n            </Grid>\n            <Grid item className={clsx(classes.paddingSide, classes.viewer)} xs={12} md={12} lg={12}>\n              <TUIViewer\n                initialValue={props.proposal.contents}\n              />\n            </Grid>\n            <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n              <br />\n              <Divider variant=\"fullWidth\" />\n              <br />\n            </Grid>\n            <Grid item className={classes.paddingSide} xs={12} md={12} lg={12}>\n              <Typography variant=\"caption\" color=\"textSecondary\">\n                VOTES\n            </Typography>\n            </Grid>\n            <Grid item className={classes.paddingSide} style={{ overflow: \"auto\" }} xs={12} md={12} lg={12}>\n              <Table className={classes.table} aria-label=\"simple table\">\n                <TableHead>\n                  <TableRow>\n                    <TableCell align=\"center\">Voter</TableCell>\n                    <TableCell align=\"center\">Transaction Hash</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {(props.votes.slice(props.page * props.rowsPerPage, props.page * props.rowsPerPage + props.rowsPerPage)).map((item: any, idx: any) => {\n                    return (\n                      <TableRow key={idx}>\n                        <TableCell align=\"center\"><a href={trackerURL + \"address/\" + item.voter} target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: \"none\", color: \"#000000\" }}>{item.voter}</a></TableCell>\n                        <TableCell align=\"center\"><a href={trackerURL + \"transaction/0x\" + item.voteTxHash} target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: \"none\", color: \"#000000\" }}>{\"0x\" + item.voteTxHash}</a></TableCell>\n                      </TableRow>\n                    )\n                  })}\n                </TableBody>\n                <TableFooter>\n                  <TableRow>\n                    <TablePagination\n                      rowsPerPageOptions={[10, 20, 30]}\n                      colSpan={6}\n                      count={props.votes.length}\n                      rowsPerPage={props.rowsPerPage}\n                      page={props.page}\n                      SelectProps={{\n                        inputProps: { 'aria-label': 'rows per page' },\n                        native: true,\n                      }}\n                      onChangePage={props.handleChangePage}\n                      onChangeRowsPerPage={props.handleChangeRowsPerPage}\n                      ActionsComponent={TablePaginationActions}\n                    />\n                  </TableRow>\n                </TableFooter>\n              </Table>\n            </Grid>\n          </Grid>\n        </Paper>\n      </Grid >\n      <Dialog\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n        open={props.open}\n      >\n        <DialogTitle>{props.msg.title}</DialogTitle>\n        <Grid container className={classes.grid}>\n          <Grid item className={clsx(classes.item, classes.center)} xs={12} md={12} lg={12}>\n            {props.msg.title === \"Wait\" &&\n              <CircularProgress />\n            }\n            <Typography variant=\"h5\" color=\"textPrimary\">{props.msg.contents}</Typography>\n          </Grid>\n          <Grid item className={classes.item} xs={12} md={12} lg={12}>\n            <Button variant=\"contained\" color=\"primary\" fullWidth onClick={() => props.setOpen(false)}>\n              Close\n            </Button>\n          </Grid>\n        </Grid>\n      </Dialog>\n    </>\n  );\n}\n\nexport default Proposal;\n","import React, { useState, useEffect } from \"react\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport { SET_VOTE, GET_VIEWER, PROPOSAL, VOTES, PREP_INFO_BY_ID, MY_VOTING_POWER, VOTED_POWER_RATES } from \"./GQL\";\nimport { jsonRpcCall } from \"./IconConnect\";\n\nimport Proposal from \"./Proposal\";\n\n\nfunction ProposalContainer(props: any) {\n  // console.log(\"ProposalContainer props\", props);\n  const pRep = props.match.params.PRep\n  const id = props.match.params.ID;\n\n  const [open, setOpen] = useState(false);\n  const [msg, setMsg] = useState({ title: \"Wait\", contents: \"Now your vote write on ICON\" });\n\n  const [votes, setVotes] = useState<any>([]);\n  const [proposal, setProposal] = useState<any>({\n    ID: \"0\",\n    proposer: \"\",\n    address: \"\",\n    subject: \"\",\n    contents: \"\",\n    electoral_threshold: 0,\n    winning_threshold: 0,\n    status: \"\",\n    expire_timestamp: 0,\n    select_item: [\"\"],\n    transaction: \"\",\n    final: \"\",\n    winner: \"\"\n  }\n  );\n  const [values, setValues] = useState<any>({\n    owner: false,\n    myPRep: false,\n    isCommunityPage: false,\n    myVotingPower: 0,\n    votedIdx: -1,\n    totalDelegate: 0,\n    totalVotedPower: 0,\n  });\n\n  const [viewer, setViewer] = useState<any>({\n    username: \"\",\n    iconAddress: \"\"\n  })\n\n  const [voteSelect, setVoteSelect] = useState(-1);\n  const [votedPowerRate, setVotedPowerRate] = useState<any>({ list: [], totalVotedPower: 0 })\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n\n  const [mutateVote] = useMutation(SET_VOTE);\n\n  const handleChangePage = (event: React.MouseEvent<HTMLButtonElement> | null, newPage: number) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (\n    event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\n  ) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  function vote() {\n    setOpen(true);\n    setMsg({ title: \"Wait\", contents: \"Now your vote write on ICON\" });\n    mutateVote({\n      variables: { proposer: pRep, proposalId: id, selectItemIndex: voteSelect }\n    }).then(voteResult => {\n      setVoteSelect(-1);\n      waitResult(5, 2);\n      queryVotes.refetch();\n    });\n  }\n\n  const back = () => {\n    props.history.go(-1);\n  }\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    // console.log(\"Selected\", (event.target as HTMLInputElement).value);\n    setVoteSelect(parseInt((event.target as HTMLInputElement).value));\n  };\n\n  function getVotedIdx(votes: any, address: string) {\n    let votedIdx = -1;\n    for (let i = 0; i < votes.length; i++) {\n      if (votes[i].voter === address) {\n        votedIdx = votes[i].selectItem;\n      }\n    }\n    return votedIdx\n  }\n\n  function amIOwner(username: string) {\n    if (pRep === username) {\n      return true;\n    }\n    return false;\n  }\n\n  function sleep(t: number) {\n    return new Promise(resolve => setTimeout(resolve, t));\n  }\n\n  async function waitResult(count: number, interval: number) {\n    setOpen(true);\n    for (let i = 0; i < count + 1; i++) {\n      let result = await jsonRpcCall(\"get_votes\", { \"_proposer\": pRep, \"_proposal_id\": id });\n      const votes_call = JSON.parse(result);\n      for (let i = 0; i < votes_call.length; i++) {\n        const aVote = votes_call[i];\n        if (aVote.voter === queryViewer.data.viewer.iconAddress) {\n          setMsg({ title: \"Done\", contents: \"You vote on \" + aVote.selectItem });\n          return aVote;\n        }\n      }\n      await sleep(interval * 1000);\n    }\n    setMsg({ title: \"Fail\", contents: \"Cannot find your vote\" });\n  }\n\n\n  const queryViewer = useQuery(GET_VIEWER);\n  // console.log(\"queryViewer\", queryViewer);\n  const queryProposal = useQuery(PROPOSAL, { variables: { proposer: pRep, proposal_id: id } });\n  // console.log(\"queryProposal\", queryProposal);\n  const queryVotes = useQuery(VOTES, { variables: { proposer: pRep, proposal_id: id } });\n  // console.log(\"queryVotes\", queryVotes);\n\n  const queryPRepInfoByID = useQuery(PREP_INFO_BY_ID, { variables: { proposer: pRep } });\n  // console.log(\"queryPRepInfoByID\", queryPRepInfoByID);\n  const queryVotingPower = useQuery(MY_VOTING_POWER, { variables: { proposer: pRep, username: viewer.username } });\n  // console.log(\"queryVotingPower\", queryVotingPower);\n  const queryVotedPowerRates = useQuery(VOTED_POWER_RATES, { variables: { proposer: pRep, proposal_id: id } });\n  // console.log(\"queryVotedPowerRates\", queryVotedPowerRates);\n\n  useEffect(() => {\n    let _proposal;\n    try {\n      _proposal = queryProposal.data.get_proposal;\n    } catch {\n      _proposal = {\n        ID: \"0\",\n        proposer: \"\",\n        address: \"\",\n        subject: \"Loading\",\n        contents: \"\",\n        electoral_threshold: 0,\n        winning_threshold: 0,\n        status: \"Loading\",\n        expire_timestamp: 0,\n        select_item: [\"\"],\n        transaction: \"\",\n        final: \"\",\n        winner: \"\"\n      };\n    }\n    setProposal(_proposal);\n  }, [queryProposal]);\n\n  useEffect(() => {\n    let _votes: any;\n    try {\n      _votes = queryVotes.data.get_votes;\n    } catch {\n      _votes = [];\n    }\n    setVotes(_votes);\n  }, [queryVotes]);\n\n  useEffect(() => {\n    let _username;\n    let _iconAddress;\n    try {\n      _username = queryViewer.data.viewer.username;\n      _iconAddress = queryViewer.data.viewer.iconAddress;\n    } catch {\n      _username = \"\";\n      _iconAddress = \"\";\n    }\n    setViewer({ username: _username, iconAddress: _iconAddress });\n  }, [queryViewer]);\n\n  useEffect(() => {\n    let _myPRep;\n    let _myVotingPower;\n    try {\n      _myPRep = !(queryVotingPower.data.get_my_voting_power === 0);\n      _myVotingPower = queryVotingPower.data.get_my_voting_power;\n    } catch {\n      _myPRep = false;\n      _myVotingPower = 0;\n    }\n    setValues({ ...values, myPRep: _myPRep, myVotingPower: _myVotingPower });\n  }, [queryVotingPower])\n\n  useEffect(() => {\n    let _totalDelegate;\n    let _isCommunityPage;\n    try {\n      _totalDelegate = parseInt(queryPRepInfoByID.data.get_prep_info_by_id.delegated, 16) / 1000000000000000000;\n      _isCommunityPage = false;\n    } catch {\n      _totalDelegate = 0;\n      _isCommunityPage = true;\n    }\n    setValues({ ...values, totalDelegate: _totalDelegate, isCommunityPage: _isCommunityPage });\n  }, [queryPRepInfoByID]);\n\n  useEffect(() => {\n    let _votedPowerRate;\n    let _totalVotedPower;\n    try {\n      let Item = queryVotedPowerRates.data.get_voted_power_rates;\n      _votedPowerRate = Item.votedPowerRate;\n      _totalVotedPower = Item.totalVotedPower;\n    } catch {\n      _votedPowerRate = [];\n      _totalVotedPower = 0;\n    }\n    setVotedPowerRate({ ...votedPowerRate, list: _votedPowerRate, totalVotedPower: _totalVotedPower });\n    //    setValues({ ...values, totalVotedPower: _totalVotedPower });\n  }, [queryVotedPowerRates])\n\n\n  let _votedIdx;\n  try {\n    _votedIdx = getVotedIdx(votes, queryViewer.data.viewer.iconAddress);\n  } catch {\n    _votedIdx = -1;\n  }\n\n  useEffect(() => {\n    let _owner;\n    try {\n      _owner = amIOwner(viewer.username);\n    } catch {\n      _owner = false;\n    }\n    setValues({ ...values, owner: _owner });\n  }, [viewer.username]);\n\n  let voteData = { name: 'electoralTH', th: 0, voted: 0, totalVoted: 0, totalDelegate: 0, icx: 0 };\n  try {\n    voteData.voted = Math.round((values.totalVotedPower / values.totalDelegate ? values.totalDelegate : 0.00000001) * 100);\n    voteData.th = parseInt(proposal.electoral_threshold) - voteData.voted;\n    if (voteData.th < 0) voteData.th = 0;\n    voteData.totalVoted = values.totalVotedPower;\n    voteData.totalDelegate = values.totalDelegate;\n  } catch {\n    voteData = { name: 'electoralTH', th: 0, voted: 0, totalVoted: 0, totalDelegate: 0, icx: 0 };\n  }\n\n  // console.log(\"values\", values);\n\n  return (\n    <Proposal\n      // Data from url\n      pRep={pRep}\n      id={id}\n\n      // return pure data\n      proposal={proposal}\n      votes={votes}\n\n      // edited data\n      isCommunityPage={values.isCommunityPage}\n      owner={values.owner}\n      myPRep={values.myPRep}\n      myVotingPower={values.myVotingPower}\n      votedIdx={_votedIdx}\n      voteSelect={voteSelect}\n      votedPowerRate={votedPowerRate.list}\n      totalVotedPower={votedPowerRate.totalVotedPower}\n      voteData={voteData}\n\n      // functions\n      back={back}\n      vote={vote}\n\n      // pagination\n      handleChange={handleChange}\n      handleChangePage={handleChangePage}\n      handleChangeRowsPerPage={handleChangeRowsPerPage}\n      page={page}\n      rowsPerPage={rowsPerPage}\n\n      // Dialog\n      open={open}\n      setOpen={setOpen}\n      msg={msg}\n    />\n  );\n}\n\nexport default ProposalContainer;\n","import { useCallback, useState } from \"react\";\n\nexport default function useForceUpdate(): () => void {\n  const [, dispatch] = useState<{}>(Object.create(null));\n\n  // Turn dispatch(required_parameter) into dispatch().\n  const memoizedDispatch = useCallback((): void => {\n    dispatch(Object.create(null));\n  }, [dispatch]);\n  return memoizedDispatch;\n}\n","import React from \"react\";\n// import { withRouter } from \"react-router-dom\";\nimport {\n  Paper,\n  Grid,\n  Typography,\n  TextField,\n  Button,\n  Slider,\n  CircularProgress\n} from \"@material-ui/core\";\nimport { AddRounded } from \"@material-ui/icons\";\nimport clsx from \"clsx\";\n\nimport { TUIEditor } from \"./TUIEditor\";\n\nimport useStyles from \"./Style\";\n\nfunction EditProposal(props: any) {\n  // console.log(\"EditProposal props\", props);\n\n  const classes = useStyles();\n\n  if (props.loading) return <CircularProgress />;\n  if (props.error) return <p>Error: Check your login status.</p>;\n  return (\n    <Grid item className={classes.grid} xs={12} md={12} lg={12}>\n      <Paper className={classes.paper}>\n        <form>\n          <Grid container className={classes.container} spacing={0}>\n            <Grid className={classes.item} item xs={3} md={3} lg={3}>\n              {\" \"}\n            </Grid>\n            <Grid className={classes.item} item xs={6} md={6} lg={6}>\n              <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                Set Voting Type\n              </Typography>\n              <Button\n                fullWidth\n                color=\"primary\"\n                variant=\"contained\"\n                onClick={props.toggleVoteType}\n              >\n                <Typography style={{ color: \"#FFFFFF\" }}>\n                  {props.values.isPublicVote && \"Public Vote\"}\n                  {!props.values.isPublicVote && \"P-Rep Vote\"}\n                </Typography>\n              </Button>\n            </Grid>\n            <Grid className={classes.item} item xs={3} md={3} lg={3}>\n              {\" \"}\n            </Grid>\n          </Grid>\n          <Grid container className={classes.container} spacing={0}>\n            <Grid className={classes.item} item xs={12} md={12} lg={12}>\n              <TextField\n                id=\"subject\"\n                label=\"Subject\"\n                value={props.values.subject}\n                onChange={props.handleProposalChange(\"subject\")}\n                className={classes.textField}\n                variant=\"outlined\"\n                helperText={props.validator.message(\n                  \"subject\",\n                  props.values.subject,\n                  \"required|min:10\"\n                )}\n              />\n              <br />\n            </Grid>\n            <Grid\n              className={classes.item}\n              item\n              xs={12}\n              md={12}\n              lg={12}\n              style={{ textAlign: \"right\" }}\n            >\n              <Button color=\"primary\" onClick={props.addSelectItem}>\n                <AddRounded />\n                Add select item\n              </Button>\n            </Grid>\n            {props.selectItems.map((item: any, idx: any) => {\n              return (\n                <Grid\n                  className={classes.item}\n                  key={idx}\n                  item\n                  xs={12}\n                  md={12}\n                  lg={12}\n                >\n                  <TextField\n                    id={String(idx + 1)}\n                    label={String(idx + 1)}\n                    name={String(idx + 1)}\n                    value={item}\n                    onChange={props.handleSelectItemChange(idx)}\n                    className={classes.textField}\n                    helperText={props.validator.message(\n                      \"select_item\",\n                      props.selectItems,\n                      \"required|listFilled:\" + String(idx) + \"|diff\"\n                    )}\n                    variant=\"outlined\"\n                    InputProps={{\n                      endAdornment: (\n                        <Button\n                          color=\"secondary\"\n                          onClick={() => props.deleteSelectItem(idx)}\n                        >\n                          Delete\n                        </Button>\n                      )\n                    }}\n                  />\n                  <br />\n                </Grid>\n              );\n            })}\n\n            <Grid className={classes.item} item xs={12} md={12} lg={12}>\n              <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                Description\n              </Typography>\n              <TUIEditor\n                usageStatistics={false}\n                height=\"600px\"\n                initialEditType=\"wysiwyg\"\n                initialValue={props.values.contents}\n                useCommandShortcut={true}\n                exts={[\n                  {\n                    name: \"chart\",\n                    minWidth: 100,\n                    maxWidth: 600,\n                    minHeight: 100,\n                    maxHeight: 300\n                  },\n                  \"scrollSync\",\n                  \"colorSyntax\",\n                  \"uml\",\n                  \"mark\",\n                  \"table\"\n                ]}\n                onChange={props.handleEditorChange}\n              />\n            </Grid>\n            {props.values.contents !== \"\" &&\n              props.validator.message(\n                \"contents\",\n                props.values.contents,\n                \"required|min:10\"\n              )}\n\n            <Grid\n              className={clsx(classes.item, classes.center)}\n              item\n              xs={12}\n              md={12}\n              lg={12}\n            >\n              <Typography>\n                <b>Vote Duration</b>\n              </Typography>\n            </Grid>\n            <Grid\n              className={clsx(classes.item, classes.center)}\n              item\n              xs={12}\n              md={12}\n              lg={12}\n            >\n              <div>\n                <TextField\n                  id=\"days\"\n                  type=\"number\"\n                  value={props.values.days.toString()}\n                  onChange={props.handleProposalChange(\"days\")}\n                  variant=\"outlined\"\n                  inputProps={{ min: 0, max: 365, step: 1 }}\n                  style={{ float: \"left\", width: \"200\" }}\n                />\n                <Typography\n                  variant=\"h6\"\n                  style={{ float: \"left\", width: \"200\" }}\n                >\n                  <b>Days</b>\n                </Typography>\n                <TextField\n                  id=\"hours\"\n                  type=\"number\"\n                  value={props.values.hours.toString()}\n                  onChange={props.handleProposalChange(\"hours\")}\n                  variant=\"outlined\"\n                  inputProps={{ min: 0, max: 24, step: 1 }}\n                  style={{ float: \"left\", width: \"200\" }}\n                />\n                <Typography\n                  variant=\"h6\"\n                  style={{ float: \"left\", width: \"200\" }}\n                >\n                  <b>Hours</b>\n                </Typography>\n              </div>\n            </Grid>\n            <Grid\n              className={clsx(classes.item, classes.center)}\n              item\n              xs={12}\n              md={12}\n              lg={12}\n            >\n              <br />\n              <Typography>End At {props.values.expireAt.toString()}</Typography>\n              <br />\n            </Grid>\n            <Grid\n              className={classes.item}\n              item\n              style={{ textAlign: \"center\" }}\n              xs={12}\n              md={12}\n              lg={12}\n            >\n              <Typography>\n                <b>Participation Quorum : {props.values.electoralTh}</b>\n              </Typography>\n              <Slider\n                value={props.values.electoralTh}\n                onChange={props.handleSliderChange(\"electoralTh\")}\n                defaultValue={50}\n                getAriaValueText={val => val + \"%\"}\n                aria-labelledby=\"discrete-slider\"\n                valueLabelDisplay=\"auto\"\n                step={5}\n                marks\n                min={0}\n                max={100}\n              />\n            </Grid>\n            <Grid\n              className={classes.item}\n              item\n              style={{ textAlign: \"center\" }}\n              xs={12}\n              md={12}\n              lg={12}\n            >\n              <Typography>\n                <b>Minimum Approval Rate to Pass : {props.values.winningTh}</b>\n              </Typography>\n              <Slider\n                value={props.values.winningTh}\n                onChange={props.handleSliderChange(\"winningTh\")}\n                defaultValue={50}\n                getAriaValueText={val => val + \"%\"}\n                aria-labelledby=\"discrete-slider\"\n                valueLabelDisplay=\"auto\"\n                step={5}\n                marks\n                min={0}\n                max={100}\n              />\n            </Grid>\n            <Grid\n              className={classes.item}\n              item\n              style={{ textAlign: \"center\" }}\n              xs={12}\n              md={12}\n              lg={12}\n            >\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={props.handlesubmitProposal}\n                fullWidth\n              >\n                Submit\n              </Button>\n            </Grid>\n          </Grid>\n        </form>\n      </Paper>\n    </Grid>\n  );\n}\n\nexport default EditProposal;\n","import React, { Fragment, useState } from \"react\";\nimport { Typography } from \"@material-ui/core\";\nimport { Redirect } from \"react-router-dom\";\n\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport { GET_PROPOSAL4EDIT, SET_PROPOSAL } from \"./GQL\";\nimport SimpleReactValidator from \"simple-react-validator\";\n\nimport useForceUpdate from \"./useForceUpdate\";\nimport EditProposal from \"./EditProposal\";\n\nfunction EditProposalContainer(props: any) {\n  // console.log(\"EditProposalContainer props\", props);\n\n  //  const match = props.match;\n  //  const history = props.history;\n  //  const location = props.location;\n  //  const prop_proposal = props.proposal;\n\n  let proposal_id: any;\n  if (\n    props &&\n    props.match &&\n    props.match.params &&\n    props.match.params.proposal_id\n  ) {\n    proposal_id = props.match.params.proposal_id;\n  } else {\n    proposal_id = -1;\n  }\n\n  const forceUpdate = useForceUpdate();\n\n  const [redirect, setRedirect] = useState();\n\n  const [selectItems, setSelectItems] = useState([\"\", \"\", \"\", \"\"]);\n  const [values, setValues] = useState({\n    id: -1,\n    isPublicVote: false,\n    electoralTh: 50,\n    winningTh: 50,\n    subject: \"\",\n    contents: \"\",\n    days: 5,\n    hours: 0,\n    expireAt: new Date(),\n    selectitemmodelSet: []\n  });\n\n  const [mutateProposal] = useMutation(SET_PROPOSAL);\n\n  const [validator] = useState(\n    new SimpleReactValidator({\n      validators: {\n        diff: {\n          message: \"input different options.\",\n          rule: (val: any, params: any) => {\n            // console.log(val, params);\n            for (let i = 0; i < val.length; i++) {\n              for (let j = i + 1; j < val.length; j++) {\n                if (val[i] === val[j]) {\n                  return false;\n                }\n              }\n            }\n            return true;\n          }\n        },\n        listFilled: {\n          message: \"input every field\",\n          rule: (val: any, params: any) => {\n            if (val[parseInt(params[0])] === \"\") {\n              return false;\n            }\n            return true;\n          }\n        }\n      },\n      locale: \"en\",\n      className: \"text-danger\",\n      element: (message: any, className: any) => (\n        <Typography variant=\"caption\" color=\"error\" className={className}>\n          {message}\n        </Typography>\n      )\n    })\n  );\n\n  const addSelectItem = () => {\n    setSelectItems([...selectItems, \"\"]);\n  };\n\n  const handleSelectItemChange = (index: number) => (\n    event: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    setSelectItems([\n      ...selectItems.slice(0, index),\n      event.target.value,\n      ...selectItems.slice(index + 1)\n    ]);\n  };\n\n  function deleteSelectItem(index: number) {\n    let tmp = selectItems;\n    tmp.splice(index, 1);\n    setSelectItems(tmp);\n    forceUpdate();\n  }\n\n  function toggleVoteType() {\n    setValues({ ...values, isPublicVote: !values.isPublicVote });\n  }\n\n  const handleDateChange = (days: number) => {\n    // console.log(\"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\");\n    var today = new Date();\n    var dueto = new Date();\n    dueto.setDate(today.getDate() + 1);\n    // console.log(dueto);\n    setValues({ ...values, expireAt: dueto });\n  };\n\n  const handleProposalChange = (name: string) => (\n    event: React.ChangeEvent<any>\n  ) => {\n    // console.log(\"~~~~~~~~~~~~~~~~~~~~~\", name, event.target.value, parseInt(event.target.value))\n\n    if (name === \"days\" || name === \"hours\") {\n      if (event.target.value !== \"\") {\n        var today = new Date();\n        if (name === \"days\") {\n          today.setDate(today.getDate() + parseInt(event.target.value));\n          today.setHours(today.getHours() + values.hours);\n        } else {\n          today.setDate(today.getDate() + values.days);\n          today.setHours(today.getHours() + parseInt(event.target.value));\n        }\n        // console.log(today.toString());\n        setValues({\n          ...values,\n          [name]: parseInt(event.target.value),\n          expireAt: today\n        });\n      }\n    } else {\n      setValues({ ...values, [name]: event.target.value });\n    }\n  };\n\n  const handleSliderChange = (name: string) => (\n    event: any,\n    newValue: number | number[]\n  ) => {\n    if (Array.isArray(newValue)) {\n      setValues({ ...values, [name]: newValue[0] });\n    } else {\n      setValues({ ...values, [name]: newValue });\n    }\n    // console.log(values);\n  };\n\n  function handleEditorChange(content: string) {\n    setValues({ ...values, contents: content });\n  }\n\n  function handlesubmitProposal() {\n    if (!validator.allValid()) {\n      validator.showMessages();\n      forceUpdate();\n      return;\n    }\n\n    let tmpSelectItemList: { index: Number; contents: String }[] = [];\n    selectItems.map((item: any, idx: any) => {\n      tmpSelectItemList.push({\n        index: idx,\n        contents: item\n      });\n      //await mutateSelectItem({ variables: { proposalID: newProposalID, contents: item.value } });\n      return item;\n    });\n\n    const mutate_var: { [index: string]: any } = {\n      variables: {\n        proposalId: values.id,\n        isPublicVote: values.isPublicVote,\n        subject: values.subject,\n        contents: values.contents,\n        published: false,\n        electoralTh: values.electoralTh,\n        winningTh: values.winningTh,\n        expireAt: values.expireAt.toISOString(),\n        selectItemList: tmpSelectItemList\n      }\n    };\n\n    // console.log(\"MUTATE_VAR\", mutate_var);\n\n    submitProposal(mutate_var);\n  }\n\n  function submitProposal(mutate_var: any) {\n    // console.log(\"submitProposal mutate_var:\", mutate_var);\n    mutateProposal(mutate_var).then(result => {\n      setRedirect(result.data.setProposal.proposal.id);\n    });\n  }\n\n  function renderRedirect() {\n    if (redirect) {\n      return (\n        <Redirect\n          to={\"/NoteProposal/\" + queryVal.data.viewer.username + \"/\" + redirect}\n        />\n      );\n    }\n  }\n\n  const queryVal = useQuery(GET_PROPOSAL4EDIT, {\n    variables: { id: proposal_id }\n  });\n\n  if (queryVal.data && queryVal.data.proposal && values.id === -1) {\n    const proposal = queryVal.data.proposal;\n    const date = new Date(proposal.expireAt);\n    const now = new Date();\n    const diff = (date.getTime() - now.getTime()) / 1000;\n\n    let dayDiff = 0;\n    let hourDiff = 0;\n\n    if (diff > 0) {\n      dayDiff = Math.floor(diff / (60 * 60 * 24));\n      hourDiff = Math.floor((diff - dayDiff * 60 * 60 * 24) / (60 * 60));\n    }\n\n    setValues({\n      id: proposal.id,\n      electoralTh: proposal.electoralTh,\n      winningTh: proposal.winningTh,\n      isPublicVote: proposal.isPublicVote,\n      subject: proposal.subject,\n      contents: proposal.contents,\n      days: dayDiff,\n      hours: hourDiff,\n      expireAt: date,\n      selectitemmodelSet: []\n    });\n\n    let tmpSelectItems: string[] = [];\n    proposal.selectitemmodelSet.map((item: any) => {\n      tmpSelectItems.push(item.contents);\n      return item;\n    });\n    if (tmpSelectItems.length > 0) {\n      setSelectItems(tmpSelectItems);\n    }\n  }\n\n  return (\n    <Fragment>\n      {renderRedirect()}\n      <EditProposal\n        {...queryVal}\n        validator={validator}\n        values={values}\n        setValues={setValues}\n        selectItems={selectItems}\n        addSelectItem={addSelectItem}\n        handleSelectItemChange={handleSelectItemChange}\n        deleteSelectItem={deleteSelectItem}\n        handleDateChange={handleDateChange}\n        handleProposalChange={handleProposalChange}\n        handleSliderChange={handleSliderChange}\n        handleEditorChange={handleEditorChange}\n        handlesubmitProposal={handlesubmitProposal}\n        toggleVoteType={toggleVoteType}\n      />\n    </Fragment>\n  );\n}\n\nexport default EditProposalContainer;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { Grid, Avatar, Typography, IconButton, Badge, Menu, MenuItem, Button, CircularProgress } from \"@material-ui/core\";\nimport { AccountCircle } from \"@material-ui/icons\";\n\nimport useStyles from \"./Style\";\n\nfunction UserInfo(props: any) {\n  // console.log(\"UserInfo props\", props);\n  const classes = useStyles();\n\n  if (props.loading) return <CircularProgress />;\n  //  if (props.error) return <p>Error...{props.error.message}</p>;\n\n  if (props.data && props.data.viewer && props.data.viewer.username) {\n    return (\n      <Grid container className={classes.container}>\n        <Grid item className={classes.grid} xs style={{ textAlign: \"right\" }}>\n          <IconButton\n            aria-controls=\"user_menu\"\n            color=\"inherit\"\n            onClick={props.handleMenu}\n          >\n            <Badge\n              badgeContent={props.badgeCnt}\n              invisible={props.badgeCnt === 0}\n              color=\"secondary\"\n              className={classes.noMarginPadding}\n            >\n              <Avatar\n                alt={props.data.viewer.username}\n                src={\"\"}\n                className={classes.noMarginPadding}\n              >\n                <AccountCircle fontSize=\"large\" />\n              </Avatar>\n            </Badge>\n          </IconButton>\n          <Menu\n            id=\"user_menu\"\n            anchorEl={props.anchorEl}\n            keepMounted\n            open={Boolean(props.anchorEl)}\n            onClose={props.handleMenuClose}\n          >\n            <MenuItem onClick={props.showUserInfo}>\n              <Typography component=\"h6\">{props.data.viewer.username}</Typography>\n            </MenuItem>\n            <MenuItem onClick={props.handleMenuClose}>\n              <Link to=\"/Profile\" className={classes.link}>\n                <Typography component=\"h6\">Profile</Typography>\n              </Link>\n            </MenuItem>\n            <MenuItem onClick={props.handleMenuLogout}>\n              <Link to=\"/\" className={classes.link}>\n                <Typography component=\"h6\">Logout</Typography>\n              </Link>\n            </MenuItem>\n          </Menu>\n        </Grid>\n      </Grid>\n    );\n  } else {\n    return (\n      <Grid container className={classes.container}>\n        <Grid item className={classes.grid} xs style={{ textAlign: \"right\", overflow: \"hidden\" }}>\n          <Button component={Link} to=\"/Signup\" style={{ overflow: \"hidden\" }}>\n            <Typography component=\"h6\" style={{ color: \"#FFFFFF\" }}>Join now</Typography>\n          </Button>\n        </Grid>\n        <Grid item className={classes.grid} xs style={{ textAlign: \"left\", overflow: \"hidden\" }}>\n          <Button component={Link} to=\"/Signin\" variant=\"contained\" style={{ color: \"#FFF\", overflow: \"hidden\" }}>\n            <Typography component=\"h6\" color=\"primary\">Sign In</Typography>\n          </Button>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default UserInfo;","import React from \"react\";\n\nimport { useQuery, useMutation, useApolloClient } from \"@apollo/react-hooks\";\nimport { LOG_OUT, GET_VIEWER } from \"./GQL\";\n\nimport UserInfo from \"./UserInfo\";\n\nfunction UserInfoContainer(props: any) {\n  // console.log(\"UserInfoContainer props\", props);\n  //const [badgeCnt, setBadgeCnt] = React.useState(0);\n  const badgeCnt = 0;\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n\n  const [mutateLogout] = useMutation(LOG_OUT);\n  const client = useApolloClient();\n\n  const handleMenu = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleMenuLogout = () => {\n    mutateLogout().then((result) => {\n      setAnchorEl(null);\n      client.writeData({ data: { username: \"\", snack: { open: true, message: \"logouted\", __typename: \"snack\" } } });\n      props.refetch();\n      window.location.reload();\n    });\n  };\n\n  function showUserInfo() {\n    client.writeData({ data: { snack: { open: true, message: queryVal.data.viewer.username, __typename: \"snack\" } } });\n  }\n\n  const queryVal = useQuery(GET_VIEWER);\n\n  return (<UserInfo\n    {...queryVal}\n    anchorEl={anchorEl}\n    setAnchorEl={setAnchorEl}\n    badgeCnt={badgeCnt}\n    handleMenu={handleMenu}\n    handleMenuClose={handleMenuClose}\n    handleMenuLogout={handleMenuLogout}\n    showUserInfo={showUserInfo}\n  />);\n\n}\n\nexport default UserInfoContainer;\n","import React, { Fragment } from \"react\";\nimport { Grid, Paper, TextField, Button } from \"@material-ui/core\";\nimport clsx from \"clsx\";\n\nimport useStyles from \"./Style\";\n\nfunction SignIn(props: any) {\n  // console.log(\"SignIn props\", props);\n  const classes = useStyles();\n\n  return (\n    <Fragment>\n      <Grid item className={clsx(classes.grid, classes.center)} xs={12} md={12} lg={12}>\n        <Paper className={classes.paper}>\n          <br />\n          <br />\n          <br />\n          <br />\n          <Grid container className={classes.container}>\n            <Grid item className={clsx(classes.item, classes.center)} xs={12} md={12} lg={12}>\n              <TextField\n                id=\"username\"\n                label=\"Username\"\n                name=\"username\"\n                type=\"text\"\n                value={props.signInfo.username}\n                onChange={props.handleSignInfo}\n                helperText={props.validator.message(\n                  \"username\",\n                  props.signInfo.username,\n                  \"required|min:3\"\n                )}\n              />\n            </Grid>\n            <Grid item className={clsx(classes.item, classes.center)} xs={12} md={12} lg={12}>\n              <TextField\n                id=\"password\"\n                label=\"Password\"\n                name=\"password\"\n                type=\"password\"\n                value={props.signInfo.password}\n                onChange={props.handleSignInfo}\n                onKeyPress={e => {\n                  if (e.key === \"Enter\") {\n                    props.validateSignIn();\n                  }\n                }}\n                helperText={props.validator.message(\n                  \"password\",\n                  props.signInfo.password,\n                  \"required|min:3\"\n                )}\n              />\n            </Grid>\n            <Grid item className={clsx(classes.item, classes.center)} xs={12} md={12} lg={12}>\n              <Button variant=\"contained\" color=\"primary\" onClick={props.validateSignIn}>\n                Sign in\n              </Button>\n            </Grid>\n          </Grid>\n          <br />\n          <br />\n          <br />\n          <br />\n        </Paper>\n      </Grid>\n    </Fragment>\n  );\n}\n\nexport default SignIn;","import React, { useState } from \"react\";\nimport { Typography } from \"@material-ui/core\";\nimport SimpleReactValidator from \"simple-react-validator\";\n\nimport { useMutation, useApolloClient } from \"@apollo/react-hooks\";\nimport { TOKEN_AUTH } from \"./GQL\";\n\nimport useForceUpdate from \"./useForceUpdate\";\nimport SignIn from \"./SignIn\";\n\nfunction SignInContainer(props: any) {\n  const forceUpdate = useForceUpdate();\n  const client = useApolloClient();\n\n  const [signInfo, setSignInfo] = useState({ username: \"\", password: \"\" });\n\n  const [mutateTokenAuth] = useMutation(TOKEN_AUTH);\n\n  function logIn(username: string, password: string) {\n    mutateTokenAuth({\n      variables: { username: username, password: password }\n    }).then((r) => {\n      client.writeData({ data: { snack: { open: true, message: \"Welcome \" + username, __typename: \"snack\" } } });\n      localStorage.setItem(\"refreshToken\", r.data.tokenAuth.refreshToken);\n      props.history.go(-1);\n      // window.location.reload();\n    }).catch((e) => {\n      client.writeData({ data: { snack: { open: true, message: \"Login Fail\", __typename: \"snack\" } } });\n      // console.log(\"login error\", e);\n    });\n  }\n\n  const [validator] = useState(new SimpleReactValidator({\n    validators: {},\n    locale: \"en\",\n    className: \"text-danger\",\n    element: (message: any, className: any) => (\n      <Typography variant=\"caption\" color=\"error\" className={className}>\n        {message}\n      </Typography>\n    )\n  }));\n\n  function validateSignIn() {\n    if (!validator.allValid()) {\n      validator.showMessages();\n      forceUpdate();\n      return;\n    } else {\n      // console.log(\"go to login\");\n      logIn(signInfo.username, signInfo.password);\n    }\n  }\n\n  function handleSignInfo(e: React.ChangeEvent<HTMLInputElement>) {\n    setSignInfo({ ...signInfo, [e.target.name]: e.target.value });\n  }\n\n  return (\n    <SignIn\n      signInfo={signInfo}\n      handleSignInfo={handleSignInfo}\n      validator={validator}\n      validateSignIn={validateSignIn}\n    />\n  );\n}\n\nexport default SignInContainer;\n","import React from \"react\";\n\nimport { Grid, TextField, Button } from \"@material-ui/core\";\nimport clsx from \"clsx\";\n\nimport useStyles from \"./Style\";\n\n\nfunction NewAccount(props: any) {\n  // console.log(\"NewAccount props\", props);\n  const classes = useStyles();\n\n  return (\n    <Grid container className={classes.container}>\n      <Grid item className={clsx(classes.item, classes.center)} xs={12} md={12} lg={12}>\n        <TextField\n          id=\"username\"\n          label=\"Username\"\n          name=\"username\"\n          type=\"text\"\n          variant=\"outlined\"\n          value={props.signInfo.username}\n          onChange={props.handleSignInfo}\n          helperText={props.validator.message(\n            \"username\",\n            props.signInfo.username,\n            \"required|min:3|alpha_num\"\n          )}\n        />\n      </Grid>\n      <Grid item className={clsx(classes.item, classes.center)} xs={12} md={12} lg={12}>\n        <TextField\n          id=\"password\"\n          label=\"Password\"\n          name=\"password\"\n          type=\"password\"\n          variant=\"outlined\"\n          value={props.signInfo.password}\n          onChange={props.handleSignInfo}\n          helperText={props.validator.message(\n            \"password\",\n            [props.signInfo.password, props.signInfo.password2],\n            \"required|same|minpass:6\"\n          )}\n        />\n      </Grid>\n      <Grid item className={clsx(classes.item, classes.center)} xs={12} md={12} lg={12}>\n        <TextField\n          id=\"password2\"\n          label=\"Confirm Password\"\n          name=\"password2\"\n          type=\"password\"\n          variant=\"outlined\"\n          value={props.signInfo.password2}\n          onChange={props.handleSignInfo}\n          onKeyPress={e => {\n            if (e.key === \"Enter\") {\n              props.signUp();\n            }\n          }}\n          helperText={props.validator.message(\n            \"password\",\n            [props.signInfo.password2, props.signInfo.password],\n            \"required|same|minpass:6\"\n          )}\n        />\n      </Grid>\n      <Grid item className={clsx(classes.item, classes.center)} xs={12} md={12} lg={12}>\n        <br />\n        <br />\n        <Button variant=\"contained\" color=\"primary\" onClick={props.signUp}>\n          Sign up\n        </Button>\n        <br />\n        <br />\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default NewAccount;\n","import React, { useState } from \"react\";\n\nimport { Typography } from \"@material-ui/core\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport useForceUpdate from \"./useForceUpdate\";\nimport { SET_USER, TOKEN_AUTH } from \"./GQL\";\nimport { useMutation } from \"react-apollo\";\n\nimport NewAccount from \"./NewAccount\";\n\nfunction NewAccountContainer(props: any) {\n  // console.log(\"NewAccount props\", props);\n  const forceUpdate = useForceUpdate();\n\n  const [mutateSetUser] = useMutation(SET_USER);\n  const [mutateTokenAuth] = useMutation(TOKEN_AUTH);\n\n  const [signInfo, setSignInfo] = useState({\n    username: \"\",\n    password: \"\",\n    password2: \"\"\n  });\n\n  const [validator] = useState(new SimpleReactValidator({\n    validators: {\n      same: {\n        message: \"input same password.\",\n        rule: (val: any, params: any) => {\n          // console.log(val, params, validator);\n          for (let i = 0; i < val.length; i++) {\n            for (let j = i + 1; j < val.length; j++) {\n              if (val[i] !== val[j]) {\n                return false;\n              }\n            }\n          }\n          return true;\n        }\n      },\n      minpass: {\n        message: \"input more than :param character\",\n        rule: (val: any, params: any) => {\n          if (val[0].length >= parseInt(params[0])) {\n            return true;\n          }\n          return false;\n        },\n        messageReplace: (msg: any, params: any) => msg.replace(':param', validator.helpers.toSentence(params))\n      }\n    },\n    locale: \"en\",\n    className: \"text-danger\",\n    element: (message: any, className: any) => (\n      <Typography variant=\"caption\" color=\"error\" className={className}>\n        {message}\n      </Typography>\n    )\n  }));\n\n  function sameValidate(val: any) {\n    if (val[0] === val[1]) {\n      return;\n    } else {\n      return (\n        <Typography variant=\"caption\" color=\"error\">\n          Have to be same.\n        </Typography>\n      );\n    }\n  }\n\n  async function newUser(username: string, password: string) {\n    try {\n      await mutateSetUser({\n        variables: { username: username, password: password }\n      })\n    }\n    catch (e) {\n      if (e.toString().indexOf(\"UNIQUE\")) {\n        alert(\"id exist. make another id\")\n      }\n      return false;\n    }\n    return true;\n  }\n\n  function logIn(username: string, password: string) {\n    mutateTokenAuth({\n      variables: { username: username, password: password }\n    }).then(result => {\n      // console.log(result);\n      props.setActiveStep(props.activeStep + 1);\n    });\n  }\n\n  async function signUp() {\n    if (!validator.allValid()) {\n      validator.showMessages();\n      forceUpdate();\n      return;\n    } else {\n      let result = await newUser(signInfo.username, signInfo.password);\n      if (result) {\n        // console.log(result);\n        logIn(signInfo.username, signInfo.password);\n      }\n    }\n  }\n\n  function handleSignInfo(e: React.ChangeEvent<HTMLInputElement>) {\n    setSignInfo({ ...signInfo, [e.target.name]: e.target.value });\n  }\n\n  return (<NewAccount\n    signInfo={signInfo}\n    handleSignInfo={handleSignInfo}\n    validator={validator}\n    signUp={signUp}\n    sameValidate={sameValidate}\n  />);\n}\n\nexport default NewAccountContainer;","import React from \"react\";\nimport { Stepper, Step, StepLabel, Grid, Paper, Button, Typography } from \"@material-ui/core\";\nimport clsx from \"clsx\";\n\nimport useStyles from \"./Style\";\n\nimport VerifyIconContainer from \"./VerifyIconContainer\";\nimport NewAccountContainer from \"./NewAccountContainer\";\n\nfunction SignUp(props: any) {\n  // console.log(\"SingUp props\", props);\n  const classes = useStyles();\n\n  return (\n    <Grid item className={clsx(classes.grid, classes.center)} xs={12} md={12} lg={12}>\n      <Paper className={clsx(classes.paper, classes.center)}>\n        <Grid container className={clsx(classes.container, classes.center)}>\n          <Grid item className={clsx(classes.item, classes.center)} xs={12} md={12} lg={12}>\n            <br />\n            <Stepper activeStep={props.activeStep} alternativeLabel>\n              {props.steps.map((label: any) => (\n                <Step key={label}>\n                  <StepLabel>{label}</StepLabel>\n                </Step>\n              ))}\n            </Stepper>\n            <br />\n            <br />\n          </Grid>\n        </Grid>\n        {props.activeStep === 0 &&\n          <NewAccountContainer activeStep={props.activeStep} setActiveStep={props.setActiveStep} />\n        }\n        {props.activeStep === 1 &&\n          <VerifyIconContainer activeStep={props.activeStep} setActiveStep={props.setActiveStep} />\n        }\n        {props.activeStep === 2 &&\n          <Grid container className={classes.container}>\n            <Grid item className={classes.item} xs={12} md={12} lg={12}>\n              <br />\n              <br />\n              <br />\n              <br />\n              <Typography>Good Job</Typography>\n              <br />\n              <br />\n              <br />\n              <br />\n            </Grid>\n          </Grid>\n        }\n        {props.activeStep === 1 &&\n          <Grid container className={classes.container}>\n            <Grid item className={clsx(classes.item, classes.center)} xs={12} md={12} lg={12}>\n              <Button variant=\"contained\" color=\"primary\" onClick={() => { props.setActiveStep(props.activeStep + 1) }}>\n                Done\n            </Button>\n            </Grid>\n          </Grid>\n        }\n      </Paper>\n    </Grid>\n  );\n}\n\nexport default SignUp;\n","import React from \"react\";\n\nimport SignUp from \"./SignUp\";\n\nfunction SignUpContainer(props: any) {\n  // console.log(\"SingUpContainer props\", props);\n\n  const [activeStep, setActiveStep] = React.useState(0);\n  const steps = ['Sign Up', 'Verify ICON address', 'Confirm'];\n\n  return (<SignUp activeStep={activeStep} setActiveStep={setActiveStep} steps={steps} />)\n}\n\nexport default SignUpContainer;\n","import React from 'react';\nimport { Typography, Link } from '@material-ui/core';\nimport { Twitter, Telegram } from '@material-ui/icons';\n\nfunction Copyright() {\n    return (\n        <>\n            <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n                {'Copyright © '}\n                <Link color=\"inherit\" href=\"https://icon.vote/\">\n                    ICON.Vote{' '}\n                </Link>\n                {new Date().getFullYear()}\n                {'.'}\n                <a href=\"https://t.me/iconvote\" target=\"_blank\" rel=\"noopener noreferrer\"><Telegram width={30} style={{ color: \"#50A8B8\" }} /></a>\n                <a href=\"https://twitter.com/ICONvote\" target=\"_blank\" rel=\"noopener noreferrer\"><Twitter width={30} style={{ color: \"#50A8B8\" }} /></a>\n            </Typography>\n        </>\n    );\n}\n\n\nexport default Copyright;","import React from \"react\";\nimport { Link, Switch, Route } from \"react-router-dom\";\nimport { CssBaseline, AppBar, Toolbar, Typography, Container, Grid, Snackbar, CircularProgress } from \"@material-ui/core\";\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\n\nimport LandingPage from \"./LandingPage\";\nimport HowTo from \"./HowTo\";\nimport VerifyIconContainer from \"./VerifyIconContainer\";\nimport SelectPRepContainer from \"./SelectPRepContainer\";\nimport NoteProposalsContainer from \"./NoteProposalsContainer\";\nimport NoteProposalContainer from \"./NoteProposalContainer\";\nimport ProposalsContainer from \"./ProposalsContainer\";\nimport ProposalContainer from \"./ProposalContainer\";\nimport EditProposalContainer from \"./EditProposalContainer\";\nimport UserInfoContainer from \"./UserInfoContainer\";\nimport SignInContainer from \"./SignInContainer\";\nimport SignUpContainer from \"./SignUpContainer\";\nimport Copyright from \"./Copyright\";\n\nimport useStyles from \"./Style\";\n\nimport iconLogo from \"./img/Logo_horizon.png\"\n\nconst IconTheme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#50A8B8\",\n    },\n  },\n})\n\nfunction Layout(props: any) {\n  // console.log(\"Layout props\", props);\n  const classes = useStyles();\n\n  if (props.loading) return <CircularProgress />;\n  //  if (props.error) return <p>Error...</p>\n  return (\n    <ThemeProvider theme={IconTheme}>\n      <div className={classes.root}>\n        <CssBaseline />\n        <AppBar\n          position=\"absolute\"\n          className={classes.appBar}\n        >\n          <Toolbar className={classes.toolbar}>\n            <Grid container className={classes.container}>\n              <Grid item className={clsx(classes.grid, classes.center, classes.overflowHidden)} xs={3} md={3} lg={3}>\n                <Link to=\"/\" style={{ flexGrow: 1 }}>\n                  <img src={iconLogo} alt=\"ICON Vote\" style={{ maxWidth: \"200px\" }} />\n                </Link>\n              </Grid>\n              <Grid item className={clsx(classes.grid, classes.center, classes.overflowHidden)} xs>\n                <Typography component=\"h6\" variant=\"h6\" color=\"inherit\" noWrap style={{ flexGrow: 1 }}>\n                  <Link to=\"/HowTo\" style={{ textDecoration: 'none', color: \"#FFFFFF\" }}>\n                    How-To\n                  </Link>\n                </Typography>\n              </Grid>\n              <Grid item className={clsx(classes.grid, classes.center, classes.overflowHidden)} xs>\n                <Typography component=\"h6\" variant=\"h6\" color=\"inherit\" noWrap style={{ flexGrow: 1 }}>\n                  <Link to=\"/SelectPRep\" style={{ textDecoration: 'none', color: \"#FFFFFF\" }}>\n                    Vote Explorer\n                  </Link>\n                </Typography>\n              </Grid>\n              {!props.error && props.data && props.data.viewer && props.data.viewer.isPrep &&\n                <Grid item className={clsx(classes.grid, classes.center, classes.overflowHidden)} xs>\n                  <Typography component=\"h6\" variant=\"h6\" color=\"inherit\" noWrap style={{ flexGrow: 1 }}>\n                    <Link to={\"/NoteProposals/\" + props.data.viewer.username} style={{ textDecoration: 'none', color: \"#FFFFFF\" }}>\n                      Launch new votes\n                    </Link>\n                  </Typography>\n                </Grid>\n              }\n              <Grid item className={clsx(classes.grid, classes.center, classes.overflowHidden)} xs>\n                <UserInfoContainer refetch={props.refetch} />\n              </Grid>\n            </Grid>\n          </Toolbar>\n        </AppBar>\n        <div className={classes.content}>\n          <div className={classes.appBarSpacer} />\n          <Container maxWidth=\"lg\" className={classes.rootcontainer}>\n            <Grid container spacing={0}>\n              <Switch>\n                <Route exact path=\"/\" component={LandingPage} />\n                <Route exact path=\"/HowTo\" component={HowTo} />\n                <Route exact path=\"/EditProposal/:proposal_id\" component={EditProposalContainer} />\n                <Route exact path=\"/EditProposal\" component={EditProposalContainer} />\n                <Route exact path=\"/Profile\" component={VerifyIconContainer} />\n                <Route exact path=\"/SelectPRep\" component={SelectPRepContainer} />\n                <Route exact path=\"/NoteProposals/:PRep\" component={NoteProposalsContainer} />\n                <Route exact path=\"/NoteProposal/:PRep/:ID\" component={NoteProposalContainer} />\n                <Route exact path=\"/Proposals/:PRep\" component={ProposalsContainer} />\n                <Route exact path=\"/Proposal/:PRep/:ID\" component={ProposalContainer} />\n                <Route exact path=\"/SignIn\" component={SignInContainer} />\n                <Route exact path=\"/SignUp\" component={SignUpContainer} />\n              </Switch>\n            </Grid>\n          </Container>\n          <Copyright />\n          <Snackbar\n            anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n            autoHideDuration={5000}\n            open={props.open}\n            onClose={props.handleClose}\n            ContentProps={{\n              'aria-describedby': 'message-id',\n            }}\n            message={<span id=\"message-id\">{props.message}</span>}\n          />\n        </div>\n      </div>\n    </ThemeProvider >\n  );\n}\n\nexport default Layout;\n","import React from \"react\";\n\nimport { useQuery, useApolloClient } from \"@apollo/react-hooks\";\nimport { GET_VIEWER, GET_LOCAL_SNACK } from \"./GQL\";\n\nimport Layout from \"./Layout\";\n\nfunction LayoutContainer(props: any) {\n  // console.log(\"LayoutContainer props\", props);\n  const client = useApolloClient();\n\n  const noSnack = { open: false, message: \"\" };\n  const querySnack = useQuery(GET_LOCAL_SNACK);\n  // console.log(\"querySnack\", querySnack);\n\n  const handleClose = (\n    event: React.SyntheticEvent | React.MouseEvent,\n    reason?: string\n  ) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    client.writeData({\n      data: { snack: { open: false, message: \"\", __typename: \"snack\" } }\n    });\n  };\n\n  const queryVal = useQuery(GET_VIEWER);\n  // console.log(\"queryVal\", queryVal);\n\n  let snack = noSnack;\n  if (!querySnack.loading && !querySnack.error && querySnack.data) {\n    snack = querySnack.data.snack;\n    if (snack.open) {\n      queryVal.refetch();\n    }\n  }\n  if (!queryVal.loading && !queryVal.error && queryVal.data) {\n    client.writeData({ data: { viewer: queryVal.data.viewer } });\n  }\n\n  return <Layout {...queryVal} {...snack} handleClose={handleClose} />;\n}\n\nexport default LayoutContainer;\n","import React from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport ApolloClient from \"apollo-boost\";\nimport { ApolloProvider } from \"react-apollo\";\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\n\nimport { GET_VIEWER } from \"./GQL\";\n\nimport Cookies from \"js-cookie\";\n\nimport { jsonRpcCall, governanceCall } from \"./IconConnect\";\nimport LayoutContainer from \"./LayoutContainer\";\nimport { graphqlURL, csrfURL } from \"./Config\";\n\nconst queryResolver = {\n  get_proposals: async (obj: any, args: any, context: any, info: any) => {\n    // console.log(\"get_proposals\", context);\n    let jsonResult;\n    try {\n      const result = await jsonRpcCall(\"get_proposals\", {\n        _proposer: args._proposer,\n        _start_proposal_id: args._start_proposal_id.toString(),\n        _end_proposal_id: args._end_proposal_id.toString()\n      });\n      jsonResult = JSON.parse(result);\n    } catch {\n      jsonResult = [];\n    }\n    let ret = [];\n    for (let i = 0; i < jsonResult.length; i++) {\n      jsonResult[i][\"__typename\"] = \"proposal\";\n      const select_item = JSON.parse(jsonResult[i].select_item);\n      jsonResult[i].select_item = select_item;\n      ret.push(jsonResult[i]);\n    }\n    ret = await ret.reverse();\n    return ret;\n  },\n  get_proposal: async (obj: any, args: any, context: any, info: any) => {\n    // console.log(\"get_proposal\");\n    const result = await jsonRpcCall(\"get_proposal\", {\n      _proposer: args._proposer,\n      _proposal_id: args._proposal_id\n    });\n    const jsonResult = JSON.parse(result);\n    jsonResult[\"__typename\"] = \"proposal\";\n    const select_item = JSON.parse(jsonResult.select_item);\n    jsonResult.select_item = select_item;\n    return jsonResult;\n  },\n  get_verify_info_by_id: async (obj: any, args: any, context: any, info: any) => {\n    // console.log(\"get_verify_info_by_id\");\n    const result = await jsonRpcCall(\"get_verify_info_by_id\", {\n      _id: args._id\n    });\n    result[\"__typename\"] = \"PRep\";\n    return result;\n  },\n  get_last_proposal_id: async (obj: any, args: any, context: any, info: any) => {\n    // console.log(\"get_last_proposal_id\");\n    const result = await jsonRpcCall(\"get_last_proposal_id\", {\n      _proposer: args._proposer\n    });\n    return parseInt(result);\n  },\n  get_votes: async (obj: any, args: any, context: any, info: any) => {\n    // console.log(\"get_votes\");\n    const result = await jsonRpcCall(\"get_votes\", {\n      _proposer: args._proposer,\n      _proposal_id: args._proposal_id\n    });\n    const votes = JSON.parse(result).vote;\n    votes[\"__typename\"] = \"votes\";\n    let ret = [];\n    for (let i = 0; i < votes.length; i++) {\n      votes[i][\"__typename\"] = \"vote\";\n      ret.push(votes[i]);\n    }\n    return ret;\n  },\n  get_prep_info_by_id: async (obj: any, args: any, context: any, info: any) => {\n    // console.log(\"get_prep_info_by_id\");\n    const verifyInfoResult = await jsonRpcCall(\"get_verify_info_by_id\", {\n      _id: args._proposer\n    });\n    // console.log(\"verifyInfoResult\", verifyInfoResult);\n    try {\n      const verifyInfoJson = JSON.parse(verifyInfoResult);\n      // console.log(\"verifyInfoJson\", verifyInfoJson);\n      const result = await governanceCall(\"getPRep\", {\n        address: verifyInfoJson.address\n      });\n      result[\"__typename\"] = \"PRep\";\n      return result;\n\n    } catch {\n      throw Error(\"not verified\");\n    }\n  },\n  get_prep_info_by_address: async (obj: any, args: any, context: any, info: any) => {\n    // console.log(\"get_prep_info_by_address\");\n    const result = await governanceCall(\"getPRep\", {\n      address: args._address\n    });\n    result[\"__typename\"] = \"PRep\";\n    return result;\n  },\n  get_delegation: async (obj: any, args: any, context: any, info: any) => {\n    // console.log(\"get_delegation\");\n    const delegateResp = await governanceCall(\"getDelegation\", {\n      address: args._address\n    });\n    return delegateResp;\n  },\n  get_voted_power_rates: async (obj: any, args: any, context: any, info: any) => {\n    // console.log(\"get_voted_power_rates\");\n    const votes = await queryResolver.get_votes(obj, args, context, info);\n    const proposal = await queryResolver.get_proposal(obj, args, context, info);\n    const pages = await queryResolver.get_pages(obj, args, context, info);\n\n    // console.log(\"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\");\n    // console.log(\"votes\", votes);\n    // console.log(\"proposal\", proposal);\n    // console.log(\"pages\", pages);\n\n    let totalVotedPower = 0;\n\n    let votedPowerRate = [];\n    for (let i = 0; i < proposal.select_item.length; i++) {\n      const r: any[] = [];\n      votedPowerRate[i] = { item: proposal.select_item[i], voteList: r, votedPower: 0 };\n    }\n\n    for (let i = 0; i < votes.length; i++) {\n      const aVote = votes[i];\n\n      if (votedPowerRate[aVote.selectItem]) {\n        votedPowerRate[aVote.selectItem].voteList.push(aVote);\n      } else {\n        votedPowerRate[aVote.selectItem].voteList = [aVote];\n      }\n    }\n\n    let communityPage = false;\n    for (let i = 0; i < pages.length; i++) {\n      if (communityPage === false && args._proposer === pages[i]) {\n        communityPage = true;\n      }\n    }\n\n    for (let i = 0; i < votedPowerRate.length; i++) {\n      let votingPowerSum = 0;\n      for (let j = 0; j < votedPowerRate[i].voteList.length; j++) {\n        if (communityPage) {\n          let delegateList;\n          try {\n            const delegateResp = await governanceCall(\"getDelegation\", {\n              address: votedPowerRate[i].voteList[j].voter\n            });\n            delegateList = delegateResp.delegations;\n          } catch {\n            delegateList = [];\n          }\n          for (let i = 0; i < delegateList.length; i++) {\n            votingPowerSum += parseInt(delegateList[i].value, 16);\n          }\n        }\n        else if (proposal.status === \"Voting\") {\n          const votingPower = await queryResolver.get_voting_power(\n            obj,\n            { _proposer: args._proposer, _user: votedPowerRate[i].voteList[j].voter },\n            context,\n            info\n          );\n          votingPowerSum += votingPower;\n        }\n        else {\n          votingPowerSum += votedPowerRate[i].voteList[j].delegateAmount;\n        }\n      }\n\n      votedPowerRate[i].votedPower = votingPowerSum;\n      totalVotedPower += votingPowerSum;\n    }\n\n    // console.log(\"VotedPowerRate!!!!\", votedPowerRate, totalVotedPower);\n    return {\n      votedPowerRate: votedPowerRate,\n      totalVotedPower: totalVotedPower\n    };\n  },\n  get_delegation_by_id: async (obj: any, args: any, context: any, info: any) => {\n    // console.log(\"get_delegation_by_id\");\n    const verifyInfoResult = await jsonRpcCall(\"get_verify_info_by_id\", {\n      _id: args._id\n    });\n    const verifyInfoJson = JSON.parse(verifyInfoResult);\n    // console.log(\"!!!!!!!!!!!!!!!!!!!!!!!!!!\");\n    // console.log(\"verify info \", verifyInfoJson);\n    const delegateResp = await governanceCall(\"getDelegation\", {\n      address: verifyInfoJson.address\n    });\n    return delegateResp;\n  },\n  get_voting_power: async (obj: any, args: any, context: any, info: any) => {\n    // console.log(\"get_voting_power\", args);\n    const verifyInfoResult = await jsonRpcCall(\"get_verify_info_by_id\", {\n      _id: args._proposer\n    });\n    // console.log(\"verifyInfoResult\", verifyInfoResult);\n    let verifyInfoJson;\n    try {\n      verifyInfoJson = JSON.parse(verifyInfoResult);\n      // console.log(\"verifyInfoJson\", verifyInfoJson);\n    } catch {\n      verifyInfoJson = { address: \"\" };\n    }\n\n    let delegateList;\n    try {\n      const delegateResp = await governanceCall(\"getDelegation\", {\n        address: args._user\n      });\n      delegateList = delegateResp.delegations;\n    } catch {\n      delegateList = [];\n    }\n    if (verifyInfoJson.address) {\n      for (let i = 0; i < delegateList.length; i++) {\n        if (delegateList[i].address === verifyInfoJson.address) {\n          let myVotingPower = parseInt(delegateList[i].value, 16);\n          myVotingPower = myVotingPower / 1000000000000000000;\n          return myVotingPower;\n        }\n      }\n    }\n    else {\n      let myVotingPower = 0;\n      for (let i = 0; i < delegateList.length; i++) {\n        if (delegateList[i].address === verifyInfoJson.address) {\n          let votingPower = parseInt(delegateList[i].value, 16);\n          myVotingPower = votingPower / 1000000000000000000;\n        }\n      }\n      return myVotingPower;\n    }\n    return 0;\n  },\n  get_my_voting_power: async (obj: any, args: any, context: any, info: any) => {\n    // console.log(\"get_my_voting_power\", args);\n    const viewer = await context.client.query({ query: GET_VIEWER });\n    // console.log(viewer);\n\n    let delegateList;\n    try {\n      const delegateResp = await governanceCall(\"getDelegation\", {\n        address: viewer.data.viewer.iconAddress\n      });\n      delegateList = delegateResp.delegations;\n    } catch {\n      delegateList = [];\n    }\n\n    // console.log(\"delegateList\", delegateList);\n\n    try {\n      const verifyInfoResult = await jsonRpcCall(\"get_verify_info_by_id\", {\n        _id: args._proposer\n      });\n      // console.log(\"verify info result\", verifyInfoResult);\n      const verifyInfoJson = JSON.parse(verifyInfoResult);\n      // console.log(\"verify info json\", verifyInfoJson);\n\n      for (let i = 0; i < delegateList.length; i++) {\n        if (delegateList[i].address === verifyInfoJson.address) {\n          let myVotingPower = parseInt(delegateList[i].value, 16);\n          myVotingPower = myVotingPower / 1000000000000000000;\n          return myVotingPower;\n        }\n      }\n    } catch {\n      let totalVotingPower = 0;\n      for (let i = 0; i < delegateList.length; i++) {\n        let votingPower = parseInt(delegateList[i].value, 16);\n        totalVotingPower += votingPower / 1000000000000000000;\n      }\n      return totalVotingPower;\n    }\n  },\n  get_preps: async (obj: any, args: any, context: any, info: any) => {\n    // console.log(\"get_preps\", args);\n\n    const registeredPReps = await jsonRpcCall(\"get_preps\", {});\n    const pReps = await governanceCall(\"getPReps\", {});\n\n    for (let i = 0; i < registeredPReps.length; i++) {\n      registeredPReps[i]['__typename'] = \"PRepInfo\";\n      registeredPReps[i]['pRepName'] = registeredPReps[i].username;\n      for (let j = 0; j < pReps.preps.length; j++) {\n        if (registeredPReps[i].address === pReps.preps[j].address) {\n          registeredPReps[i]['pRepName'] = pReps.preps[j].name;\n          break;\n        }\n      }\n    }\n    return registeredPReps;\n  },\n  get_pages: async (obj: any, args: any, context: any, info: any) => {\n    // console.log(\"get_pages\", args);\n\n    const registeredPages = await jsonRpcCall(\"get_pages\", {});\n\n    return registeredPages;\n  }\n};\n\nconst client = new ApolloClient({\n  uri: graphqlURL,\n  // tell apollo to include credentials for csrf token protection\n  credentials: \"include\",\n  // async operation with fetch to get csrf token\n  request: async operation => {\n    let csrf = Cookies.get(\"csrftoken\");\n    if (csrf === undefined) {\n      let csrftoken = await fetch(csrfURL)\n        .then(response => response.json())\n        .then(data => data.csrfToken);\n      // set the cookie 'csrftoken'\n      Cookies.set(\"csrftoken\", csrftoken);\n      csrf = csrftoken;\n    }\n    operation.setContext({\n      // set the 'X-CSRFToken' header to the csrftoken\n      headers: {\n        \"X-CSRFToken\": csrf\n      }\n    });\n  },\n  cache: new InMemoryCache(),\n  clientState: {\n    defaults: {\n      data: {\n        username: \"\",\n        email: \"\",\n        photo: \"\",\n        icon_address: \"\",\n        snack: { open: false, message: \"\", __typename: \"snack\" },\n        __typename: \"user\"\n      }\n    },\n    resolvers: {\n      Query: queryResolver\n    },\n    typeDefs: `\n      type proposal {\n        ID: String!\n        address:String\n        subject: String!\n        contents:String!\n        electoral_threshold:String\n        winning_threshold:String\n        status: String!\n        expire_date:String!\n        select_item: String!\n        transaction:String\n        final:String\n        winner: String\n      }\n\n      type vote {\n        voter: String\n        selectItem: Int\n        voteTxHash: String\n        delegateTxID: String\n        delegateAmount: Int\n      }\n\n      type PRep {\n        address: String\n        status: String\n        penalty: String\n        grade: String\n        name: String\n        country: String\n        city: String\n        stake: String\n        delegated: String\n        totalBlocks: String\n        validatedBlocks: String\n        unvalidatedSequenceBlocks: String\n        irep: String\n        irepUpdateBlockHeight: String\n        lastGenerateBlockHeight: String\n        blockHeight: String\n        txIndex: String\n        email: String\n        website: String\n        details: String\n        p2pEndpoint: String\n      }\n\n      type pRepInfo {\n        id: String\n        address: String\n      }\n\n      type Query {\n        get_proposals(proposer:String!, currPage:Int!, perPage:Int!): [proposal]\n        get_proposal(proposer:String!, proposal_id:Int!): proposal\n        get_votes(proposer:String!, proposal_id:Int!): [vote]\n        get_verify_info_by_id(id:String!):String\n        get_prep_info_by_id(id:String!):PRep\n        get_prep_info_by_address(address:String!):PRep\n        get_voting_power(proposer:String!, address:String!):Int\n        get_preps():[pRepInfo]\n      }\n    `\n  }\n});\n\nfunction App(props: any) {\n  return (\n    <BrowserRouter>\n      <ApolloProvider client={client}>\n        <LayoutContainer />\n      </ApolloProvider>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              // console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}